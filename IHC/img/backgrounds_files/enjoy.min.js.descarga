function XbEmbedAuth(a,b){if(!(this instanceof XbEmbedAuth))throw new TypeError("Constructor cannot be called as a function.");if(!$)throw"XbEmbedAuth: jQuery is not defined!";var c=document.location.origin;if(this.defaultConfig={el:"body",frameId:"xb_auth_frame",domains:{login:c,app:c},frameUrl:c,overlayColor:"rgba(35, 136, 219, 0.8)",activeButtons:[],onFrameLoaded:function(){},onFrameOpened:function(){},onFrameClosed:function(){}},"object"==typeof a)if($.extend(!0,this.defaultConfig,a),"string"==typeof b){var d=this;$.ajax({url:b,success:function(a){$.extend(!0,d.defaultConfig,a),d.init()},dataType:"json"})}else this.init();else if("string"==typeof a){var d=this;$.ajax({url:a,success:function(a){$.extend(!0,d.defaultConfig,a),d.init()},dataType:"json"})}else this.init()}!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=_.type(a);return"function"===c||_.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(_.isFunction(b))return _.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return _.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(hb.test(b))return _.filter(b,a,c);b=_.filter(b,a)}return _.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=ob[a]={};return _.each(a.match(nb)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),_.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ub,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:tb.test(c)?_.parseJSON(c):c}catch(e){}sb.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return _.nodeName(a,"table")&&_.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Kb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;d>c;c++)rb.set(a[c],"globalEval",!b||rb.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(rb.hasData(a)&&(f=rb.access(a),g=rb.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)_.event.add(b,e,j[e][c])}sb.hasData(a)&&(h=sb.access(a),i=_.extend({},h),sb.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&_.nodeName(a,b)?_.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&yb.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=_(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:_.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=Ob[a];return c||(c=t(a,b),"none"!==c&&c||(Nb=(Nb||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Nb[0].contentDocument,b.write(),b.close(),c=t(a,b),Nb.detach()),Ob[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Rb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||_.contains(a.ownerDocument,a)||(g=_.style(a,b)),Qb.test(g)&&Pb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Xb.length;e--;)if(b=Xb[e]+c,b in a)return b;return d}function y(a,b,c){var d=Tb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=_.css(a,c+wb[f],!0,e)),d?("content"===c&&(g-=_.css(a,"padding"+wb[f],!0,e)),"margin"!==c&&(g-=_.css(a,"border"+wb[f]+"Width",!0,e))):(g+=_.css(a,"padding"+wb[f],!0,e),"padding"!==c&&(g+=_.css(a,"border"+wb[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Rb(a),g="border-box"===_.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=v(a,b,f),(0>e||null==e)&&(e=a.style[b]),Qb.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=rb.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&xb(d)&&(f[g]=rb.access(d,"olddisplay",u(d.nodeName)))):(e=xb(d),"none"===c&&e||rb.set(d,"olddisplay",e?c:_.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Yb=void 0}),Yb=_.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=wb[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(cc[b]||[]).concat(cc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&xb(a),p=rb.get(a,"fxshow");c.queue||(h=_._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,_.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=_.css(a,"display"),k="none"===j?rb.get(a,"olddisplay")||u(a.nodeName):j,"inline"===k&&"none"===_.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],$b.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||_.style(a,d)}else j=void 0;if(_.isEmptyObject(m))"inline"===("none"===j?u(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=rb.access(a,"fxshow",{}),f&&(p.hidden=!o),o?_(a).show():l.done(function(){_(a).hide()}),l.done(function(){var b;rb.remove(a,"fxshow");for(b in m)_.style(a,b,m[b])});for(d in m)g=F(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=_.camelCase(c),e=b[d],f=a[c],_.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=_.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=bc.length,h=_.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Yb||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Yb||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=_.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);g>f;f++)if(d=bc[f].call(j,a,k,j.opts))return d;return _.map(k,F,j),_.isFunction(j.opts.start)&&j.opts.start.call(a,j),_.fx.timer(_.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(nb)||[];if(_.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,_.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===tc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=_.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&_.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(_.isArray(b))_.each(b,function(b,e){c||yc.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==_.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return _.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$="2.1.3",_=function(a,b){return new _.fn.init(a,b)},ab=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bb=/^-ms-/,cb=/-([\da-z])/gi,db=function(a,b){return b.toUpperCase()};_.fn=_.prototype={jquery:$,constructor:_,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=_.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return _.each(this,a,b)},map:function(a){return this.pushStack(_.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},_.extend=_.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||_.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(_.isPlainObject(d)||(e=_.isArray(d)))?(e?(e=!1,f=c&&_.isArray(c)?c:[]):f=c&&_.isPlainObject(c)?c:{},g[b]=_.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},_.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===_.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!_.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==_.type(a)||a.nodeType||_.isWindow(a)?!1:a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=_.trim(a),a&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(bb,"ms-").replace(cb,db)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ab,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?_.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),_.isFunction(a)?(d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||_.guid++,e):void 0},now:Date.now,support:Y}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var eb=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sb.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ub,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=tb.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ib,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?ab(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return ab(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ib,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,ab=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},bb="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",cb="[\\x20\\t\\r\\n\\f]",db="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",eb=db.replace("w","w#"),fb="\\["+cb+"*("+db+")(?:"+cb+"*([*^$|!~]?=)"+cb+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+eb+"))|)"+cb+"*\\]",gb=":("+db+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fb+")*)|.*)\\)|)",hb=new RegExp(cb+"+","g"),ib=new RegExp("^"+cb+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cb+"+$","g"),jb=new RegExp("^"+cb+"*,"+cb+"*"),kb=new RegExp("^"+cb+"*([>+~]|"+cb+")"+cb+"*"),lb=new RegExp("="+cb+"*([^\\]'\"]*?)"+cb+"*\\]","g"),mb=new RegExp(gb),nb=new RegExp("^"+eb+"$"),ob={ID:new RegExp("^#("+db+")"),CLASS:new RegExp("^\\.("+db+")"),TAG:new RegExp("^("+db.replace("w","w*")+")"),ATTR:new RegExp("^"+fb),PSEUDO:new RegExp("^"+gb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cb+"*(even|odd|(([+-]|)(\\d*)n|)"+cb+"*(?:([+-]|)"+cb+"*(\\d+)|))"+cb+"*\\)|)","i"),bool:new RegExp("^(?:"+bb+")$","i"),needsContext:new RegExp("^"+cb+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cb+"*((?:-\\d)?\\d*)"+cb+"*\\)|)(?=[^-]|$)","i")},pb=/^(?:input|select|textarea|button)$/i,qb=/^h\d$/i,rb=/^[^{]+\{\s*\[native \w/,sb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tb=/[+~]/,ub=/'|\\/g,vb=new RegExp("\\\\([\\da-f]{1,6}"+cb+"?|("+cb+")|.)","ig"),wb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xb=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(yb){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xb,!1):c.attachEvent&&c.attachEvent("onunload",xb)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=rb.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=rb.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+cb+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+cb+"*(?:value|"+bb+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+cb+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=rb.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",gb)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=rb.test(H.compareDocumentPosition),M=b||rb.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?ab(D,a)-ab(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?ab(D,a)-ab(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(lb,"='$1']"),!(!v.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:ob,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(vb,wb),a[3]=(a[3]||a[4]||a[5]||"").replace(vb,wb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return ob.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&mb.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(vb,wb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+cb+")"+a+"("+cb+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(hb," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=ab(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ib,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(vb,wb),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return nb.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(vb,wb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qb.test(a.nodeName)},input:function(a){return pb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=jb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=kb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ib," ")}),h=h.slice(d.length));for(g in w.filter)!(e=ob[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(vb,wb),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=ob.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(vb,wb),tb.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,tb.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")
})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(bb,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);_.find=eb,_.expr=eb.selectors,_.expr[":"]=_.expr.pseudos,_.unique=eb.uniqueSort,_.text=eb.getText,_.isXMLDoc=eb.isXML,_.contains=eb.contains;var fb=_.expr.match.needsContext,gb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,hb=/^.[^:#\[\.,]*$/;_.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?_.find.matchesSelector(d,a)?[d]:[]:_.find.matches(a,_.grep(b,function(a){return 1===a.nodeType}))},_.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(_(a).filter(function(){for(b=0;c>b;b++)if(_.contains(e[b],this))return!0}));for(b=0;c>b;b++)_.find(a,e[b],d);return d=this.pushStack(c>1?_.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fb.test(a)?_(a):a||[],!1).length}});var ib,jb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,kb=_.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:jb.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ib).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),gb.test(c[1])&&_.isPlainObject(b))for(c in b)_.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):_.isFunction(a)?"undefined"!=typeof ib.ready?ib.ready(a):a(_):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),_.makeArray(a,this))};kb.prototype=_.fn,ib=_(Z);var lb=/^(?:parents|prev(?:Until|All))/,mb={children:!0,contents:!0,next:!0,prev:!0};_.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&_(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),_.fn.extend({has:function(a){var b=_(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(_.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fb.test(a)||"string"!=typeof a?_(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&_.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?_.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(_(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(_.unique(_.merge(this.get(),_(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),_.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return _.dir(a,"parentNode")},parentsUntil:function(a,b,c){return _.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return _.dir(a,"nextSibling")},prevAll:function(a){return _.dir(a,"previousSibling")},nextUntil:function(a,b,c){return _.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return _.dir(a,"previousSibling",c)},siblings:function(a){return _.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return _.sibling(a.firstChild)},contents:function(a){return a.contentDocument||_.merge([],a.childNodes)}},function(a,b){_.fn[a]=function(c,d){var e=_.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=_.filter(d,e)),this.length>1&&(mb[a]||_.unique(e),lb.test(a)&&e.reverse()),this.pushStack(e)}});var nb=/\S+/g,ob={};_.Callbacks=function(a){a="string"==typeof a?ob[a]||f(a):_.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){_.each(b,function(b,c){var d=_.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&_.each(arguments,function(a,b){for(var c;(c=_.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?_.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},_.extend({Deferred:function(a){var b=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return _.Deferred(function(c){_.each(b,function(b,f){var g=_.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&_.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?_.extend(a,d):d}},e={};return d.pipe=d.then,_.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&_.isFunction(a.promise)?g:0,i=1===h?a:_.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&_.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var pb;_.fn.ready=function(a){return _.ready.promise().done(a),this},_.extend({isReady:!1,readyWait:1,holdReady:function(a){a?_.readyWait++:_.ready(!0)},ready:function(a){(a===!0?--_.readyWait:_.isReady)||(_.isReady=!0,a!==!0&&--_.readyWait>0||(pb.resolveWith(Z,[_]),_.fn.triggerHandler&&(_(Z).triggerHandler("ready"),_(Z).off("ready"))))}}),_.ready.promise=function(b){return pb||(pb=_.Deferred(),"complete"===Z.readyState?setTimeout(_.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),pb.promise(b)},_.ready.promise();var qb=_.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===_.type(c)){e=!0;for(h in c)_.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,_.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(_(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};_.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=_.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,_.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(_.isEmptyObject(f))_.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,_.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{_.isArray(b)?d=b.concat(b.map(_.camelCase)):(e=_.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(nb)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!_.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var rb=new h,sb=new h,tb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ub=/([A-Z])/g;_.extend({hasData:function(a){return sb.hasData(a)||rb.hasData(a)},data:function(a,b,c){return sb.access(a,b,c)},removeData:function(a,b){sb.remove(a,b)},_data:function(a,b,c){return rb.access(a,b,c)},_removeData:function(a,b){rb.remove(a,b)}}),_.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=sb.get(f),1===f.nodeType&&!rb.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=_.camelCase(d.slice(5)),i(f,d,e[d])));rb.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){sb.set(this,a)}):qb(this,function(b){var c,d=_.camelCase(a);if(f&&void 0===b){if(c=sb.get(f,a),void 0!==c)return c;if(c=sb.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=sb.get(this,d);sb.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&sb.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sb.remove(this,a)})}}),_.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=rb.get(a,b),c&&(!d||_.isArray(c)?d=rb.access(a,b,_.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=_.queue(a,b),d=c.length,e=c.shift(),f=_._queueHooks(a,b),g=function(){_.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return rb.get(a,c)||rb.access(a,c,{empty:_.Callbacks("once memory").add(function(){rb.remove(a,[b+"queue",c])})})}}),_.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?_.queue(this[0],a):void 0===b?this:this.each(function(){var c=_.queue(this,a,b);_._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&_.dequeue(this,a)})},dequeue:function(a){return this.each(function(){_.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=_.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=rb.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var vb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wb=["Top","Right","Bottom","Left"],xb=function(a,b){return a=b||a,"none"===_.css(a,"display")||!_.contains(a.ownerDocument,a)},yb=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var zb="undefined";Y.focusinBubbles="onfocusin"in a;var Ab=/^key/,Bb=/^(?:mouse|pointer|contextmenu)|click/,Cb=/^(?:focusinfocus|focusoutblur)$/,Db=/^([^.]*)(?:\.(.+)|)$/;_.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=rb.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=_.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof _!==zb&&_.event.triggered!==b.type?_.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(nb)||[""],j=b.length;j--;)h=Db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=_.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=_.event.special[n]||{},k=_.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&_.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),_.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=rb.hasData(a)&&rb.get(a);if(q&&(i=q.events)){for(b=(b||"").match(nb)||[""],j=b.length;j--;)if(h=Db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=_.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||_.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)_.event.remove(a,n+b[j],c,d,!0);_.isEmptyObject(i)&&(delete q.handle,rb.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!Cb.test(n+_.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[_.expando]?b:new _.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:_.makeArray(c,[b]),l=_.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!_.isWindow(d)){for(i=l.delegateType||n,Cb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(rb.get(g,"events")||{})[b.type]&&rb.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&_.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!_.acceptData(d)||j&&_.isFunction(d[n])&&!_.isWindow(d)&&(h=d[j],h&&(d[j]=null),_.event.triggered=n,d[n](),_.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=_.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(rb.get(this,"events")||{})[a.type]||[],j=_.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=_.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((_.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?_(e,this).index(i)>=0:_.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[_.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Bb.test(e)?this.mouseHooks:Ab.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new _.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&_.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return _.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=_.extend(new _.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?_.event.trigger(e,null,b):_.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},_.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},_.Event=function(a,b){return this instanceof _.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?j:k):this.type=a,b&&_.extend(this,b),this.timeStamp=a&&a.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(a,b)},_.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){_.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!_.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){_.event.simulate(b,a.target,_.event.fix(a),!0)};_.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=rb.access(d,b);e||d.addEventListener(a,c,!0),rb.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=rb.access(d,b)-1;e?rb.access(d,b,e):(d.removeEventListener(a,c,!0),rb.remove(d,b))}}}),_.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return _().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=_.guid++)),this.each(function(){_.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,_(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=k),this.each(function(){_.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){_.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?_.event.trigger(a,b,c,!0):void 0}});var Eb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fb=/<([\w:]+)/,Gb=/<|&#?\w+;/,Hb=/<(?:script|style|link)/i,Ib=/checked\s*(?:[^=]|=\s*.checked.)/i,Jb=/^$|\/(?:java|ecma)script/i,Kb=/^true\/(.*)/,Lb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Mb={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Mb.optgroup=Mb.option,Mb.tbody=Mb.tfoot=Mb.colgroup=Mb.caption=Mb.thead,Mb.th=Mb.td,_.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=_.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||_.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;e>d;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;e>d;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===_.type(e))_.merge(l,e.nodeType?[e]:e);else if(Gb.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Fb.exec(e)||["",""])[1].toLowerCase(),h=Mb[g]||Mb._default,f.innerHTML=h[1]+e.replace(Eb,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;_.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===_.inArray(e,d))&&(i=_.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Jb.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=_.event.special,g=0;void 0!==(c=a[g]);g++){if(_.acceptData(c)&&(e=c[rb.expando],e&&(b=rb.cache[e]))){if(b.events)for(d in b.events)f[d]?_.event.remove(c,d):_.removeEvent(c,d,b.handle);rb.cache[e]&&delete rb.cache[e]}delete sb.cache[c[sb.expando]]}}}),_.fn.extend({text:function(a){return qb(this,function(a){return void 0===a?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?_.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||_.cleanData(r(c)),c.parentNode&&(b&&_.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(_.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return _.clone(this,a,b)})},html:function(a){return qb(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Hb.test(a)&&!Mb[(Fb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Eb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(_.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,_.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=_.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Ib.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=_.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=_.map(r(c,"script"),n),f=e.length;j>i;i++)g=c,i!==l&&(g=_.clone(g,!0,!0),f&&_.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,_.map(e,o),i=0;f>i;i++)g=e[i],Jb.test(g.type||"")&&!rb.access(g,"globalEval")&&_.contains(h,g)&&(g.src?_._evalUrl&&_._evalUrl(g.src):_.globalEval(g.textContent.replace(Lb,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){_.fn[a]=function(a){for(var c,d=[],e=_(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),_(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Nb,Ob={},Pb=/^margin/,Qb=new RegExp("^("+vb+")(?!px)[a-z%]+$","i"),Rb=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&_.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.removeChild(c),b}}))}(),_.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Sb=/^(none|table(?!-c[ea]).+)/,Tb=new RegExp("^("+vb+")(.*)$","i"),Ub=new RegExp("^([+-])=("+vb+")","i"),Vb={position:"absolute",visibility:"hidden",display:"block"},Wb={letterSpacing:"0",fontWeight:"400"},Xb=["Webkit","O","Moz","ms"];_.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=_.camelCase(b),i=a.style;return b=_.cssProps[h]||(_.cssProps[h]=x(i,h)),g=_.cssHooks[b]||_.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ub.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(_.css(a,b)),f="number"),void(null!=c&&c===c&&("number"!==f||_.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=_.camelCase(b);return b=_.cssProps[h]||(_.cssProps[h]=x(a.style,h)),g=_.cssHooks[b]||_.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Wb&&(e=Wb[b]),""===c||c?(f=parseFloat(e),c===!0||_.isNumeric(f)?f||0:e):e}}),_.each(["height","width"],function(a,b){_.cssHooks[b]={get:function(a,c,d){return c?Sb.test(_.css(a,"display"))&&0===a.offsetWidth?_.swap(a,Vb,function(){return A(a,b,d)}):A(a,b,d):void 0},set:function(a,c,d){var e=d&&Rb(a);return y(a,c,d?z(a,b,d,"border-box"===_.css(a,"boxSizing",!1,e),e):0)}}}),_.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){return b?_.swap(a,{display:"inline-block"},v,[a,"marginRight"]):void 0}),_.each({margin:"",padding:"",border:"Width"},function(a,b){_.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+wb[d]+b]=f[d]||f[d-2]||f[0];return e}},Pb.test(a)||(_.cssHooks[a+b].set=y)}),_.fn.extend({css:function(a,b){return qb(this,function(a,b,c){var d,e,f={},g=0;if(_.isArray(b)){for(d=Rb(a),e=b.length;e>g;g++)f[b[g]]=_.css(a,b[g],!1,d);return f}return void 0!==c?_.style(a,b,c):_.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){xb(this)?_(this).show():_(this).hide()})}}),_.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(_.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.pos=b=this.options.duration?_.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=_.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){_.fx.step[a.prop]?_.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[_.cssProps[a.prop]]||_.cssHooks[a.prop])?_.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},_.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},_.fx=C.prototype.init,_.fx.step={};var Yb,Zb,$b=/^(?:toggle|show|hide)$/,_b=new RegExp("^(?:([+-])=|)("+vb+")([a-z%]*)$","i"),ac=/queueHooks$/,bc=[G],cc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=_b.exec(b),f=e&&e[3]||(_.cssNumber[a]?"":"px"),g=(_.cssNumber[a]||"px"!==f&&+d)&&_b.exec(_.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,_.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};_.Animation=_.extend(I,{tweener:function(a,b){_.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cc[c]=cc[c]||[],cc[c].unshift(b)},prefilter:function(a,b){b?bc.unshift(a):bc.push(a)}}),_.speed=function(a,b,c){var d=a&&"object"==typeof a?_.extend({},a):{complete:c||!c&&b||_.isFunction(a)&&a,duration:a,easing:c&&b||b&&!_.isFunction(b)&&b};return d.duration=_.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in _.fx.speeds?_.fx.speeds[d.duration]:_.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){_.isFunction(d.old)&&d.old.call(this),d.queue&&_.dequeue(this,d.queue)},d},_.fn.extend({fadeTo:function(a,b,c,d){return this.filter(xb).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=_.isEmptyObject(a),f=_.speed(b,c,d),g=function(){var b=I(this,_.extend({},a),f);
(e||rb.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=_.timers,g=rb.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ac.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&_.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=rb.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=_.timers,g=d?d.length:0;for(c.finish=!0,_.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),_.each(["toggle","show","hide"],function(a,b){var c=_.fn[b];_.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),_.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){_.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),_.timers=[],_.fx.tick=function(){var a,b=0,c=_.timers;for(Yb=_.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||_.fx.stop(),Yb=void 0},_.fx.timer=function(a){_.timers.push(a),a()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Zb||(Zb=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Zb),Zb=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(a,b){return a=_.fx?_.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var dc,ec,fc=_.expr.attrHandle;_.fn.extend({attr:function(a,b){return qb(this,_.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){_.removeAttr(this,a)})}}),_.extend({attr:function(a,b,c){var d,e,f=a.nodeType;return a&&3!==f&&8!==f&&2!==f?typeof a.getAttribute===zb?_.prop(a,b,c):(1===f&&_.isXMLDoc(a)||(b=b.toLowerCase(),d=_.attrHooks[b]||(_.expr.match.bool.test(b)?ec:dc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=_.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void _.removeAttr(a,b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(nb);if(f&&1===a.nodeType)for(;c=f[e++];)d=_.propFix[c]||c,_.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&_.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),ec={set:function(a,b,c){return b===!1?_.removeAttr(a,c):a.setAttribute(c,c),c}},_.each(_.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fc[b]||_.find.attr;fc[b]=function(a,b,d){var e,f;return d||(f=fc[b],fc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,fc[b]=f),e}});var gc=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(a,b){return qb(this,_.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[_.propFix[a]||a]})}}),_.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;return a&&3!==g&&8!==g&&2!==g?(f=1!==g||!_.isXMLDoc(a),f&&(b=_.propFix[b]||b,e=_.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]):void 0},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gc.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||(_.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var hc=/[\t\r\n\f]/g;_.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(nb)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=_.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(nb)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hc," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?_.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(_.isFunction(a)?function(c){_(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=_(this),f=a.match(nb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===zb||"boolean"===c)&&(this.className&&rb.set(this,"__className__",this.className),this.className=this.className||a===!1?"":rb.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(hc," ").indexOf(b)>=0)return!0;return!1}});var ic=/\r/g;_.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=_.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,_(this).val()):a,null==e?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(a){return null==a?"":a+""})),b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ic,""):null==c?"":c)):void 0}}),_.extend({valHooks:{option:{get:function(a){var b=_.find.attr(a,"value");return null!=b?b:_.trim(_.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(Y.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&_.nodeName(c.parentNode,"optgroup"))){if(b=_(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=_.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=_.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(a,b){return _.isArray(b)?a.checked=_.inArray(_(a).val(),b)>=0:void 0}},Y.checkOn||(_.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){_.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),_.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var jc=_.now(),kc=/\?/;_.parseJSON=function(a){return JSON.parse(a+"")},_.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&_.error("Invalid XML: "+a),b};var lc=/#.*$/,mc=/([?&])_=[^&]*/,nc=/^(.*?):[ \t]*([^\r\n]*)$/gm,oc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pc=/^(?:GET|HEAD)$/,qc=/^\/\//,rc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,sc={},tc={},uc="*/".concat("*"),vc=a.location.href,wc=rc.exec(vc.toLowerCase())||[];_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vc,type:"GET",isLocal:oc.test(wc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":uc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,_.ajaxSettings),b):L(_.ajaxSettings,a)},ajaxPrefilter:J(sc),ajaxTransport:J(tc),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(_.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(_.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--_.active||_.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=_.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?_(m):_.event,o=_.Deferred(),p=_.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=nc.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||vc)+"").replace(lc,"").replace(qc,wc[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=_.trim(l.dataType||"*").toLowerCase().match(nb)||[""],null==l.crossDomain&&(i=rc.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===wc[1]&&i[2]===wc[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(wc[3]||("http:"===wc[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=_.param(l.data,l.traditional)),K(sc,l,b,v),2===t)return v;j=_.event&&l.global,j&&0===_.active++&&_.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!pc.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(kc.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=mc.test(e)?e.replace(mc,"$1_="+jc++):e+(kc.test(e)?"&":"?")+"_="+jc++)),l.ifModified&&(_.lastModified[e]&&v.setRequestHeader("If-Modified-Since",_.lastModified[e]),_.etag[e]&&v.setRequestHeader("If-None-Match",_.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+uc+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(tc,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return _.get(a,b,c,"json")},getScript:function(a,b){return _.get(a,void 0,b,"script")}}),_.each(["get","post"],function(a,b){_[b]=function(a,c,d,e){return _.isFunction(c)&&(e=e||d,d=c,c=void 0),_.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),_._evalUrl=function(a){return _.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},_.fn.extend({wrapAll:function(a){var b;return _.isFunction(a)?this.each(function(b){_(this).wrapAll(a.call(this,b))}):(this[0]&&(b=_(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(_.isFunction(a)?function(b){_(this).wrapInner(a.call(this,b))}:function(){var b=_(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=_.isFunction(a);return this.each(function(c){_(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},_.expr.filters.visible=function(a){return!_.expr.filters.hidden(a)};var xc=/%20/g,yc=/\[\]$/,zc=/\r?\n/g,Ac=/^(?:submit|button|image|reset|file)$/i,Bc=/^(?:input|select|textarea|keygen)/i;_.param=function(a,b){var c,d=[],e=function(a,b){b=_.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(a)||a.jquery&&!_.isPlainObject(a))_.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(xc,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=_.prop(this,"elements");return a?_.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!_(this).is(":disabled")&&Bc.test(this.nodeName)&&!Ac.test(a)&&(this.checked||!yb.test(a))}).map(function(a,b){var c=_(this).val();return null==c?null:_.isArray(c)?_.map(c,function(a){return{name:b.name,value:a.replace(zc,"\r\n")}}):{name:b.name,value:c.replace(zc,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=_.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Dc)Dc[a]()}),Y.cors=!!Fc&&"withCredentials"in Fc,Y.ajax=Fc=!!Fc,_.ajaxTransport(function(a){var b;return Y.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Dc[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return _.globalEval(a),a}}}),_.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),_.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=_("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gc.pop()||_.expando+"_"+jc++;return this[a]=!0,a}}),_.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=_.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,"$1"+e):b.jsonp!==!1&&(b.url+=(kc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||_.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&_.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),_.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=gb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=_.buildFragment([a],b,e),e&&e.length&&_(e).remove(),_.merge([],d.childNodes))};var Ic=_.fn.load;_.fn.load=function(a,b,c){if("string"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=_.trim(a.slice(h)),a=a.slice(0,h)),_.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&_.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?_("<div>").append(_.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){_.fn[b]=function(a){return this.on(b,a)}}),_.expr.filters.animated=function(a){return _.grep(_.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;_.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=_.css(a,"position"),l=_(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=_.css(a,"top"),i=_.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),_.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},_.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){_.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,_.contains(b,d)?(typeof d.getBoundingClientRect!==zb&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===_.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),_.nodeName(a[0],"html")||(d=a.offset()),d.top+=_.css(a[0],"borderTopWidth",!0),d.left+=_.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-_.css(c,"marginTop",!0),left:b.left-d.left-_.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Jc;a&&!_.nodeName(a,"html")&&"static"===_.css(a,"position");)a=a.offsetParent;return a||Jc})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;_.fn[b]=function(e){return qb(this,function(b,e,f){var g=P(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),_.each(["top","left"],function(a,b){_.cssHooks[b]=w(Y.pixelPosition,function(a,c){return c?(c=v(a,b),Qb.test(c)?_(a).position()[b]+"px":c):void 0})}),_.each({Height:"height",Width:"width"},function(a,b){_.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){_.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return qb(this,function(b,c,d){var e;return _.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?_.css(b,c,g):_.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Kc=a.jQuery,Lc=a.$;return _.noConflict=function(b){return a.$===_&&(a.$=Lc),b&&a.jQuery===_&&(a.jQuery=Kc),_},typeof b===zb&&(a.jQuery=a.$=_),_}),function(a){a.isMouseLeave||(a.isMouseLeave=function(a){return"mouseout"!=a.type?!1:a.toElement&&a.currentTarget?!(a.currentTarget===a.toElement||a.currentTarget.contains(a.toElement)):!0}),a.fn.fullWidth||(a.fn.fullWidth=function(b){return"undefined"!=typeof b?this.each(function(){$this=a(this),$this.width(parseFloat(b)-parseFloat($this.css("paddingLeft"))-parseFloat($this.css("paddingRight"))-parseFloat($this.css("borderLeftWidth"))-parseFloat($this.css("borderRightWidth"))+"px")}):parseFloat(this.css("width"))+parseFloat(this.css("paddingLeft"))+parseFloat(this.css("paddingRight"))+parseFloat(this.css("borderLeftWidth"))+parseFloat(this.css("borderRightWidth"))}),a.fn.fullHeight||(a.fn.fullHeight=function(){return parseFloat(this.css("height"))+parseFloat(this.css("paddingTop"))+parseInt(this.css("paddingBottom"))+parseFloat(this.css("borderTopWidth"))+parseInt(this.css("borderBottomWidth"))}),a.fn.posLeft||(a.fn.posLeft=function(a){return"undefined"==typeof a?parseFloat(this.css("left")):(this.css("left",parseFloat(a)+"px"),this)}),a.fn.posTop||(a.fn.posTop=function(a){return"undefined"==typeof a?parseFloat(this.css("top")):(this.css("top",parseFloat(a)+"px"),this)}),jQuery.fn.scrollHeight=function(){return!this||this.length<1?0:this[0].scrollHeight},jQuery.fn.scrollWidth=function(){return!this||this.length<1?0:this[0].scrollWidth},a.fn.clientWidth||(a.fn.clientWidth=function(){return this[0]?this[0].clientWidth:0}),a.fn.clientHeight||(a.fn.clientHeight=function(){return this[0]?this[0].clientHeight:0}),a.fn.getBounds||(a.fn.getBounds=function(b,c){var d={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:Number.NaN,height:Number.NaN};if(this.length<=0)return{left:0,top:0,right:0,bottom:0,width:0,height:0};("undefined"==typeof b||null===b||b===!1)&&(b=this);for(var e,f,g,h=0,i=0,j=0;j<this.length;j++){var k=a(this[j]),l=k.offset();l.left+=h,l.top+=i;var m=k.width(),n=k.height();("border-box"==k.css("boxSizing")||"border-box"==k.css("WebkitBoxSizing")||"border-box"==k.css("OBoxSizing")||"border-box"==k.css("msBoxSizing")||"border-box"==k.css("MozBoxSizing"))&&(m+=parseInt(k.css("borderLeftWidth"))+parseInt(k.css("borderRightWidth"))+parseInt(k.css("paddingLeft"))+parseInt(k.css("paddingRight")),n+=parseInt(k.css("borderTopWidth"))+parseInt(k.css("borderBottomWidth"))+parseInt(k.css("paddingTop"))+parseInt(k.css("paddingBottom")));var o=a(b).css("transform");o&&""!=o||(o=a(b).css("OTtransform")),o&&""!=o||(o=a(b).css("msTransform")),o&&""!=o||(o=a(b).css("MozTransform")),o&&""!=o||(o=a(b).css("WebkitTransform")),o&&(g=o.match(/matrix\([0-9\.\,\s\+\-]+\)/)),g?(g[0]&&(g=g[0]),g&&(g=g.substr(7,o.length-8)),g&&(g=g.split(",")),g?(e=Math.abs(m*g[0])+Math.abs(n*g[1]),f=Math.abs(m*g[2])+Math.abs(n*g[3])):(e=m,f=n)):(g=o.match(/rotateZ\(([0-9\.\+\-]+)rad\)/),g&&g[1]?(e=Math.abs(m*Math.cos(g[1]))+Math.abs(n*Math.sin(g[1])),f=Math.abs(m*Math.sin(g[1]))+Math.abs(n*Math.cos(g[1]))):(e=m,f=n)),l.right=l.left+e,l.bottom=l.top+f,d.left>l.left&&(d.left=l.left),d.top>l.top&&(d.top=l.top),d.right<l.right&&(d.right=l.right),d.bottom<l.bottom&&(d.bottom=l.bottom)}if(d.width=d.right-d.left,d.height=d.bottom-d.top,c){var p=a(c).offset();d.left-=p.left,d.right-=p.left,d.top-=p.top,d.bottom-=p.top}return d}),a.isHidden||(a.isHidden=function(b){var c=b.offsetWidth,d=b.offsetHeight;return 0===c&&0===d||"none"===(b.style&&b.style.display||a(b).css("display"))}),a.isVisible||(a.isVisible=function(b){return!a.isHidden(b)}),a.fn.filterByVisible||(a.fn.filterByVisible=function(){for(var b=a([]),c=0;c<this.length;c++)a.isVisible(this[c])&&b.push(this[c]);return b}),jQuery.browser={browserName:"",browserVersion:0,mozilla:!1,webkit:!1,msie:!1,safari:!1,opera:!1,iPhone:!1,iPod:!1,iPad:!1,Android:!1,mobile:!1,isTouchDevice:!1,detect:function(){var a,b,c=!1,d=[{name:"Chrome",key:"Chrome",ver:"Chrome/",check:6},{name:"Firefox",key:"Firefox",ver:"Firefox/",check:4},{name:"Opera",key:"Opera",ver:"Version/",check:10.6},{name:"MSIE",key:"MSIE",ver:"MSIE ",check:9},{name:"Safari",key:"Safari",ver:"Version/",check:5}];for(a=0;null!=d[a];a++)if(-1!=navigator.userAgent.indexOf(d[a].key)){this.browserName=d[a].name,this.msie="MSIE"==this.browserName,this.mozilla="Firefox"==this.browserName,this.safari="Safari"==this.browserName,this.webkit="Chrome"==this.browserName||this.safari,this.opera="Opera"==this.browserName,b=navigator.userAgent.indexOf(d[a].ver),b>=0&&(this.browserVersion=parseFloat(navigator.userAgent.substr(b+d[a].ver.length))),this.browserVersion>=d[a].check&&(c=!0);break}this.iPhone=-1!=navigator.userAgent.toLowerCase().indexOf("iphone"),this.iPod=-1!=navigator.userAgent.toLowerCase().indexOf("ipod"),this.iPad=-1!=navigator.userAgent.toLowerCase().indexOf("ipad"),this.Android=-1!=navigator.userAgent.toLowerCase().indexOf("android");var e=-1!=navigator.userAgent.toLowerCase().indexOf("mobile");this.mobile=!!(this.iPhone||this.iPod||this.iPad||this.Android||e),this.isTouchDevice="ontouchstart"in document.documentElement}},jQuery.browser.detect(),a.fn.alterClass||(a.fn.alterClass=function(a,b){var c=this;if(-1===a.indexOf("*"))return c.removeClass(a),b?c.addClass(b):c;var d=new RegExp("\\s"+a.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return c.each(function(a,b){for(var c=" "+b.className+" ";d.test(c);)c=c.replace(d," ");b.className=c.trim()}),b?c.addClass(b):c})}(window.jq||window.Zepto||window.jQuery),function(a){"use strict";a(["jquery"],function(a){function b(b){return a.isFunction(b)||a.isPlainObject(b)?b:{top:b,left:b}}var c=a.scrollTo=function(b,c,d){return a(window).scrollTo(b,c,d)};return c.defaults={axis:"xy",duration:0,limit:!0},c.window=function(){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||-1!=a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return/webkit/i.test(navigator.userAgent)||"BackCompat"==d.compatMode?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return"object"==typeof e&&(f=e,e=0),"function"==typeof f&&(f={onAfter:f}),"max"==d&&(d=9e9),f=a.extend({},c.defaults,f),e=e||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=b(f.offset),f.over=b(f.over),this._scrollable().each(function(){function g(a){j.animate(l,e,f.easing,a&&function(){a.call(this,k,f)})}if(null!=d){var h,i=this,j=a(i),k=d,l={},m=j.is("html,body");switch(typeof k){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(k)){k=b(k);break}if(k=m?a(k):a(k,this),!k.length)return;case"object":(k.is||k.style)&&(h=(k=a(k)).offset())}var n=a.isFunction(f.offset)&&f.offset(i,k)||f.offset;a.each(f.axis.split(""),function(a,b){var d="x"==b?"Left":"Top",e=d.toLowerCase(),o="scroll"+d,p=i[o],q=c.max(i,b);if(h)l[o]=h[e]+(m?0:p-j.offset()[e]),f.margin&&(l[o]-=parseInt(k.css("margin"+d))||0,l[o]-=parseInt(k.css("border"+d+"Width"))||0),l[o]+=n[e]||0,f.over[e]&&(l[o]+=k["x"==b?"width":"height"]()*f.over[e]);else{var r=k[e];l[o]=r.slice&&"%"==r.slice(-1)?parseFloat(r)/100*q:r}f.limit&&/^\d+$/.test(l[o])&&(l[o]=l[o]<=0?0:Math.min(l[o],q)),!a&&f.queue&&(p!=l[o]&&g(f.onAfterFirst),delete l[o])}),g(f.onAfter)}}).end()},c.max=function(b,c){var d="x"==c?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])},c})}("function"==typeof define&&define.amd?define:function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b(require("jquery")):b(jQuery)});var EnjoyCSS={paths:{background_images:{"default":"/bg-img/default/",custom:"/bg-img/custom/"}},settings:{ZeroClipboard:{moviePath:"/lib/zeroclipboard/dist/ZeroClipboard.swf"},zenbox:{dropboxID:"20259793",url:"https://devenjoycss.zendesk.com",hide_tab:!0}}};window.Rainbow=function(){function a(a){var b,c=a.getAttribute&&a.getAttribute("data-language")||0;if(!c)for(a=a.attributes,b=0;b<a.length;++b)if("data-language"===a[b].nodeName)return a[b].nodeValue;return c}function b(b){var c=a(b)||a(b.parentNode);if(!c){var d=/\blang(?:uage)?-(\w+)/;(b=b.className.match(d)||b.parentNode.className.match(d))&&(c=b[1])}return c}function c(a,b){for(var c in o[r])if(c=parseInt(c,10),(a==c&&b==o[r][c]?0:c>=a&&b>=o[r][c])&&(delete o[r][c],delete n[r][c]),a>=c&&a<o[r][c]||b>c&&b<o[r][c])return!0;return!1}function d(a,b){return'<span class="'+a.replace(/\./g," ")+(l?" "+l:"")+'">'+b+"</span>"}function e(a,b,h,j){var k=a.exec(h);if(k){++t,!b.name&&"string"==typeof b.matches[0]&&(b.name=b.matches[0],delete b.matches[0]);var l=k[0],m=k.index,p=k[0].length+m,q=function(){function c(){e(a,b,h,j)}t%100>0?c():setTimeout(c,0)};if(c(m,p))q();else{var s=f(b.matches),u=function(a,c,e){if(a>=c.length)e(l);else{var f=k[c[a]];if(f){var h=b.matches[c[a]],j=h.language,m=h.name&&h.matches?h.matches:h,n=function(b,f,g){var h;h=0;var i;for(i=1;i<c[a];++i)k[i]&&(h+=k[i].length);f=g?d(g,f):f,l=l.substr(0,h)+l.substr(h).replace(b,f),u(++a,c,e)};j?i(f,j,function(a){n(f,a)}):"string"==typeof h?n(f,f,h):g(f,m.length?m:[m],function(a){n(f,a,h.matches?h.name:0)})}else u(++a,c,e)}};u(0,s,function(a){b.name&&(a=d(b.name,a)),n[r]||(n[r]={},o[r]={}),n[r][m]={replace:k[0],"with":a},o[r][m]=p,q()})}}else j()}function f(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c.sort(function(a,b){return b-a})}function g(a,b,c){function d(b,f){f<b.length?e(b[f].pattern,b[f],a,function(){d(b,++f)}):h(a,function(a){delete n[r],delete o[r],--r,c(a)})}++r,d(b,0)}function h(a,b){function c(a,b,d,e){if(d<b.length){++u;var f=b[d],g=n[r][f],a=a.substr(0,f)+a.substr(f).replace(g.replace,g["with"]),f=function(){c(a,b,++d,e)};u%250>0?f():setTimeout(f,0)}else e(a)}var d=f(n[r]);c(a,d,0,b)}function i(a,b,c){var d=p[b]||[],e=p[s]||[],b=q[b]?d:d.concat(e);g(a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&(?![\w\#]+;)/g,"&amp;"),b,c)}function j(a,c,d){if(c<a.length){var e=a[c],f=b(e);return-1<(" "+e.className+" ").indexOf(" rainbow ")||!f?j(a,++c,d):(f=f.toLowerCase(),e.className+=e.className?" rainbow":"rainbow",i(e.innerHTML,f,function(b){e.innerHTML=b,n={},o={},m&&m(e,f),setTimeout(function(){j(a,++c,d)},0)}))}d&&d()}function k(a,b){var c,a=a&&"function"==typeof a.getElementsByTagName?a:document,d=a.getElementsByTagName("pre"),e=a.getElementsByTagName("code"),f=[];for(c=0;c<e.length;++c)f.push(e[c]);for(c=0;c<d.length;++c)d[c].getElementsByTagName("code").length||f.push(d[c]);j(f,0,b)}var l,m,n={},o={},p={},q={},r=0,s=0,t=0,u=0;return{extend:function(a,b,c){1==arguments.length&&(b=a,a=s),q[a]=c,p[a]=b.concat(p[a]||[])},b:function(a){m=a},a:function(a){l=a},color:function(a,b,c){return"string"==typeof a?i(a,b,c):"function"==typeof a?k(0,a):void k(a,b)}}}(),document.addEventListener?document.addEventListener("DOMContentLoaded",Rainbow.color,!1):window.attachEvent("onload",Rainbow.color),Rainbow.onHighlight=Rainbow.b,Rainbow.addClass=Rainbow.a,Rainbow.extend("css",[{name:"comment",pattern:/\/\*[\s\S]*?\*\//gm},{name:"constant.hex-color",pattern:/#([a-f0-9]{3}|[a-f0-9]{6})(?=;|\s)/gi},{matches:{1:"constant.numeric",2:"keyword.unit"},pattern:/(\d+)(px|em|cm|s|%)?/g},{name:"string",pattern:/('|")(.*?)\1/g},{name:"support.css-property",matches:{1:"support.vendor-prefix"},pattern:/(-o-|-moz-|-webkit-|-ms-)?[\w-]+(?=\s?:)(?!.*\{)/g},{matches:{1:[{name:"entity.name.sass",pattern:/&amp;/g},{name:"direct-descendant",pattern:/&gt;/g},{name:"entity.name.class",pattern:/\.[\w\-_]+/g},{name:"entity.name.id",pattern:/\#[\w\-_]+/g},{name:"entity.name.pseudo",pattern:/:[\w\-_]+/g},{name:"entity.name.tag",pattern:/\w+/g}]},pattern:/([\w\ ,:\.\#\&\;\-_]+)(?=.*\{)/g},{matches:{2:"support.vendor-prefix",3:"support.css-value"},pattern:/(:|,)\s?(-o-|-moz-|-webkit-|-ms-)?([a-zA-Z-]*)(?=\b)(?!.*\{)/g},{matches:{1:"support.tag.style",2:[{name:"string",pattern:/('|")(.*?)(\1)/g},{name:"entity.tag.style",pattern:/(\w+)/g}],3:"support.tag.style"},pattern:/(&lt;\/?)(style.*?)(&gt;)/g}],!0),Rainbow.extend("html",[{name:"source.php.embedded",matches:{2:{language:"php"}},pattern:/&lt;\?=?(?!xml)(php)?([\s\S]*?)(\?&gt;)/gm},{name:"source.css.embedded",matches:{0:{language:"css"}},pattern:/&lt;style(.*?)&gt;([\s\S]*?)&lt;\/style&gt;/gm},{name:"source.js.embedded",matches:{0:{language:"javascript"}},pattern:/&lt;script(?! src)(.*?)&gt;([\s\S]*?)&lt;\/script&gt;/gm},{name:"comment.html",pattern:/&lt;\!--[\S\s]*?--&gt;/g},{matches:{1:"support.tag.open",2:"support.tag.close"},pattern:/(&lt;)|(\/?\??&gt;)/g},{name:"support.tag",matches:{1:"support.tag",2:"support.tag.special",3:"support.tag-name"},pattern:/(&lt;\??)(\/|\!?)(\w+)/g},{matches:{1:"support.attribute"},pattern:/([a-z-]+)(?=\=)/gi},{matches:{1:"support.operator",2:"string.quote",3:"string.value",4:"string.quote"},pattern:/(=)('|")(.*?)(\2)/g},{matches:{1:"support.operator",2:"support.value"},pattern:/(=)([a-zA-Z\-0-9]*)\b/g},{matches:{1:"support.attribute"},pattern:/\s(\w+)(?=\s|&gt;)(?![\s\S]*&lt;)/g}],!0),!function(a,b){"use strict";
var c,d,e,f=a,g=f.document,h=f.navigator,i=f.setTimeout,j=f.clearTimeout,k=f.setInterval,l=f.clearInterval,m=f.getComputedStyle,n=f.encodeURIComponent,o=f.ActiveXObject,p=f.Error,q=f.Number.parseInt||f.parseInt,r=f.Number.parseFloat||f.parseFloat,s=f.Number.isNaN||f.isNaN,t=f.Date.now,u=f.Object.keys,v=f.Object.defineProperty,w=f.Object.prototype.hasOwnProperty,x=f.Array.prototype.slice,y=function(){var a=function(a){return a};if("function"==typeof f.wrap&&"function"==typeof f.unwrap)try{var b=g.createElement("div"),c=f.unwrap(b);1===b.nodeType&&c&&1===c.nodeType&&(a=f.unwrap)}catch(d){}return a}(),z=function(a){return x.call(a,0)},A=function(){var a,c,d,e,f,g,h=z(arguments),i=h[0]||{};for(a=1,c=h.length;c>a;a++)if(null!=(d=h[a]))for(e in d)w.call(d,e)&&(f=i[e],g=d[e],i!==g&&g!==b&&(i[e]=g));return i},B=function(a){var b,c,d,e;if("object"!=typeof a||null==a||"number"==typeof a.nodeType)b=a;else if("number"==typeof a.length)for(b=[],c=0,d=a.length;d>c;c++)w.call(a,c)&&(b[c]=B(a[c]));else{b={};for(e in a)w.call(a,e)&&(b[e]=B(a[e]))}return b},C=function(a,b){for(var c={},d=0,e=b.length;e>d;d++)b[d]in a&&(c[b[d]]=a[b[d]]);return c},D=function(a,b){var c={};for(var d in a)-1===b.indexOf(d)&&(c[d]=a[d]);return c},E=function(a){if(a)for(var b in a)w.call(a,b)&&delete a[b];return a},F=function(a,b){if(a&&1===a.nodeType&&a.ownerDocument&&b&&(1===b.nodeType&&b.ownerDocument&&b.ownerDocument===a.ownerDocument||9===b.nodeType&&!b.ownerDocument&&b===a.ownerDocument))do{if(a===b)return!0;a=a.parentNode}while(a);return!1},G=function(a){var b;return"string"==typeof a&&a&&(b=a.split("#")[0].split("?")[0],b=a.slice(0,a.lastIndexOf("/")+1)),b},H=function(a){var b,c;return"string"==typeof a&&a&&(c=a.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),c&&c[1]?b=c[1]:(c=a.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),c&&c[1]&&(b=c[1]))),b},I=function(){var a,b;try{throw new p}catch(c){b=c}return b&&(a=b.sourceURL||b.fileName||H(b.stack)),a},J=function(){var a,c,d;if(g.currentScript&&(a=g.currentScript.src))return a;if(c=g.getElementsByTagName("script"),1===c.length)return c[0].src||b;if("readyState"in c[0])for(d=c.length;d--;)if("interactive"===c[d].readyState&&(a=c[d].src))return a;return"loading"===g.readyState&&(a=c[c.length-1].src)?a:(a=I())?a:b},K=function(){var a,c,d,e=g.getElementsByTagName("script");for(a=e.length;a--;){if(!(d=e[a].src)){c=null;break}if(d=G(d),null==c)c=d;else if(c!==d){c=null;break}}return c||b},L=function(){var a=G(J())||K()||"";return a+"ZeroClipboard.swf"},M=function(){return null==a.opener&&(!!a.top&&a!=a.top||!!a.parent&&a!=a.parent)}(),N={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},O="11.0.0",P={},Q={},R=null,S=0,T=0,U={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},V=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],W=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],X=new RegExp("^flash-("+W.map(function(a){return a.replace(/^flash-/,"")}).join("|")+")$"),Y=new RegExp("^flash-("+W.slice(1).map(function(a){return a.replace(/^flash-/,"")}).join("|")+")$"),Z={swfPath:L(),trustedDomains:a.location.host?[a.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},$=function(a){if("object"==typeof a&&null!==a)for(var b in a)if(w.call(a,b))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(b))Z[b]=a[b];else if(null==N.bridge)if("containerId"===b||"swfObjectId"===b){if(!nb(a[b]))throw new Error("The specified `"+b+"` value is not valid as an HTML4 Element ID");Z[b]=a[b]}else Z[b]=a[b];return"string"==typeof a&&a?w.call(Z,a)?Z[a]:void 0:B(Z)},_=function(){return Tb(),{browser:C(h,["userAgent","platform","appName"]),flash:D(N,["bridge"]),zeroclipboard:{version:Vb.version,config:Vb.config()}}},ab=function(){return!!(N.disabled||N.outdated||N.sandboxed||N.unavailable||N.degraded||N.deactivated)},bb=function(a,d){var e,f,g,h={};if("string"==typeof a&&a)g=a.toLowerCase().split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof d)for(e in a)w.call(a,e)&&"string"==typeof e&&e&&"function"==typeof a[e]&&Vb.on(e,a[e]);if(g&&g.length){for(e=0,f=g.length;f>e;e++)a=g[e].replace(/^on/,""),h[a]=!0,P[a]||(P[a]=[]),P[a].push(d);if(h.ready&&N.ready&&Vb.emit({type:"ready"}),h.error){for(e=0,f=W.length;f>e;e++)if(N[W[e].replace(/^flash-/,"")]===!0){Vb.emit({type:"error",name:W[e]});break}c!==b&&Vb.version!==c&&Vb.emit({type:"error",name:"version-mismatch",jsVersion:Vb.version,swfVersion:c})}}return Vb},cb=function(a,b){var c,d,e,f,g;if(0===arguments.length)f=u(P);else if("string"==typeof a&&a)f=a.split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(c in a)w.call(a,c)&&"string"==typeof c&&c&&"function"==typeof a[c]&&Vb.off(c,a[c]);if(f&&f.length)for(c=0,d=f.length;d>c;c++)if(a=f[c].toLowerCase().replace(/^on/,""),g=P[a],g&&g.length)if(b)for(e=g.indexOf(b);-1!==e;)g.splice(e,1),e=g.indexOf(b,e);else g.length=0;return Vb},db=function(a){var b;return b="string"==typeof a&&a?B(P[a])||null:B(P)},eb=function(a){var b,c,d;return a=ob(a),a&&!vb(a)?"ready"===a.type&&N.overdue===!0?Vb.emit({type:"error",name:"flash-overdue"}):(b=A({},a),tb.call(this,b),"copy"===a.type&&(d=Db(Q),c=d.data,R=d.formatMap),c):void 0},fb=function(){var a=N.sandboxed;if(Tb(),"boolean"!=typeof N.ready&&(N.ready=!1),N.sandboxed!==a&&N.sandboxed===!0)N.ready=!1,Vb.emit({type:"error",name:"flash-sandboxed"});else if(!Vb.isFlashUnusable()&&null===N.bridge){var b=Z.flashLoadTimeout;"number"==typeof b&&b>=0&&(S=i(function(){"boolean"!=typeof N.deactivated&&(N.deactivated=!0),N.deactivated===!0&&Vb.emit({type:"error",name:"flash-deactivated"})},b)),N.overdue=!1,Bb()}},gb=function(){Vb.clearData(),Vb.blur(),Vb.emit("destroy"),Cb(),Vb.off()},hb=function(a,b){var c;if("object"==typeof a&&a&&"undefined"==typeof b)c=a,Vb.clearData();else{if("string"!=typeof a||!a)return;c={},c[a]=b}for(var d in c)"string"==typeof d&&d&&w.call(c,d)&&"string"==typeof c[d]&&c[d]&&(Q[d]=c[d])},ib=function(a){"undefined"==typeof a?(E(Q),R=null):"string"==typeof a&&w.call(Q,a)&&delete Q[a]},jb=function(a){return"undefined"==typeof a?B(Q):"string"==typeof a&&w.call(Q,a)?Q[a]:void 0},kb=function(a){if(a&&1===a.nodeType){d&&(Lb(d,Z.activeClass),d!==a&&Lb(d,Z.hoverClass)),d=a,Kb(a,Z.hoverClass);var b=a.getAttribute("title")||Z.title;if("string"==typeof b&&b){var c=Ab(N.bridge);c&&c.setAttribute("title",b)}var e=Z.forceHandCursor===!0||"pointer"===Mb(a,"cursor");Rb(e),Qb()}},lb=function(){var a=Ab(N.bridge);a&&(a.removeAttribute("title"),a.style.left="0px",a.style.top="-9999px",a.style.width="1px",a.style.height="1px"),d&&(Lb(d,Z.hoverClass),Lb(d,Z.activeClass),d=null)},mb=function(){return d||null},nb=function(a){return"string"==typeof a&&a&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(a)},ob=function(a){var b;if("string"==typeof a&&a?(b=a,a={}):"object"==typeof a&&a&&"string"==typeof a.type&&a.type&&(b=a.type),b){b=b.toLowerCase(),!a.target&&(/^(copy|aftercopy|_click)$/.test(b)||"error"===b&&"clipboard-error"===a.name)&&(a.target=e),A(a,{type:b,target:a.target||d||null,relatedTarget:a.relatedTarget||null,currentTarget:N&&N.bridge||null,timeStamp:a.timeStamp||t()||null});var c=U[a.type];return"error"===a.type&&a.name&&c&&(c=c[a.name]),c&&(a.message=c),"ready"===a.type&&A(a,{target:null,version:N.version}),"error"===a.type&&(X.test(a.name)&&A(a,{target:null,minimumVersion:O}),Y.test(a.name)&&A(a,{version:N.version})),"copy"===a.type&&(a.clipboardData={setData:Vb.setData,clearData:Vb.clearData}),"aftercopy"===a.type&&(a=Eb(a,R)),a.target&&!a.relatedTarget&&(a.relatedTarget=pb(a.target)),qb(a)}},pb=function(a){var b=a&&a.getAttribute&&a.getAttribute("data-clipboard-target");return b?g.getElementById(b):null},qb=function(a){if(a&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(a.type)){var c=a.target,d="_mouseover"===a.type&&a.relatedTarget?a.relatedTarget:b,e="_mouseout"===a.type&&a.relatedTarget?a.relatedTarget:b,h=Nb(c),i=f.screenLeft||f.screenX||0,j=f.screenTop||f.screenY||0,k=g.body.scrollLeft+g.documentElement.scrollLeft,l=g.body.scrollTop+g.documentElement.scrollTop,m=h.left+("number"==typeof a._stageX?a._stageX:0),n=h.top+("number"==typeof a._stageY?a._stageY:0),o=m-k,p=n-l,q=i+o,r=j+p,s="number"==typeof a.movementX?a.movementX:0,t="number"==typeof a.movementY?a.movementY:0;delete a._stageX,delete a._stageY,A(a,{srcElement:c,fromElement:d,toElement:e,screenX:q,screenY:r,pageX:m,pageY:n,clientX:o,clientY:p,x:o,y:p,movementX:s,movementY:t,offsetX:0,offsetY:0,layerX:0,layerY:0})}return a},rb=function(a){var b=a&&"string"==typeof a.type&&a.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(b)},sb=function(a,b,c,d){d?i(function(){a.apply(b,c)},0):a.apply(b,c)},tb=function(a){if("object"==typeof a&&a&&a.type){var b=rb(a),c=P["*"]||[],d=P[a.type]||[],e=c.concat(d);if(e&&e.length){var g,h,i,j,k,l=this;for(g=0,h=e.length;h>g;g++)i=e[g],j=l,"string"==typeof i&&"function"==typeof f[i]&&(i=f[i]),"object"==typeof i&&i&&"function"==typeof i.handleEvent&&(j=i,i=i.handleEvent),"function"==typeof i&&(k=A({},a),sb(i,j,[k],b))}return this}},ub=function(a){var b=null;return(M===!1||a&&"error"===a.type&&a.name&&-1!==V.indexOf(a.name))&&(b=!1),b},vb=function(a){var b=a.target||d||null,f="swf"===a._source;switch(delete a._source,a.type){case"error":var g="flash-sandboxed"===a.name||ub(a);"boolean"==typeof g&&(N.sandboxed=g),-1!==W.indexOf(a.name)?A(N,{disabled:"flash-disabled"===a.name,outdated:"flash-outdated"===a.name,unavailable:"flash-unavailable"===a.name,degraded:"flash-degraded"===a.name,deactivated:"flash-deactivated"===a.name,overdue:"flash-overdue"===a.name,ready:!1}):"version-mismatch"===a.name&&(c=a.swfVersion,A(N,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Pb();break;case"ready":c=a.swfVersion;var h=N.deactivated===!0;A(N,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:h,ready:!h}),Pb();break;case"beforecopy":e=b;break;case"copy":var i,j,k=a.relatedTarget;!Q["text/html"]&&!Q["text/plain"]&&k&&(j=k.value||k.outerHTML||k.innerHTML)&&(i=k.value||k.textContent||k.innerText)?(a.clipboardData.clearData(),a.clipboardData.setData("text/plain",i),j!==i&&a.clipboardData.setData("text/html",j)):!Q["text/plain"]&&a.target&&(i=a.target.getAttribute("data-clipboard-text"))&&(a.clipboardData.clearData(),a.clipboardData.setData("text/plain",i));break;case"aftercopy":wb(a),Vb.clearData(),b&&b!==Jb()&&b.focus&&b.focus();break;case"_mouseover":Vb.focus(b),Z.bubbleEvents===!0&&f&&(b&&b!==a.relatedTarget&&!F(a.relatedTarget,b)&&xb(A({},a,{type:"mouseenter",bubbles:!1,cancelable:!1})),xb(A({},a,{type:"mouseover"})));break;case"_mouseout":Vb.blur(),Z.bubbleEvents===!0&&f&&(b&&b!==a.relatedTarget&&!F(a.relatedTarget,b)&&xb(A({},a,{type:"mouseleave",bubbles:!1,cancelable:!1})),xb(A({},a,{type:"mouseout"})));break;case"_mousedown":Kb(b,Z.activeClass),Z.bubbleEvents===!0&&f&&xb(A({},a,{type:a.type.slice(1)}));break;case"_mouseup":Lb(b,Z.activeClass),Z.bubbleEvents===!0&&f&&xb(A({},a,{type:a.type.slice(1)}));break;case"_click":e=null,Z.bubbleEvents===!0&&f&&xb(A({},a,{type:a.type.slice(1)}));break;case"_mousemove":Z.bubbleEvents===!0&&f&&xb(A({},a,{type:a.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(a.type)?!0:void 0},wb=function(a){if(a.errors&&a.errors.length>0){var b=B(a);A(b,{type:"error",name:"clipboard-error"}),delete b.success,i(function(){Vb.emit(b)},0)}},xb=function(a){if(a&&"string"==typeof a.type&&a){var b,c=a.target||null,d=c&&c.ownerDocument||g,e={view:d.defaultView||f,canBubble:!0,cancelable:!0,detail:"click"===a.type?1:0,button:"number"==typeof a.which?a.which-1:"number"==typeof a.button?a.button:d.createEvent?0:1},h=A(e,a);c&&d.createEvent&&c.dispatchEvent&&(h=[h.type,h.canBubble,h.cancelable,h.view,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget],b=d.createEvent("MouseEvents"),b.initMouseEvent&&(b.initMouseEvent.apply(b,h),b._source="js",c.dispatchEvent(b)))}},yb=function(){var a=Z.flashLoadTimeout;if("number"==typeof a&&a>=0){var b=Math.min(1e3,a/10),c=Z.swfObjectId+"_fallbackContent";T=k(function(){var a=g.getElementById(c);Ob(a)&&(Pb(),N.deactivated=null,Vb.emit({type:"error",name:"swf-not-found"}))},b)}},zb=function(){var a=g.createElement("div");return a.id=Z.containerId,a.className=Z.containerClass,a.style.position="absolute",a.style.left="0px",a.style.top="-9999px",a.style.width="1px",a.style.height="1px",a.style.zIndex=""+Sb(Z.zIndex),a},Ab=function(a){for(var b=a&&a.parentNode;b&&"OBJECT"===b.nodeName&&b.parentNode;)b=b.parentNode;return b||null},Bb=function(){var a,b=N.bridge,c=Ab(b);if(!b){var d=Ib(f.location.host,Z),e="never"===d?"none":"all",h=Gb(A({jsVersion:Vb.version},Z)),i=Z.swfPath+Fb(Z.swfPath,Z);c=zb();var j=g.createElement("div");c.appendChild(j),g.body.appendChild(c);var k=g.createElement("div"),l="activex"===N.pluginType;k.innerHTML='<object id="'+Z.swfObjectId+'" name="'+Z.swfObjectId+'" width="100%" height="100%" '+(l?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+i+'"')+">"+(l?'<param name="movie" value="'+i+'"/>':"")+'<param name="allowScriptAccess" value="'+d+'"/><param name="allowNetworking" value="'+e+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+h+'"/><div id="'+Z.swfObjectId+'_fallbackContent">&nbsp;</div></object>',b=k.firstChild,k=null,y(b).ZeroClipboard=Vb,c.replaceChild(b,j),yb()}return b||(b=g[Z.swfObjectId],b&&(a=b.length)&&(b=b[a-1]),!b&&c&&(b=c.firstChild)),N.bridge=b||null,b},Cb=function(){var a=N.bridge;if(a){var d=Ab(a);d&&("activex"===N.pluginType&&"readyState"in a?(a.style.display="none",function e(){if(4===a.readyState){for(var b in a)"function"==typeof a[b]&&(a[b]=null);a.parentNode&&a.parentNode.removeChild(a),d.parentNode&&d.parentNode.removeChild(d)}else i(e,10)}()):(a.parentNode&&a.parentNode.removeChild(a),d.parentNode&&d.parentNode.removeChild(d))),Pb(),N.ready=null,N.bridge=null,N.deactivated=null,c=b}},Db=function(a){var b={},c={};if("object"==typeof a&&a){for(var d in a)if(d&&w.call(a,d)&&"string"==typeof a[d]&&a[d])switch(d.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":b.text=a[d],c.text=d;break;case"text/html":case"html":case"air:html":case"flash:html":b.html=a[d],c.html=d;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":b.rtf=a[d],c.rtf=d}return{data:b,formatMap:c}}},Eb=function(a,b){if("object"!=typeof a||!a||"object"!=typeof b||!b)return a;var c={};for(var d in a)if(w.call(a,d))if("errors"===d){c[d]=a[d]?a[d].slice():[];for(var e=0,f=c[d].length;f>e;e++)c[d][e].format=b[c[d][e].format]}else if("success"!==d&&"data"!==d)c[d]=a[d];else{c[d]={};var g=a[d];for(var h in g)h&&w.call(g,h)&&w.call(b,h)&&(c[d][b[h]]=g[h])}return c},Fb=function(a,b){var c=null==b||b&&b.cacheBust===!0;return c?(-1===a.indexOf("?")?"?":"&")+"noCache="+t():""},Gb=function(a){var b,c,d,e,g="",h=[];if(a.trustedDomains&&("string"==typeof a.trustedDomains?e=[a.trustedDomains]:"object"==typeof a.trustedDomains&&"length"in a.trustedDomains&&(e=a.trustedDomains)),e&&e.length)for(b=0,c=e.length;c>b;b++)if(w.call(e,b)&&e[b]&&"string"==typeof e[b]){if(d=Hb(e[b]),!d)continue;if("*"===d){h.length=0,h.push(d);break}h.push.apply(h,[d,"//"+d,f.location.protocol+"//"+d])}return h.length&&(g+="trustedOrigins="+n(h.join(","))),a.forceEnhancedClipboard===!0&&(g+=(g?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof a.swfObjectId&&a.swfObjectId&&(g+=(g?"&":"")+"swfObjectId="+n(a.swfObjectId)),"string"==typeof a.jsVersion&&a.jsVersion&&(g+=(g?"&":"")+"jsVersion="+n(a.jsVersion)),g},Hb=function(a){if(null==a||""===a)return null;if(a=a.replace(/^\s+|\s+$/g,""),""===a)return null;var b=a.indexOf("//");a=-1===b?a:a.slice(b+2);var c=a.indexOf("/");return a=-1===c?a:-1===b||0===c?null:a.slice(0,c),a&&".swf"===a.slice(-4).toLowerCase()?null:a||null},Ib=function(){var a=function(a){var b,c,d,e=[];if("string"==typeof a&&(a=[a]),"object"!=typeof a||!a||"number"!=typeof a.length)return e;for(b=0,c=a.length;c>b;b++)if(w.call(a,b)&&(d=Hb(a[b]))){if("*"===d){e.length=0,e.push("*");break}-1===e.indexOf(d)&&e.push(d)}return e};return function(b,c){var d=Hb(c.swfPath);null===d&&(d=b);var e=a(c.trustedDomains),f=e.length;if(f>0){if(1===f&&"*"===e[0])return"always";if(-1!==e.indexOf(b))return 1===f&&b===d?"sameDomain":"always"}return"never"}}(),Jb=function(){try{return g.activeElement}catch(a){return null}},Kb=function(a,b){var c,d,e,f=[];if("string"==typeof b&&b&&(f=b.split(/\s+/)),a&&1===a.nodeType&&f.length>0)if(a.classList)for(c=0,d=f.length;d>c;c++)a.classList.add(f[c]);else if(a.hasOwnProperty("className")){for(e=" "+a.className+" ",c=0,d=f.length;d>c;c++)-1===e.indexOf(" "+f[c]+" ")&&(e+=f[c]+" ");a.className=e.replace(/^\s+|\s+$/g,"")}return a},Lb=function(a,b){var c,d,e,f=[];if("string"==typeof b&&b&&(f=b.split(/\s+/)),a&&1===a.nodeType&&f.length>0)if(a.classList&&a.classList.length>0)for(c=0,d=f.length;d>c;c++)a.classList.remove(f[c]);else if(a.className){for(e=(" "+a.className+" ").replace(/[\r\n\t]/g," "),c=0,d=f.length;d>c;c++)e=e.replace(" "+f[c]+" "," ");a.className=e.replace(/^\s+|\s+$/g,"")}return a},Mb=function(a,b){var c=m(a,null).getPropertyValue(b);return"cursor"!==b||c&&"auto"!==c||"A"!==a.nodeName?c:"pointer"},Nb=function(a){var b={left:0,top:0,width:0,height:0};if(a.getBoundingClientRect){var c=a.getBoundingClientRect(),d=f.pageXOffset,e=f.pageYOffset,h=g.documentElement.clientLeft||0,i=g.documentElement.clientTop||0,j=0,k=0;if("relative"===Mb(g.body,"position")){var l=g.body.getBoundingClientRect(),m=g.documentElement.getBoundingClientRect();j=l.left-m.left||0,k=l.top-m.top||0}b.left=c.left+d-h-j,b.top=c.top+e-i-k,b.width="width"in c?c.width:c.right-c.left,b.height="height"in c?c.height:c.bottom-c.top}return b},Ob=function(a){if(!a)return!1;var b=m(a,null),c=r(b.height)>0,d=r(b.width)>0,e=r(b.top)>=0,f=r(b.left)>=0,g=c&&d&&e&&f,h=g?null:Nb(a),i="none"!==b.display&&"collapse"!==b.visibility&&(g||!!h&&(c||h.height>0)&&(d||h.width>0)&&(e||h.top>=0)&&(f||h.left>=0));return i},Pb=function(){j(S),S=0,l(T),T=0},Qb=function(){var a;if(d&&(a=Ab(N.bridge))){var b=Nb(d);A(a.style,{width:b.width+"px",height:b.height+"px",top:b.top+"px",left:b.left+"px",zIndex:""+Sb(Z.zIndex)})}},Rb=function(a){N.ready===!0&&(N.bridge&&"function"==typeof N.bridge.setHandCursor?N.bridge.setHandCursor(a):N.ready=!1)},Sb=function(a){if(/^(?:auto|inherit)$/.test(a))return a;var b;return"number"!=typeof a||s(a)?"string"==typeof a&&(b=Sb(q(a,10))):b=a,"number"==typeof b?b:"auto"},Tb=function(b){var c,d,e,f=N.sandboxed,g=null;if(b=b===!0,M===!1)g=!1;else{try{d=a.frameElement||null}catch(h){e={name:h.name,message:h.message}}if(d&&1===d.nodeType&&"IFRAME"===d.nodeName)try{g=d.hasAttribute("sandbox")}catch(h){g=null}else{try{c=document.domain||null}catch(h){c=null}(null===c||e&&"SecurityError"===e.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(e.message.toLowerCase()))&&(g=!0)}}return N.sandboxed=g,f===g||b||Ub(o),g},Ub=function(a){function b(a){var b=a.match(/[\d]+/g);return b.length=3,b.join(".")}function c(a){return!!a&&(a=a.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(a)||"chrome.plugin"===a.slice(-13))}function d(a){a&&(i=!0,a.version&&(l=b(a.version)),!l&&a.description&&(l=b(a.description)),a.filename&&(k=c(a.filename)))}var e,f,g,i=!1,j=!1,k=!1,l="";if(h.plugins&&h.plugins.length)e=h.plugins["Shockwave Flash"],d(e),h.plugins["Shockwave Flash 2.0"]&&(i=!0,l="2.0.0.11");else if(h.mimeTypes&&h.mimeTypes.length)g=h.mimeTypes["application/x-shockwave-flash"],e=g&&g.enabledPlugin,d(e);else if("undefined"!=typeof a){j=!0;try{f=new a("ShockwaveFlash.ShockwaveFlash.7"),i=!0,l=b(f.GetVariable("$version"))}catch(m){try{f=new a("ShockwaveFlash.ShockwaveFlash.6"),i=!0,l="6.0.21"}catch(n){try{f=new a("ShockwaveFlash.ShockwaveFlash"),i=!0,l=b(f.GetVariable("$version"))}catch(o){j=!1}}}}N.disabled=i!==!0,N.outdated=l&&r(l)<r(O),N.version=l||"0.0.0",N.pluginType=k?"pepper":j?"activex":i?"netscape":"unknown"};Ub(o),Tb(!0);var Vb=function(){return this instanceof Vb?void("function"==typeof Vb._createClient&&Vb._createClient.apply(this,z(arguments))):new Vb};v(Vb,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Vb.config=function(){return $.apply(this,z(arguments))},Vb.state=function(){return _.apply(this,z(arguments))},Vb.isFlashUnusable=function(){return ab.apply(this,z(arguments))},Vb.on=function(){return bb.apply(this,z(arguments))},Vb.off=function(){return cb.apply(this,z(arguments))},Vb.handlers=function(){return db.apply(this,z(arguments))},Vb.emit=function(){return eb.apply(this,z(arguments))},Vb.create=function(){return fb.apply(this,z(arguments))},Vb.destroy=function(){return gb.apply(this,z(arguments))},Vb.setData=function(){return hb.apply(this,z(arguments))},Vb.clearData=function(){return ib.apply(this,z(arguments))},Vb.getData=function(){return jb.apply(this,z(arguments))},Vb.focus=Vb.activate=function(){return kb.apply(this,z(arguments))},Vb.blur=Vb.deactivate=function(){return lb.apply(this,z(arguments))},Vb.activeElement=function(){return mb.apply(this,z(arguments))};var Wb=0,Xb={},Yb=0,Zb={},$b={};A(Z,{autoActivate:!0});var _b=function(a){var b=this;b.id=""+Wb++,Xb[b.id]={instance:b,elements:[],handlers:{}},a&&b.clip(a),Vb.on("*",function(a){return b.emit(a)}),Vb.on("destroy",function(){b.destroy()}),Vb.create()},ac=function(a,d){var e,f,g,h={},i=Xb[this.id],j=i&&i.handlers;if(!i)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof a&&a)g=a.toLowerCase().split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof d)for(e in a)w.call(a,e)&&"string"==typeof e&&e&&"function"==typeof a[e]&&this.on(e,a[e]);if(g&&g.length){for(e=0,f=g.length;f>e;e++)a=g[e].replace(/^on/,""),h[a]=!0,j[a]||(j[a]=[]),j[a].push(d);if(h.ready&&N.ready&&this.emit({type:"ready",client:this}),h.error){for(e=0,f=W.length;f>e;e++)if(N[W[e].replace(/^flash-/,"")]){this.emit({type:"error",name:W[e],client:this});break}c!==b&&Vb.version!==c&&this.emit({type:"error",name:"version-mismatch",jsVersion:Vb.version,swfVersion:c})}}return this},bc=function(a,b){var c,d,e,f,g,h=Xb[this.id],i=h&&h.handlers;if(!i)return this;if(0===arguments.length)f=u(i);else if("string"==typeof a&&a)f=a.split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(c in a)w.call(a,c)&&"string"==typeof c&&c&&"function"==typeof a[c]&&this.off(c,a[c]);if(f&&f.length)for(c=0,d=f.length;d>c;c++)if(a=f[c].toLowerCase().replace(/^on/,""),g=i[a],g&&g.length)if(b)for(e=g.indexOf(b);-1!==e;)g.splice(e,1),e=g.indexOf(b,e);else g.length=0;return this},cc=function(a){var b=null,c=Xb[this.id]&&Xb[this.id].handlers;return c&&(b="string"==typeof a&&a?c[a]?c[a].slice(0):[]:B(c)),b},dc=function(a){if(ic.call(this,a)){"object"==typeof a&&a&&"string"==typeof a.type&&a.type&&(a=A({},a));var b=A({},ob(a),{client:this});jc.call(this,b)}return this},ec=function(a){if(!Xb[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");a=kc(a);for(var b=0;b<a.length;b++)if(w.call(a,b)&&a[b]&&1===a[b].nodeType){a[b].zcClippingId?-1===Zb[a[b].zcClippingId].indexOf(this.id)&&Zb[a[b].zcClippingId].push(this.id):(a[b].zcClippingId="zcClippingId_"+Yb++,Zb[a[b].zcClippingId]=[this.id],Z.autoActivate===!0&&lc(a[b]));var c=Xb[this.id]&&Xb[this.id].elements;-1===c.indexOf(a[b])&&c.push(a[b])}return this},fc=function(a){var b=Xb[this.id];if(!b)return this;var c,d=b.elements;a="undefined"==typeof a?d.slice(0):kc(a);for(var e=a.length;e--;)if(w.call(a,e)&&a[e]&&1===a[e].nodeType){for(c=0;-1!==(c=d.indexOf(a[e],c));)d.splice(c,1);var f=Zb[a[e].zcClippingId];if(f){for(c=0;-1!==(c=f.indexOf(this.id,c));)f.splice(c,1);0===f.length&&(Z.autoActivate===!0&&mc(a[e]),delete a[e].zcClippingId)}}return this},gc=function(){var a=Xb[this.id];return a&&a.elements?a.elements.slice(0):[]},hc=function(){Xb[this.id]&&(this.unclip(),this.off(),delete Xb[this.id])},ic=function(a){if(!a||!a.type)return!1;if(a.client&&a.client!==this)return!1;var b=Xb[this.id],c=b&&b.elements,d=!!c&&c.length>0,e=!a.target||d&&-1!==c.indexOf(a.target),f=a.relatedTarget&&d&&-1!==c.indexOf(a.relatedTarget),g=a.client&&a.client===this;return b&&(e||f||g)?!0:!1},jc=function(a){var b=Xb[this.id];if("object"==typeof a&&a&&a.type&&b){var c=rb(a),d=b&&b.handlers["*"]||[],e=b&&b.handlers[a.type]||[],g=d.concat(e);if(g&&g.length){var h,i,j,k,l,m=this;for(h=0,i=g.length;i>h;h++)j=g[h],k=m,"string"==typeof j&&"function"==typeof f[j]&&(j=f[j]),"object"==typeof j&&j&&"function"==typeof j.handleEvent&&(k=j,j=j.handleEvent),"function"==typeof j&&(l=A({},a),sb(j,k,[l],c))}}},kc=function(a){return"string"==typeof a&&(a=[]),"number"!=typeof a.length?[a]:a},lc=function(a){if(a&&1===a.nodeType){var b=function(a){(a||(a=f.event))&&("js"!==a._source&&(a.stopImmediatePropagation(),a.preventDefault()),delete a._source)},c=function(c){(c||(c=f.event))&&(b(c),Vb.focus(a))};a.addEventListener("mouseover",c,!1),a.addEventListener("mouseout",b,!1),a.addEventListener("mouseenter",b,!1),a.addEventListener("mouseleave",b,!1),a.addEventListener("mousemove",b,!1),$b[a.zcClippingId]={mouseover:c,mouseout:b,mouseenter:b,mouseleave:b,mousemove:b}}},mc=function(a){if(a&&1===a.nodeType){var b=$b[a.zcClippingId];if("object"==typeof b&&b){for(var c,d,e=["move","leave","enter","out","over"],f=0,g=e.length;g>f;f++)c="mouse"+e[f],d=b[c],"function"==typeof d&&a.removeEventListener(c,d,!1);delete $b[a.zcClippingId]}}};Vb._createClient=function(){_b.apply(this,z(arguments))},Vb.prototype.on=function(){return ac.apply(this,z(arguments))},Vb.prototype.off=function(){return bc.apply(this,z(arguments))},Vb.prototype.handlers=function(){return cc.apply(this,z(arguments))},Vb.prototype.emit=function(){return dc.apply(this,z(arguments))},Vb.prototype.clip=function(){return ec.apply(this,z(arguments))},Vb.prototype.unclip=function(){return fc.apply(this,z(arguments))},Vb.prototype.elements=function(){return gc.apply(this,z(arguments))},Vb.prototype.destroy=function(){return hc.apply(this,z(arguments))},Vb.prototype.setText=function(a){if(!Xb[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Vb.setData("text/plain",a),this},Vb.prototype.setHtml=function(a){if(!Xb[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Vb.setData("text/html",a),this},Vb.prototype.setRichText=function(a){if(!Xb[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Vb.setData("application/rtf",a),this},Vb.prototype.setData=function(){if(!Xb[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Vb.setData.apply(this,z(arguments)),this},Vb.prototype.clearData=function(){if(!Xb[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Vb.clearData.apply(this,z(arguments)),this},Vb.prototype.getData=function(){if(!Xb[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Vb.getData.apply(this,z(arguments))},"function"==typeof define&&define.amd?define(function(){return Vb}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Vb:a.ZeroClipboard=Vb}(function(){return this||window}());var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(c){var d=b.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)},g=a.webkitRequestFileSystem,h=a.requestFileSystem||g||a.mozRequestFileSystem,i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=0,l=500,m=function(b){var d=function(){"string"==typeof b?c().revokeObjectURL(b):b.remove()};a.chrome?d():setTimeout(d,l)},n=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){i(f)}}},o=function(b,i){var l,o,p,q=this,r=b.type,s=!1,t=function(){n(q,"writestart progress write writeend".split(" "))},u=function(){if((s||!l)&&(l=c().createObjectURL(b)),o)o.location.href=l;else{var d=a.open(l,"_blank");void 0==d&&"undefined"!=typeof safari&&(a.location.href=l)}q.readyState=q.DONE,t(),m(l)},v=function(a){return function(){return q.readyState!==q.DONE?a.apply(this,arguments):void 0}},w={create:!0,exclusive:!1};return q.readyState=q.INIT,i||(i="download"),e?(l=c().createObjectURL(b),d.href=l,d.download=i,f(d),q.readyState=q.DONE,t(),void m(l)):(a.chrome&&r&&r!==j&&(p=b.slice||b.webkitSlice,b=p.call(b,0,b.size,j),s=!0),g&&"download"!==i&&(i+=".download"),(r===j||g)&&(o=a),h?(k+=b.size,void h(a.TEMPORARY,k,v(function(a){a.root.getDirectory("saved",w,v(function(a){var c=function(){a.getFile(i,w,v(function(a){a.createWriter(v(function(c){c.onwriteend=function(b){o.location.href=a.toURL(),q.readyState=q.DONE,n(q,"writeend",b),m(a)},c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&u()},"writestart progress write abort".split(" ").forEach(function(a){c["on"+a]=q["on"+a]}),c.write(b),q.abort=function(){c.abort(),q.readyState=q.DONE},q.readyState=q.WRITING}),u)}),u)};a.getFile(i,{create:!1},v(function(a){a.remove(),c()}),v(function(a){a.code===a.NOT_FOUND_ERR?c():u()}))}),u)}),u)):void u())},p=o.prototype,q=function(a,b){return new o(a,b)};return p.abort=function(){var a=this;a.readyState=a.DONE,n(a,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,q
}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),function(a){"use strict";var b={};"undefined"==typeof exports?"function"==typeof define&&"object"==typeof define.amd&&define.amd?(b.exports={},define(function(){return b.exports})):b.exports="undefined"!=typeof window?window:a:b.exports=exports,function(a){if(!b)var b=1e-6;if(!c)var c="undefined"!=typeof Float32Array?Float32Array:Array;if(!d)var d=Math.random;var e={};e.setMatrixArrayType=function(a){c=a},"undefined"!=typeof a&&(a.glMatrix=e);var f=Math.PI/180;e.toRadian=function(a){return a*f};var g={};g.create=function(){var a=new c(2);return a[0]=0,a[1]=0,a},g.clone=function(a){var b=new c(2);return b[0]=a[0],b[1]=a[1],b},g.fromValues=function(a,b){var d=new c(2);return d[0]=a,d[1]=b,d},g.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a},g.set=function(a,b,c){return a[0]=b,a[1]=c,a},g.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a},g.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a},g.sub=g.subtract,g.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},g.mul=g.multiply,g.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},g.div=g.divide,g.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a},g.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a},g.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a},g.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a},g.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)},g.dist=g.distance,g.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d},g.sqrDist=g.squaredDistance,g.length=function(a){var b=a[0],c=a[1];return Math.sqrt(b*b+c*c)},g.len=g.length,g.squaredLength=function(a){var b=a[0],c=a[1];return b*b+c*c},g.sqrLen=g.squaredLength,g.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a},g.normalize=function(a,b){var c=b[0],d=b[1],e=c*c+d*d;return e>0&&(e=1/Math.sqrt(e),a[0]=b[0]*e,a[1]=b[1]*e),a},g.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},g.cross=function(a,b,c){var d=b[0]*c[1]-b[1]*c[0];return a[0]=a[1]=0,a[2]=d,a},g.lerp=function(a,b,c,d){var e=b[0],f=b[1];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a},g.random=function(a,b){b=b||1;var c=2*d()*Math.PI;return a[0]=Math.cos(c)*b,a[1]=Math.sin(c)*b,a},g.transformMat2=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e,a[1]=c[1]*d+c[3]*e,a},g.transformMat2d=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a},g.transformMat3=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[3]*e+c[6],a[1]=c[1]*d+c[4]*e+c[7],a},g.transformMat4=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[4]*e+c[12],a[1]=c[1]*d+c[5]*e+c[13],a},g.forEach=function(){var a=g.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=2),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],f(a,a,g),b[h]=a[0],b[h+1]=a[1];return b}}(),g.str=function(a){return"vec2("+a[0]+", "+a[1]+")"},"undefined"!=typeof a&&(a.vec2=g);var h={};h.create=function(){var a=new c(3);return a[0]=0,a[1]=0,a[2]=0,a},h.clone=function(a){var b=new c(3);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b},h.fromValues=function(a,b,d){var e=new c(3);return e[0]=a,e[1]=b,e[2]=d,e},h.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a},h.set=function(a,b,c,d){return a[0]=b,a[1]=c,a[2]=d,a},h.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a},h.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a},h.sub=h.subtract,h.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a},h.mul=h.multiply,h.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a},h.div=h.divide,h.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a},h.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a},h.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a},h.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a},h.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return Math.sqrt(c*c+d*d+e*e)},h.dist=h.distance,h.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return c*c+d*d+e*e},h.sqrDist=h.squaredDistance,h.length=function(a){var b=a[0],c=a[1],d=a[2];return Math.sqrt(b*b+c*c+d*d)},h.len=h.length,h.squaredLength=function(a){var b=a[0],c=a[1],d=a[2];return b*b+c*c+d*d},h.sqrLen=h.squaredLength,h.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a},h.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=c*c+d*d+e*e;return f>0&&(f=1/Math.sqrt(f),a[0]=b[0]*f,a[1]=b[1]*f,a[2]=b[2]*f),a},h.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},h.cross=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];return a[0]=e*i-f*h,a[1]=f*g-d*i,a[2]=d*h-e*g,a},h.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a},h.random=function(a,b){b=b||1;var c=2*d()*Math.PI,e=2*d()-1,f=Math.sqrt(1-e*e)*b;return a[0]=Math.cos(c)*f,a[1]=Math.sin(c)*f,a[2]=e*b,a},h.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12],a[1]=c[1]*d+c[5]*e+c[9]*f+c[13],a[2]=c[2]*d+c[6]*e+c[10]*f+c[14],a},h.transformMat3=function(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=d*c[0]+e*c[3]+f*c[6],a[1]=d*c[1]+e*c[4]+f*c[7],a[2]=d*c[2]+e*c[5]+f*c[8],a},h.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},h.rotateX=function(a,b,c,d){var e=[],f=[];return e[0]=b[0]-c[0],e[1]=b[1]-c[1],e[2]=b[2]-c[2],f[0]=e[0],f[1]=e[1]*Math.cos(d)-e[2]*Math.sin(d),f[2]=e[1]*Math.sin(d)+e[2]*Math.cos(d),a[0]=f[0]+c[0],a[1]=f[1]+c[1],a[2]=f[2]+c[2],a},h.rotateY=function(a,b,c,d){var e=[],f=[];return e[0]=b[0]-c[0],e[1]=b[1]-c[1],e[2]=b[2]-c[2],f[0]=e[2]*Math.sin(d)+e[0]*Math.cos(d),f[1]=e[1],f[2]=e[2]*Math.cos(d)-e[0]*Math.sin(d),a[0]=f[0]+c[0],a[1]=f[1]+c[1],a[2]=f[2]+c[2],a},h.rotateZ=function(a,b,c,d){var e=[],f=[];return e[0]=b[0]-c[0],e[1]=b[1]-c[1],e[2]=b[2]-c[2],f[0]=e[0]*Math.cos(d)-e[1]*Math.sin(d),f[1]=e[0]*Math.sin(d)+e[1]*Math.cos(d),f[2]=e[2],a[0]=f[0]+c[0],a[1]=f[1]+c[1],a[2]=f[2]+c[2],a},h.forEach=function(){var a=h.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=3),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2];return b}}(),h.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},"undefined"!=typeof a&&(a.vec3=h);var i={};i.create=function(){var a=new c(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a},i.clone=function(a){var b=new c(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},i.fromValues=function(a,b,d,e){var f=new c(4);return f[0]=a,f[1]=b,f[2]=d,f[3]=e,f},i.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},i.set=function(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a},i.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a},i.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a},i.sub=i.subtract,i.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a[3]=b[3]*c[3],a},i.mul=i.multiply,i.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a[3]=b[3]/c[3],a},i.div=i.divide,i.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a[3]=Math.min(b[3],c[3]),a},i.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a[3]=Math.max(b[3],c[3]),a},i.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a},i.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a},i.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+f*f)},i.dist=i.distance,i.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return c*c+d*d+e*e+f*f},i.sqrDist=i.squaredDistance,i.length=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.sqrt(b*b+c*c+d*d+e*e)},i.len=i.length,i.squaredLength=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return b*b+c*c+d*d+e*e},i.sqrLen=i.squaredLength,i.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=-b[3],a},i.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f;return g>0&&(g=1/Math.sqrt(g),a[0]=b[0]*g,a[1]=b[1]*g,a[2]=b[2]*g,a[3]=b[3]*g),a},i.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},i.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a[3]=h+d*(c[3]-h),a},i.random=function(a,b){return b=b||1,a[0]=d(),a[1]=d(),a[2]=d(),a[3]=d(),i.normalize(a,a),i.scale(a,a,b),a},i.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*g,a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*g,a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*g,a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*g,a},i.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},i.forEach=function(){var a=i.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=4),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],a[3]=b[h+3],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2],b[h+3]=a[3];return b}}(),i.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.vec4=i);var j={};j.create=function(){var a=new c(4);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},j.clone=function(a){var b=new c(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},j.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},j.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},j.transpose=function(a,b){if(a===b){var c=b[1];a[1]=b[2],a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a},j.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*f-e*d;return g?(g=1/g,a[0]=f*g,a[1]=-d*g,a[2]=-e*g,a[3]=c*g,a):null},j.adjoint=function(a,b){var c=b[0];return a[0]=b[3],a[1]=-b[1],a[2]=-b[2],a[3]=c,a},j.determinant=function(a){return a[0]*a[3]-a[2]*a[1]},j.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*h+f*i,a[1]=e*h+g*i,a[2]=d*j+f*k,a[3]=e*j+g*k,a},j.mul=j.multiply,j.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+f*h,a[1]=e*i+g*h,a[2]=d*-h+f*i,a[3]=e*-h+g*i,a},j.scale=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1];return a[0]=d*h,a[1]=e*h,a[2]=f*i,a[3]=g*i,a},j.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},j.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))},j.LDU=function(a,b,c,d){return a[2]=d[2]/d[0],c[0]=d[0],c[1]=d[1],c[3]=d[3]-a[2]*c[1],[a,b,c]},"undefined"!=typeof a&&(a.mat2=j);var k={};k.create=function(){var a=new c(6);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},k.clone=function(a){var b=new c(6);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b},k.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a},k.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},k.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=c*f-d*e;return i?(i=1/i,a[0]=f*i,a[1]=-d*i,a[2]=-e*i,a[3]=c*i,a[4]=(e*h-f*g)*i,a[5]=(d*g-c*h)*i,a):null},k.determinant=function(a){return a[0]*a[3]-a[1]*a[2]},k.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1],l=c[2],m=c[3],n=c[4],o=c[5];return a[0]=d*j+f*k,a[1]=e*j+g*k,a[2]=d*l+f*m,a[3]=e*l+g*m,a[4]=d*n+f*o+h,a[5]=e*n+g*o+i,a},k.mul=k.multiply,k.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+f*j,a[1]=e*k+g*j,a[2]=d*-j+f*k,a[3]=e*-j+g*k,a[4]=h,a[5]=i,a},k.scale=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1];return a[0]=d*j,a[1]=e*j,a[2]=f*k,a[3]=g*k,a[4]=h,a[5]=i,a},k.translate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=d*j+f*k+h,a[5]=e*j+g*k+i,a},k.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"},k.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)},"undefined"!=typeof a&&(a.mat2d=k);var l={};l.create=function(){var a=new c(9);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},l.fromMat4=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[4],a[4]=b[5],a[5]=b[6],a[6]=b[8],a[7]=b[9],a[8]=b[10],a},l.clone=function(a){var b=new c(9);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},l.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},l.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},l.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3],a[2]=b[6],a[3]=c,a[5]=b[7],a[6]=d,a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},l.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=k*g-h*j,m=-k*f+h*i,n=j*f-g*i,o=c*l+d*m+e*n;return o?(o=1/o,a[0]=l*o,a[1]=(-k*d+e*j)*o,a[2]=(h*d-e*g)*o,a[3]=m*o,a[4]=(k*c-e*i)*o,a[5]=(-h*c+e*f)*o,a[6]=n*o,a[7]=(-j*c+d*i)*o,a[8]=(g*c-d*f)*o,a):null},l.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8];return a[0]=g*k-h*j,a[1]=e*j-d*k,a[2]=d*h-e*g,a[3]=h*i-f*k,a[4]=c*k-e*i,a[5]=e*f-c*h,a[6]=f*j-g*i,a[7]=d*i-c*j,a[8]=c*g-d*f,a},l.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*(j*f-g*i)+c*(-j*e+g*h)+d*(i*e-f*h)},l.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=c[8];return a[0]=m*d+n*g+o*j,a[1]=m*e+n*h+o*k,a[2]=m*f+n*i+o*l,a[3]=p*d+q*g+r*j,a[4]=p*e+q*h+r*k,a[5]=p*f+q*i+r*l,a[6]=s*d+t*g+u*j,a[7]=s*e+t*h+u*k,a[8]=s*f+t*i+u*l,a},l.mul=l.multiply,l.translate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=m*d+n*g+j,a[7]=m*e+n*h+k,a[8]=m*f+n*i+l,a},l.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=Math.sin(c),n=Math.cos(c);return a[0]=n*d+m*g,a[1]=n*e+m*h,a[2]=n*f+m*i,a[3]=n*g-m*d,a[4]=n*h-m*e,a[5]=n*i-m*f,a[6]=j,a[7]=k,a[8]=l,a},l.scale=function(a,b,c){var d=c[0],e=c[1];return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=e*b[3],a[4]=e*b[4],a[5]=e*b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},l.fromMat2d=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=0,a[3]=b[2],a[4]=b[3],a[5]=0,a[6]=b[4],a[7]=b[5],a[8]=1,a},l.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[3]=k-r,a[6]=m+q,a[1]=k+r,a[4]=1-j-o,a[7]=n-p,a[2]=m-q,a[5]=n+p,a[8]=1-j-l,a},l.normalFromMat4=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(i*A-g*D-j*z)*E,a[2]=(g*C-h*A+j*y)*E,a[3]=(e*C-d*D-f*B)*E,a[4]=(c*D-e*A+f*z)*E,a[5]=(d*A-c*C-f*y)*E,a[6]=(p*x-q*w+r*v)*E,a[7]=(q*u-o*x-r*t)*E,a[8]=(o*w-p*u+r*s)*E,a):null},l.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"},l.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))},"undefined"!=typeof a&&(a.mat3=l);var m={};m.create=function(){var a=new c(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.clone=function(a){var b=new c(16);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b},m.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},m.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=c,a[6]=b[9],a[7]=b[13],a[8]=d,a[9]=f,a[11]=b[14],a[12]=e,a[13]=g,a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},m.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(e*C-d*D-f*B)*E,a[2]=(p*x-q*w+r*v)*E,a[3]=(m*w-l*x-n*v)*E,a[4]=(i*A-g*D-j*z)*E,a[5]=(c*D-e*A+f*z)*E,a[6]=(q*u-o*x-r*t)*E,a[7]=(k*x-m*u+n*t)*E,a[8]=(g*C-h*A+j*y)*E,a[9]=(d*A-c*C-f*y)*E,a[10]=(o*w-p*u+r*s)*E,a[11]=(l*u-k*w-n*s)*E,a[12]=(h*z-g*B-i*y)*E,a[13]=(c*B-d*z+e*y)*E,a[14]=(p*t-o*v-q*s)*E,a[15]=(k*v-l*t+m*s)*E,a):null},m.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15];return a[0]=h*(m*r-n*q)-l*(i*r-j*q)+p*(i*n-j*m),a[1]=-(d*(m*r-n*q)-l*(e*r-f*q)+p*(e*n-f*m)),a[2]=d*(i*r-j*q)-h*(e*r-f*q)+p*(e*j-f*i),a[3]=-(d*(i*n-j*m)-h*(e*n-f*m)+l*(e*j-f*i)),a[4]=-(g*(m*r-n*q)-k*(i*r-j*q)+o*(i*n-j*m)),a[5]=c*(m*r-n*q)-k*(e*r-f*q)+o*(e*n-f*m),a[6]=-(c*(i*r-j*q)-g*(e*r-f*q)+o*(e*j-f*i)),a[7]=c*(i*n-j*m)-g*(e*n-f*m)+k*(e*j-f*i),a[8]=g*(l*r-n*p)-k*(h*r-j*p)+o*(h*n-j*l),a[9]=-(c*(l*r-n*p)-k*(d*r-f*p)+o*(d*n-f*l)),a[10]=c*(h*r-j*p)-g*(d*r-f*p)+o*(d*j-f*h),a[11]=-(c*(h*n-j*l)-g*(d*n-f*l)+k*(d*j-f*h)),a[12]=-(g*(l*q-m*p)-k*(h*q-i*p)+o*(h*m-i*l)),a[13]=c*(l*q-m*p)-k*(d*q-e*p)+o*(d*m-e*l),a[14]=-(c*(h*q-i*p)-g*(d*q-e*p)+o*(d*i-e*h)),a[15]=c*(h*m-i*l)-g*(d*m-e*l)+k*(d*i-e*h),a},m.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15],r=b*g-c*f,s=b*h-d*f,t=b*i-e*f,u=c*h-d*g,v=c*i-e*g,w=d*i-e*h,x=j*o-k*n,y=j*p-l*n,z=j*q-m*n,A=k*p-l*o,B=k*q-m*o,C=l*q-m*p;return r*C-s*B+t*A+u*z-v*y+w*x},m.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],t=c[0],u=c[1],v=c[2],w=c[3];return a[0]=t*d+u*h+v*l+w*p,a[1]=t*e+u*i+v*m+w*q,a[2]=t*f+u*j+v*n+w*r,a[3]=t*g+u*k+v*o+w*s,t=c[4],u=c[5],v=c[6],w=c[7],a[4]=t*d+u*h+v*l+w*p,a[5]=t*e+u*i+v*m+w*q,a[6]=t*f+u*j+v*n+w*r,a[7]=t*g+u*k+v*o+w*s,t=c[8],u=c[9],v=c[10],w=c[11],a[8]=t*d+u*h+v*l+w*p,a[9]=t*e+u*i+v*m+w*q,a[10]=t*f+u*j+v*n+w*r,a[11]=t*g+u*k+v*o+w*s,t=c[12],u=c[13],v=c[14],w=c[15],a[12]=t*d+u*h+v*l+w*p,a[13]=t*e+u*i+v*m+w*q,a[14]=t*f+u*j+v*n+w*r,a[15]=t*g+u*k+v*o+w*s,a},m.mul=m.multiply,m.translate=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=c[0],q=c[1],r=c[2];return b===a?(a[12]=b[0]*p+b[4]*q+b[8]*r+b[12],a[13]=b[1]*p+b[5]*q+b[9]*r+b[13],a[14]=b[2]*p+b[6]*q+b[10]*r+b[14],a[15]=b[3]*p+b[7]*q+b[11]*r+b[15]):(d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=j,a[7]=k,a[8]=l,a[9]=m,a[10]=n,a[11]=o,a[12]=d*p+h*q+l*r+b[12],a[13]=e*p+i*q+m*r+b[13],a[14]=f*p+j*q+n*r+b[14],a[15]=g*p+k*q+o*r+b[15]),a},m.scale=function(a,b,c){var d=c[0],e=c[1],f=c[2];return a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d,a[3]=b[3]*d,a[4]=b[4]*e,a[5]=b[5]*e,a[6]=b[6]*e,a[7]=b[7]*e,a[8]=b[8]*f,a[9]=b[9]*f,a[10]=b[10]*f,a[11]=b[11]*f,a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},m.rotate=function(a,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=e[0],E=e[1],F=e[2],G=Math.sqrt(D*D+E*E+F*F);return Math.abs(G)<b?null:(G=1/G,D*=G,E*=G,F*=G,f=Math.sin(d),g=Math.cos(d),h=1-g,i=c[0],j=c[1],k=c[2],l=c[3],m=c[4],n=c[5],o=c[6],p=c[7],q=c[8],r=c[9],s=c[10],t=c[11],u=D*D*h+g,v=E*D*h+F*f,w=F*D*h-E*f,x=D*E*h-F*f,y=E*E*h+g,z=F*E*h+D*f,A=D*F*h+E*f,B=E*F*h-D*f,C=F*F*h+g,a[0]=i*u+m*v+q*w,a[1]=j*u+n*v+r*w,a[2]=k*u+o*v+s*w,a[3]=l*u+p*v+t*w,a[4]=i*x+m*y+q*z,a[5]=j*x+n*y+r*z,a[6]=k*x+o*y+s*z,a[7]=l*x+p*y+t*z,a[8]=i*A+m*B+q*C,a[9]=j*A+n*B+r*C,a[10]=k*A+o*B+s*C,a[11]=l*A+p*B+t*C,c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a)},m.rotateX=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[4],g=b[5],h=b[6],i=b[7],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[4]=f*e+j*d,a[5]=g*e+k*d,a[6]=h*e+l*d,a[7]=i*e+m*d,a[8]=j*e-f*d,a[9]=k*e-g*d,a[10]=l*e-h*d,a[11]=m*e-i*d,a},m.rotateY=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e-j*d,a[1]=g*e-k*d,a[2]=h*e-l*d,a[3]=i*e-m*d,a[8]=f*d+j*e,a[9]=g*d+k*e,a[10]=h*d+l*e,a[11]=i*d+m*e,a},m.rotateZ=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[4],k=b[5],l=b[6],m=b[7];return b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e+j*d,a[1]=g*e+k*d,a[2]=h*e+l*d,a[3]=i*e+m*d,a[4]=j*e-f*d,a[5]=k*e-g*d,a[6]=l*e-h*d,a[7]=m*e-i*d,a},m.fromRotationTranslation=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=d+d,i=e+e,j=f+f,k=d*h,l=d*i,m=d*j,n=e*i,o=e*j,p=f*j,q=g*h,r=g*i,s=g*j;return a[0]=1-(n+p),a[1]=l+s,a[2]=m-r,a[3]=0,a[4]=l-s,a[5]=1-(k+p),a[6]=o+q,a[7]=0,a[8]=m+r,a[9]=o-q,a[10]=1-(k+n),a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a},m.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[1]=k+r,a[2]=m-q,a[3]=0,a[4]=k-r,a[5]=1-j-o,a[6]=n+p,a[7]=0,a[8]=m+q,a[9]=n-p,a[10]=1-j-l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.frustum=function(a,b,c,d,e,f,g){var h=1/(c-b),i=1/(e-d),j=1/(f-g);return a[0]=2*f*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*f*i,a[6]=0,a[7]=0,a[8]=(c+b)*h,a[9]=(e+d)*i,a[10]=(g+f)*j,a[11]=-1,a[12]=0,a[13]=0,a[14]=g*f*2*j,a[15]=0,a},m.perspective=function(a,b,c,d,e){var f=1/Math.tan(b/2),g=1/(d-e);return a[0]=f/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(e+d)*g,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*e*d*g,a[15]=0,a},m.ortho=function(a,b,c,d,e,f,g){var h=1/(b-c),i=1/(d-e),j=1/(f-g);return a[0]=-2*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*j,a[11]=0,a[12]=(b+c)*h,a[13]=(e+d)*i,a[14]=(g+f)*j,a[15]=1,a},m.lookAt=function(a,c,d,e){var f,g,h,i,j,k,l,n,o,p,q=c[0],r=c[1],s=c[2],t=e[0],u=e[1],v=e[2],w=d[0],x=d[1],y=d[2];return Math.abs(q-w)<b&&Math.abs(r-x)<b&&Math.abs(s-y)<b?m.identity(a):(l=q-w,n=r-x,o=s-y,p=1/Math.sqrt(l*l+n*n+o*o),l*=p,n*=p,o*=p,f=u*o-v*n,g=v*l-t*o,h=t*n-u*l,p=Math.sqrt(f*f+g*g+h*h),p?(p=1/p,f*=p,g*=p,h*=p):(f=0,g=0,h=0),i=n*h-o*g,j=o*f-l*h,k=l*g-n*f,p=Math.sqrt(i*i+j*j+k*k),p?(p=1/p,i*=p,j*=p,k*=p):(i=0,j=0,k=0),a[0]=f,a[1]=i,a[2]=l,a[3]=0,a[4]=g,a[5]=j,a[6]=n,a[7]=0,a[8]=h,a[9]=k,a[10]=o,a[11]=0,a[12]=-(f*q+g*r+h*s),a[13]=-(i*q+j*r+k*s),a[14]=-(l*q+n*r+o*s),a[15]=1,a)},m.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"},m.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))},"undefined"!=typeof a&&(a.mat4=m);var n={};n.create=function(){var a=new c(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},n.rotationTo=function(){var a=h.create(),b=h.fromValues(1,0,0),c=h.fromValues(0,1,0);return function(d,e,f){var g=h.dot(e,f);return-.999999>g?(h.cross(a,b,e),h.length(a)<1e-6&&h.cross(a,c,e),h.normalize(a,a),n.setAxisAngle(d,a,Math.PI),d):g>.999999?(d[0]=0,d[1]=0,d[2]=0,d[3]=1,d):(h.cross(a,e,f),d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=1+g,n.normalize(d,d))}}(),n.setAxes=function(){var a=l.create();return function(b,c,d,e){return a[0]=d[0],a[3]=d[1],a[6]=d[2],a[1]=e[0],a[4]=e[1],a[7]=e[2],a[2]=-c[0],a[5]=-c[1],a[8]=-c[2],n.normalize(b,n.fromMat3(b,a))}}(),n.clone=i.clone,n.fromValues=i.fromValues,n.copy=i.copy,n.set=i.set,n.identity=function(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},n.setAxisAngle=function(a,b,c){c*=.5;var d=Math.sin(c);return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=Math.cos(c),a},n.add=i.add,n.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j,a},n.mul=n.multiply,n.scale=i.scale,n.rotateX=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+g*h,a[1]=e*i+f*h,a[2]=f*i-e*h,a[3]=g*i-d*h,a},n.rotateY=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i-f*h,a[1]=e*i+g*h,a[2]=f*i+d*h,a[3]=g*i-e*h,a},n.rotateZ=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=e*i-d*h,a[2]=f*i+g*h,a[3]=g*i-f*h,a},n.calculateW=function(a,b){var c=b[0],d=b[1],e=b[2];return a[0]=c,a[1]=d,a[2]=e,a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a},n.dot=i.dot,n.lerp=i.lerp,n.slerp=function(a,b,c,d){var e,f,g,h,i,j=b[0],k=b[1],l=b[2],m=b[3],n=c[0],o=c[1],p=c[2],q=c[3];return f=j*n+k*o+l*p+m*q,0>f&&(f=-f,n=-n,o=-o,p=-p,q=-q),1-f>1e-6?(e=Math.acos(f),g=Math.sin(e),h=Math.sin((1-d)*e)/g,i=Math.sin(d*e)/g):(h=1-d,i=d),a[0]=h*j+i*n,a[1]=h*k+i*o,a[2]=h*l+i*p,a[3]=h*m+i*q,a},n.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f,h=g?1/g:0;return a[0]=-c*h,a[1]=-d*h,a[2]=-e*h,a[3]=f*h,a},n.conjugate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=b[3],a},n.length=i.length,n.len=n.length,n.squaredLength=i.squaredLength,n.sqrLen=n.squaredLength,n.normalize=i.normalize,n.fromMat3=function(a,b){var c,d=b[0]+b[4]+b[8];if(d>0)c=Math.sqrt(d+1),a[3]=.5*c,c=.5/c,a[0]=(b[7]-b[5])*c,a[1]=(b[2]-b[6])*c,a[2]=(b[3]-b[1])*c;else{var e=0;b[4]>b[0]&&(e=1),b[8]>b[3*e+e]&&(e=2);var f=(e+1)%3,g=(e+2)%3;c=Math.sqrt(b[3*e+e]-b[3*f+f]-b[3*g+g]+1),a[e]=.5*c,c=.5/c,a[3]=(b[3*g+f]-b[3*f+g])*c,a[f]=(b[3*f+e]+b[3*e+f])*c,a[g]=(b[3*g+e]+b[3*e+g])*c}return a},n.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.quat=n)}(b.exports)}(this),function(a){function b(a){if(a){var b=d.contentWindow.document;b.open().close(),b.location.hash=a}}var c,d,e,f;a.tools=a.tools||{version:"@VERSION"},a.tools.history={init:function(g){f||(a.browser.msie&&a.browser.version<"8"?d||(d=a("<iframe/>").attr("src","javascript:false;").hide().get(0),a("body").prepend(d),setInterval(function(){var b=d.contentWindow.document,e=b.location.hash;c!==e&&a(window).trigger("hash",e)},100),b(location.hash||"#")):setInterval(function(){var b=location.hash;b!==c&&a(window).trigger("hash",b)},100),e=e?e.add(g):g,g.click(function(c){var e=a(this).attr("href");return d&&b(e),"#"!=e.slice(0,1)?(location.href="#"+e,c.preventDefault()):void 0}),f=!0)}},a.fn.history=function(b){return a.tools.history.init(this),this.bind("history",b)}}(jQuery),function(a){function b(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c}function c(a,b){var c=parseInt(a.css(b),10);if(c)return c;var d=a[0].currentStyle;return d&&d.width&&parseInt(d.width,10)}function d(a){var b=a.data("events");return b&&b.onSlide}function e(e,f){function g(a,c,d,g){if(void 0===d?d=c/m*u:g&&(d-=f.min),v&&(d=Math.round(d/v)*v),(void 0===c||v)&&(c=d*m/u),isNaN(d))return o;c=Math.max(0,Math.min(c,m)),d=c/m*u,(g||!j)&&(d+=f.min),j&&(g?c=m-c:d=f.max-d),d=b(d,w);var h="click"==a.type;if(B&&void 0!==k&&!h&&"api"!=a.type&&(a.type="onSlide",A.trigger(a,[d,c]),a.isDefaultPrevented()))return o;var i=h?f.speed:0,l=h?function(){a.type="change",A.trigger(a,[d])}:null;if(j)r.animate({top:c},i,l),f.progress&&s.animate({height:m-c+r.height()/2},i);else{if(f.min<0){var p=Math.ceil(-f.min*(m/u)+r.width()/2-1);t.css("display","block").css("left",p)}else{var p=0;t.css("display","none")}r.animate({left:c},i,l),f.progress&&(d>0?(s.css("left",Math.ceil(p-1)+"px"),s.animate({width:c-p+r.width()/2},i)):(s.css("left",Math.ceil(c+r.width()/2+1)+"px"),s.animate({width:p-c-r.width()/2},i)))}return k=d,n=c,e.val(d),o}function h(){j=f.vertical||c(q,"height")>c(q,"width"),j?(m=c(q,"height")-c(r,"height"),l=q.offset().top+m):(m=c(q,"width")-c(r,"width"),l=q.offset().left)}function i(){h(),o.setValue(void 0!==f.value?f.value:f.min)}var j,k,l,m,n,o=this,p=f.css,q=a("<div><div/><span></span><a href='#'/></div>").data("rangeinput",o);e.before(q);var r=q.addClass(p.slider).find("a").addClass(p.handle),s=q.find("div").addClass(p.progress),t=q.find("span").addClass(p.zeropoint);a.each("min,max,step,value".split(","),function(a,b){var c=e.attr(b);parseFloat(c)&&(f[b]=parseFloat(c,10))});var u=f.max-f.min,v="any"==f.step?0:f.step,w=f.precision;if(void 0===w)try{w=v.toString().split(".")[1].length}catch(x){w=0}if("range"==e.attr("type")){var y=e.clone().wrap("<div/>").parent().html(),z=a(y.replace(/type/i,"type=text data-orig-type"));z.val(f.value),e.replaceWith(z),e=z}e.addClass(p.input);var A=a(o).add(e),B=!0;a.extend(o,{getValue:function(){return k},setValue:function(b,c){return h(),g(c||a.Event("api"),void 0,b,!0)},getConf:function(){return f},getProgress:function(){return s},getHandle:function(){return r},getInput:function(){return e},step:function(b,c){c=c||a.Event();var d="any"==f.step?1:f.step;o.setValue(k+d*(b||1),c)},stepUp:function(a){return o.step(a||1)},stepDown:function(a){return o.step(-a||-1)}}),a.each("onSlide,change".split(","),function(b,c){a.isFunction(f[c])&&a(o).bind(c,f[c]),o[c]=function(b){return b&&a(o).bind(c,b),o}}),r.drag({drag:!1}).bind("dragStart",function(){h(),B=d(a(o))||d(e)}).bind("drag",function(a,b,c){return e.is(":disabled")?!1:void g(a,j?b:c)}).bind("dragEnd",function(a){a.isDefaultPrevented()||(a.type="change",A.trigger(a,[k]))}).click(function(a){return a.preventDefault()}),q.click(function(a){if(e.is(":disabled")||a.target==r[0])return a.preventDefault();h();var b=j?r.height()/2:r.width()/2;g(a,j?m-l-b+a.pageY:a.pageX-l-b)}),f.keyboard&&e.keydown(function(b){if(!e.attr("readonly")){var c=b.keyCode,d=-1!=a([75,76,38,33,39]).index(c),f=-1!=a([74,72,40,34,37]).index(c);return!d&&!f||b.shiftKey||b.altKey||b.ctrlKey?void 0:(d?o.step(33==c?10:1,b):f&&o.step(34==c?-10:-1,b),b.preventDefault())}}),e.blur(function(b){var c=a(this).val();c!==k&&o.setValue(c,b)}),a.extend(e[0],{stepUp:o.stepUp,stepDown:o.stepDown}),i(),m||a(window).load(i)
}a.tools=a.tools||{version:"@VERSION"};var f;f=a.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:void 0,vertical:0,keyboard:!0,progress:!1,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle",zeropoint:"zeropoint"}}};var g,h;a.fn.drag=function(b){return b=a.extend({x:!0,y:!0,drag:!0},b),g=g||a(document).bind("mousedown mouseup",function(c){var d=a(c.target);if("mousedown"==c.type&&d.data("drag")){var e=d.position(),f=c.pageX-e.left,i=c.pageY-e.top,j=!0;g.bind("mousemove.drag",function(a){var c=a.pageX-f,e=a.pageY-i,g={};b.x&&(g.left=c),b.y&&(g.top=e),j&&(d.trigger("dragStart"),j=!1),b.drag&&d.css(g),d.trigger("drag",[e,c]),h=d}),c.preventDefault()}else try{h&&h.trigger("dragEnd")}finally{g.unbind("mousemove.drag"),h=null}}),this.data("drag",!0)},a.expr[":"].range=function(b){var c=b.getAttribute("type");return c&&"range"==c||!!a(b).filter("input").data("rangeinput")},a.fn.rangeinput=function(b){if(this.data("rangeinput"))return this;b=a.extend(!0,{},f.conf,b);var c;return this.each(function(){var d=new e(a(this),a.extend(!0,{},b)),f=d.getInput().data("rangeinput",d);c=c?c.add(f):f}),c?c:this}}(jQuery);var Kinetic={};!function(a){var b=Math.PI/180;Kinetic={version:"5.1.0",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:0,angleDeg:!0,UA:function(){var b=a.navigator&&a.navigator.userAgent||"",c=b.toLowerCase(),d=/(chrome)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[],e=!!b.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i);return{browser:d[1]||"",version:d[2]||"0",mobile:e}}(),Filters:{},Node:function(a){this._init(a)},Shape:function(a){this.__init(a)},Container:function(a){this.__init(a)},Stage:function(a){this.___init(a)},BaseLayer:function(a){this.___init(a)},Layer:function(a){this.____init(a)},FastLayer:function(a){this.____init(a)},Group:function(a){this.___init(a)},isDragging:function(){var a=Kinetic.DD;return a?a.isDragging:!1},isDragReady:function(){var a=Kinetic.DD;return a?!!a.node:!1},_addId:function(a,b){void 0!==b&&(this.ids[b]=a)},_removeId:function(a){void 0!==a&&delete this.ids[a]},_addName:function(a,b){void 0!==b&&(void 0===this.names[b]&&(this.names[b]=[]),this.names[b].push(a))},_removeName:function(a,b){if(void 0!==a){var c=this.names[a];if(void 0!==c){for(var d=0;d<c.length;d++){var e=c[d];e._id===b&&c.splice(d,1)}0===c.length&&delete this.names[a]}}},getAngle:function(a){return this.angleDeg?a*b:a}}}(this),function(a,b){if("object"==typeof exports){var c=require("canvas"),d=require("jsdom").jsdom,e=d("<!DOCTYPE html><html><head></head><body></body></html>"),f=b();return Kinetic.document=e,Kinetic.window=Kinetic.document.createWindow(),Kinetic.window.Image=c.Image,Kinetic.root=a,Kinetic._nodeCanvas=c,void(module.exports=f)}"function"==typeof define&&define.amd&&define(b),Kinetic.document=document,Kinetic.window=window,Kinetic.root=a}((1,eval)("this"),function(){return Kinetic}),!function(){Kinetic.Collection=function(){var a=[].slice.call(arguments),b=a.length,c=0;for(this.length=b;b>c;c++)this[c]=a[c];return this},Kinetic.Collection.prototype=[],Kinetic.Collection.prototype.each=function(a){for(var b=0;b<this.length;b++)a(this[b],b)},Kinetic.Collection.prototype.toArray=function(){var a,b=[],c=this.length;for(a=0;c>a;a++)b.push(this[a]);return b},Kinetic.Collection.toCollection=function(a){var b,c=new Kinetic.Collection,d=a.length;for(b=0;d>b;b++)c.push(a[b]);return c},Kinetic.Collection._mapMethod=function(a){Kinetic.Collection.prototype[a]=function(){var b,c=this.length,d=[].slice.call(arguments);for(b=0;c>b;b++)this[b][a].apply(this[b],d);return this}},Kinetic.Collection.mapMethods=function(a){var b=a.prototype;for(var c in b)Kinetic.Collection._mapMethod(c)},Kinetic.Transform=function(a){this.m=a&&a.slice()||[1,0,0,1,0,0]},Kinetic.Transform.prototype={copy:function(){return new Kinetic.Transform(this.m)},point:function(a){var b=this.m;return{x:b[0]*a.x+b[2]*a.y+b[4],y:b[1]*a.x+b[3]*a.y+b[5]}},translate:function(a,b){return this.m[4]+=this.m[0]*a+this.m[2]*b,this.m[5]+=this.m[1]*a+this.m[3]*b,this},scale:function(a,b){return this.m[0]*=a,this.m[1]*=a,this.m[2]*=b,this.m[3]*=b,this},rotate:function(a){var b=Math.cos(a),c=Math.sin(a),d=this.m[0]*b+this.m[2]*c,e=this.m[1]*b+this.m[3]*c,f=this.m[0]*-c+this.m[2]*b,g=this.m[1]*-c+this.m[3]*b;return this.m[0]=d,this.m[1]=e,this.m[2]=f,this.m[3]=g,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(a,b){var c=this.m[0]+this.m[2]*b,d=this.m[1]+this.m[3]*b,e=this.m[2]+this.m[0]*a,f=this.m[3]+this.m[1]*a;return this.m[0]=c,this.m[1]=d,this.m[2]=e,this.m[3]=f,this},multiply:function(a){var b=this.m[0]*a.m[0]+this.m[2]*a.m[1],c=this.m[1]*a.m[0]+this.m[3]*a.m[1],d=this.m[0]*a.m[2]+this.m[2]*a.m[3],e=this.m[1]*a.m[2]+this.m[3]*a.m[3],f=this.m[0]*a.m[4]+this.m[2]*a.m[5]+this.m[4],g=this.m[1]*a.m[4]+this.m[3]*a.m[5]+this.m[5];return this.m[0]=b,this.m[1]=c,this.m[2]=d,this.m[3]=e,this.m[4]=f,this.m[5]=g,this},invert:function(){var a=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),b=this.m[3]*a,c=-this.m[1]*a,d=-this.m[2]*a,e=this.m[0]*a,f=a*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),g=a*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=b,this.m[1]=c,this.m[2]=d,this.m[3]=e,this.m[4]=f,this.m[5]=g,this},getMatrix:function(){return this.m},setAbsolutePosition:function(a,b){var c=this.m[0],d=this.m[1],e=this.m[2],f=this.m[3],g=this.m[4],h=this.m[5],i=(c*(b-h)-d*(a-g))/(c*f-d*e),j=(a-g-e*i)/c;return this.translate(j,i)}};var a="2d",b="[object Array]",c="[object Number]",d="[object String]",e=Math.PI/180,f=180/Math.PI,g="#",h="",i="0",j="Kinetic error: ",k="rgb(",l={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},m=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Kinetic.Util={_isElement:function(a){return!(!a||1!=a.nodeType)},_isFunction:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},_isObject:function(a){return!!a&&a.constructor==Object},_isArray:function(a){return Object.prototype.toString.call(a)==b},_isNumber:function(a){return Object.prototype.toString.call(a)==c},_isString:function(a){return Object.prototype.toString.call(a)==d},_throttle:function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:(new Date).getTime(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=(new Date).getTime();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},_hasMethods:function(a){var b,c=[];for(b in a)this._isFunction(a[b])&&c.push(b);return c.length>0},createCanvasElement:function(){var a=Kinetic.document.createElement("canvas");return a.style=a.style||{},a},isBrowser:function(){return"object"!=typeof exports},_isInDocument:function(a){for(;a=a.parentNode;)if(a==Kinetic.document)return!0;return!1},_simplifyArray:function(a){var b,c,d=[],e=a.length,f=Kinetic.Util;for(b=0;e>b;b++)c=a[b],f._isNumber(c)?c=Math.round(1e3*c)/1e3:f._isString(c)||(c=c.toString()),d.push(c);return d},_getImage:function(b,c){var d,e;if(b)if(this._isElement(b))c(b);else if(this._isString(b))d=new Kinetic.window.Image,d.onload=function(){c(d)},d.src=b;else if(b.data){e=Kinetic.Util.createCanvasElement(),e.width=b.width,e.height=b.height;var f=e.getContext(a);f.putImageData(b,0,0),this._getImage(e.toDataURL(),c)}else c(null);else c(null)},_getRGBAString:function(a){var b=a.red||0,c=a.green||0,d=a.blue||0,e=a.alpha||1;return["rgba(",b,",",c,",",d,",",e,")"].join(h)},_rgbToHex:function(a,b,c){return((1<<24)+(a<<16)+(b<<8)+c).toString(16).slice(1)},_hexToRgb:function(a){a=a.replace(g,h);var b=parseInt(a,16);return{r:255&b>>16,g:255&b>>8,b:255&b}},getRandomColor:function(){for(var a=(16777215*Math.random()<<0).toString(16);a.length<6;)a=i+a;return g+a},get:function(a,b){return void 0===a?b:a},getRGB:function(a){var b;return a in l?(b=l[a],{r:b[0],g:b[1],b:b[2]}):a[0]===g?this._hexToRgb(a.substring(1)):a.substr(0,4)===k?(b=m.exec(a.replace(/ /g,"")),{r:parseInt(b[1],10),g:parseInt(b[2],10),b:parseInt(b[3],10)}):{r:0,g:0,b:0}},_merge:function(a,b){var c=this._clone(b);for(var d in a)c[d]=this._isObject(a[d])?this._merge(a[d],c[d]):a[d];return c},cloneObject:function(a){var b={};for(var c in a)b[c]=this._isObject(a[c])?this.cloneObject(a[c]):this._isArray(a[c])?this.cloneArray(a[c]):a[c];return b},cloneArray:function(a){return a.slice(0)},_degToRad:function(a){return a*e},_radToDeg:function(a){return a*f},_capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},error:function(a){throw new Error(j+a)},warn:function(a){Kinetic.root.console&&console.warn&&void 0},extend:function(a,b){for(var c in b.prototype)c in a.prototype||(a.prototype[c]=b.prototype[c])},addMethods:function(a,b){var c;for(c in b)a.prototype[c]=b[c]},_getControlPoints:function(a,b,c,d,e,f,g){var h=Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2)),i=Math.sqrt(Math.pow(e-c,2)+Math.pow(f-d,2)),j=g*h/(h+i),k=g*i/(h+i),l=c-j*(e-a),m=d-j*(f-b),n=c+k*(e-a),o=d+k*(f-b);return[l,m,n,o]},_expandPoints:function(a,b){var c,d,e=a.length,f=[];for(c=2;e-2>c;c+=2)d=Kinetic.Util._getControlPoints(a[c-2],a[c-1],a[c],a[c+1],a[c+2],a[c+3],b),f.push(d[0]),f.push(d[1]),f.push(a[c]),f.push(a[c+1]),f.push(d[2]),f.push(d[3]);return f},_removeLastLetter:function(a){return a.substring(0,a.length-1)}}}(),!function(){var a=Kinetic.Util.createCanvasElement(),b=a.getContext("2d"),c=Kinetic.UA.mobile?function(){var a=window.devicePixelRatio||1,c=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1;return a/c}():1;Kinetic.Canvas=function(a){this.init(a)},Kinetic.Canvas.prototype={init:function(a){a=a||{};var b=a.pixelRatio||Kinetic.pixelRatio||c;this.pixelRatio=b,this._canvas=Kinetic.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(a){this.pixelRatio=a,this.setSize(this.getWidth(),this.getHeight())},setWidth:function(a){this.width=this._canvas.width=a*this.pixelRatio,this._canvas.style.width=a+"px"},setHeight:function(a){this.height=this._canvas.height=a*this.pixelRatio,this._canvas.style.height=a+"px"},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(a,b){this.setWidth(a),this.setHeight(b)},toDataURL:function(a,b){try{return this._canvas.toDataURL(a,b)}catch(c){try{return this._canvas.toDataURL()}catch(d){return Kinetic.Util.warn("Unable to get data URL. "+d.message),""}}}},Kinetic.SceneCanvas=function(a){a=a||{};var b=a.width||0,c=a.height||0;Kinetic.Canvas.call(this,a),this.context=new Kinetic.SceneContext(this),this.setSize(b,c)},Kinetic.SceneCanvas.prototype={setWidth:function(a){var b=this.pixelRatio,c=this.getContext()._context;Kinetic.Canvas.prototype.setWidth.call(this,a),c.scale(b,b)},setHeight:function(a){var b=this.pixelRatio,c=this.getContext()._context;Kinetic.Canvas.prototype.setHeight.call(this,a),c.scale(b,b)}},Kinetic.Util.extend(Kinetic.SceneCanvas,Kinetic.Canvas),Kinetic.HitCanvas=function(a){a=a||{};var b=a.width||0,c=a.height||0;Kinetic.Canvas.call(this,a),this.context=new Kinetic.HitContext(this),this.setSize(b,c)},Kinetic.Util.extend(Kinetic.HitCanvas,Kinetic.Canvas)}(),!function(){var a=",",b="(",c=")",d="([",e="])",f=";",g="()",h="=",i=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];Kinetic.Context=function(a){this.init(a)},Kinetic.Context.prototype={init:function(a){this.canvas=a,this._context=a._canvas.getContext("2d"),Kinetic.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(a){a.getFillEnabled()&&this._fill(a)},strokeShape:function(a){a.getStrokeEnabled()&&this._stroke(a)},fillStrokeShape:function(a){var b=a.getFillEnabled();b&&this._fill(a),a.getStrokeEnabled()&&this._stroke(a)},getTrace:function(i){var j,k,l,m,n=this.traceArr,o=n.length,p="";for(j=0;o>j;j++)k=n[j],l=k.method,l?(m=k.args,p+=l,p+=i?g:Kinetic.Util._isArray(m[0])?d+m.join(a)+e:b+m.join(a)+c):(p+=k.property,i||(p+=h+k.val)),p+=f;return p},clearTrace:function(){this.traceArr=[]},_trace:function(a){var b,c=this.traceArr;c.push(a),b=c.length,b>=Kinetic.traceArrMax&&c.shift()},reset:function(){var a=this.getCanvas().getPixelRatio();this.setTransform(1*a,0,0,1*a,0,0)},getCanvas:function(){return this.canvas},clear:function(a){var b=this.getCanvas();a?this.clearRect(a.x||0,a.y||0,a.width||0,a.height||0):this.clearRect(0,0,b.getWidth(),b.getHeight())},_applyLineCap:function(a){var b=a.getLineCap();b&&this.setAttr("lineCap",b)},_applyOpacity:function(a){var b=a.getAbsoluteOpacity();1!==b&&this.setAttr("globalAlpha",b)},_applyLineJoin:function(a){var b=a.getLineJoin();b&&this.setAttr("lineJoin",b)},setAttr:function(a,b){this._context[a]=b},arc:function(){var a=arguments;this._context.arc(a[0],a[1],a[2],a[3],a[4],a[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var a=arguments;this._context.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])},clearRect:function(){var a=arguments;this._context.clearRect(a[0],a[1],a[2],a[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var a=arguments;return 2===a.length?this._context.createImageData(a[0],a[1]):1===a.length?this._context.createImageData(a[0]):void 0},createLinearGradient:function(){var a=arguments;return this._context.createLinearGradient(a[0],a[1],a[2],a[3])},createPattern:function(){var a=arguments;return this._context.createPattern(a[0],a[1])},createRadialGradient:function(){var a=arguments;return this._context.createRadialGradient(a[0],a[1],a[2],a[3],a[4],a[5])},drawImage:function(){var a=arguments,b=this._context;3===a.length?b.drawImage(a[0],a[1],a[2]):5===a.length?b.drawImage(a[0],a[1],a[2],a[3],a[4]):9===a.length&&b.drawImage(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8])},fill:function(){this._context.fill()},fillText:function(){var a=arguments;this._context.fillText(a[0],a[1],a[2])},getImageData:function(){var a=arguments;return this._context.getImageData(a[0],a[1],a[2],a[3])},lineTo:function(){var a=arguments;this._context.lineTo(a[0],a[1])},moveTo:function(){var a=arguments;this._context.moveTo(a[0],a[1])},rect:function(){var a=arguments;this._context.rect(a[0],a[1],a[2],a[3])},putImageData:function(){var a=arguments;this._context.putImageData(a[0],a[1],a[2])},quadraticCurveTo:function(){var a=arguments;this._context.quadraticCurveTo(a[0],a[1],a[2],a[3])},restore:function(){this._context.restore()},rotate:function(){var a=arguments;this._context.rotate(a[0])},save:function(){this._context.save()},scale:function(){var a=arguments;this._context.scale(a[0],a[1])},setLineDash:function(){var a=arguments,b=this._context;this._context.setLineDash?b.setLineDash(a[0]):"mozDash"in b?b.mozDash=a[0]:"webkitLineDash"in b&&(b.webkitLineDash=a[0])},setTransform:function(){var a=arguments;this._context.setTransform(a[0],a[1],a[2],a[3],a[4],a[5])},stroke:function(){this._context.stroke()},strokeText:function(){var a=arguments;this._context.strokeText(a[0],a[1],a[2])},transform:function(){var a=arguments;this._context.transform(a[0],a[1],a[2],a[3],a[4],a[5])},translate:function(){var a=arguments;this._context.translate(a[0],a[1])},_enableTrace:function(){var a,b,c=this,d=i.length,e=Kinetic.Util._simplifyArray,f=this.setAttr,g=function(a){var d,f=c[a];c[a]=function(){return b=e(Array.prototype.slice.call(arguments,0)),d=f.apply(c,arguments),c._trace({method:a,args:b}),d}};for(a=0;d>a;a++)g(i[a]);c.setAttr=function(){f.apply(c,arguments),c._trace({property:arguments[0],val:arguments[1]})}}},Kinetic.SceneContext=function(a){Kinetic.Context.call(this,a)},Kinetic.SceneContext.prototype={_fillColor:function(a){var b=a.fill()||Kinetic.Util._getRGBAString({red:a.fillRed(),green:a.fillGreen(),blue:a.fillBlue(),alpha:a.fillAlpha()});this.setAttr("fillStyle",b),a._fillFunc(this)},_fillPattern:function(a){var b=a.getFillPatternImage(),c=a.getFillPatternX(),d=a.getFillPatternY(),e=a.getFillPatternScale(),f=Kinetic.getAngle(a.getFillPatternRotation()),g=a.getFillPatternOffset(),h=a.getFillPatternRepeat();(c||d)&&this.translate(c||0,d||0),f&&this.rotate(f),e&&this.scale(e.x,e.y),g&&this.translate(-1*g.x,-1*g.y),this.setAttr("fillStyle",this.createPattern(b,h||"repeat")),this.fill()},_fillLinearGradient:function(a){var b=a.getFillLinearGradientStartPoint(),c=a.getFillLinearGradientEndPoint(),d=a.getFillLinearGradientColorStops(),e=this.createLinearGradient(b.x,b.y,c.x,c.y);if(d){for(var f=0;f<d.length;f+=2)e.addColorStop(d[f],d[f+1]);this.setAttr("fillStyle",e),this.fill()}},_fillRadialGradient:function(a){for(var b=a.getFillRadialGradientStartPoint(),c=a.getFillRadialGradientEndPoint(),d=a.getFillRadialGradientStartRadius(),e=a.getFillRadialGradientEndRadius(),f=a.getFillRadialGradientColorStops(),g=this.createRadialGradient(b.x,b.y,d,c.x,c.y,e),h=0;h<f.length;h+=2)g.addColorStop(f[h],f[h+1]);this.setAttr("fillStyle",g),this.fill()},_fill:function(a){var b=a.fill()||a.fillRed()||a.fillGreen()||a.fillBlue(),c=a.getFillPatternImage(),d=a.getFillLinearGradientColorStops(),e=a.getFillRadialGradientColorStops(),f=a.getFillPriority();b&&"color"===f?this._fillColor(a):c&&"pattern"===f?this._fillPattern(a):d&&"linear-gradient"===f?this._fillLinearGradient(a):e&&"radial-gradient"===f?this._fillRadialGradient(a):b?this._fillColor(a):c?this._fillPattern(a):d?this._fillLinearGradient(a):e&&this._fillRadialGradient(a)},_stroke:function(a){var b=a.dash(),c=a.getStrokeScaleEnabled();a.hasStroke()&&(c||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(a),b&&a.dashEnabled()&&this.setLineDash(b),this.setAttr("lineWidth",a.strokeWidth()),this.setAttr("strokeStyle",a.stroke()||Kinetic.Util._getRGBAString({red:a.strokeRed(),green:a.strokeGreen(),blue:a.strokeBlue(),alpha:a.strokeAlpha()})),a._strokeFunc(this),c||this.restore())},_applyShadow:function(a){var b=Kinetic.Util,c=a.getAbsoluteOpacity(),d=b.get(a.getShadowColor(),"black"),e=b.get(a.getShadowBlur(),5),f=b.get(a.getShadowOpacity(),1),g=b.get(a.getShadowOffset(),{x:0,y:0});f&&this.setAttr("globalAlpha",f*c),this.setAttr("shadowColor",d),this.setAttr("shadowBlur",e),this.setAttr("shadowOffsetX",g.x),this.setAttr("shadowOffsetY",g.y)}},Kinetic.Util.extend(Kinetic.SceneContext,Kinetic.Context),Kinetic.HitContext=function(a){Kinetic.Context.call(this,a)},Kinetic.HitContext.prototype={_fill:function(a){this.save(),this.setAttr("fillStyle",a.colorKey),a._fillFuncHit(this),this.restore()},_stroke:function(a){a.hasStroke()&&(this._applyLineCap(a),this.setAttr("lineWidth",a.strokeWidth()),this.setAttr("strokeStyle",a.colorKey),a._strokeFuncHit(this))}},Kinetic.Util.extend(Kinetic.HitContext,Kinetic.Context)}(),!function(){var a="get",b="set";Kinetic.Factory={addGetterSetter:function(a,b,c,d,e){this.addGetter(a,b,c),this.addSetter(a,b,d,e),this.addOverloadedGetterSetter(a,b)},addGetter:function(b,c,d){var e=a+Kinetic.Util._capitalize(c);b.prototype[e]=function(){var a=this.attrs[c];return void 0===a?d:a}},addSetter:function(a,c,d,e){var f=b+Kinetic.Util._capitalize(c);a.prototype[f]=function(a){return d&&(a=d.call(this,a)),this._setAttr(c,a),e&&e.call(this),this}},addComponentsGetterSetter:function(c,d,e,f,g){var h,i,j=e.length,k=Kinetic.Util._capitalize,l=a+k(d),m=b+k(d);c.prototype[l]=function(){var a={};for(h=0;j>h;h++)i=e[h],a[i]=this.getAttr(d+k(i));return a},c.prototype[m]=function(a){var b,c=this.attrs[d];f&&(a=f.call(this,a));for(b in a)this._setAttr(d+k(b),a[b]);return this._fireChangeEvent(d,c,a),g&&g.call(this),this},this.addOverloadedGetterSetter(c,d)},addOverloadedGetterSetter:function(c,d){var e=Kinetic.Util._capitalize(d),f=b+e,g=a+e;c.prototype[d]=function(){return arguments.length?(this[f](arguments[0]),this):this[g]()}},backCompat:function(a,b){var c;for(c in b)a.prototype[c]=a.prototype[b[c]]},afterSetFilter:function(){this._filterUpToDate=!1}},Kinetic.Validators={RGBComponent:function(a){return a>255?255:0>a?0:Math.round(a)},alphaComponent:function(a){return a>1?1:1e-4>a?1e-4:a}}}(),!function(){var a="absoluteOpacity",b="absoluteTransform",c="Change",d="children",e=".",f="",g="get",h="id",i="kinetic",j="listening",k="mouseenter",l="mouseleave",m="name",n="set",o="Shape",p=" ",q="stage",r="transform",s="Stage",t="visible",u=["id"],v=["xChange.kinetic","yChange.kinetic","scaleXChange.kinetic","scaleYChange.kinetic","skewXChange.kinetic","skewYChange.kinetic","rotationChange.kinetic","offsetXChange.kinetic","offsetYChange.kinetic","transformsEnabledChange.kinetic"].join(p);Kinetic.Util.addMethods(Kinetic.Node,{_init:function(c){var d=this;this._id=Kinetic.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this.setAttrs(c),this.on(v,function(){this._clearCache(r),d._clearSelfAndDescendantCache(b)}),this.on("visibleChange.kinetic",function(){d._clearSelfAndDescendantCache(t)}),this.on("listeningChange.kinetic",function(){d._clearSelfAndDescendantCache(j)}),this.on("opacityChange.kinetic",function(){d._clearSelfAndDescendantCache(a)})},_clearCache:function(a){a?delete this._cache[a]:this._cache={}},_getCache:function(a,b){var c=this._cache[a];return void 0===c&&(this._cache[a]=b.call(this)),this._cache[a]},_clearSelfAndDescendantCache:function(a){this._clearCache(a),this.children&&this.getChildren().each(function(b){b._clearSelfAndDescendantCache(a)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(a){var b=a||{},c=b.x||0,d=b.y||0,e=b.width||this.width(),f=b.height||this.height(),g=b.drawBorder||!1;if(this.getLayer(),0===e||0===f)return void Kinetic.Util.warn("Width or height of caching configuration equals 0. Cache is ignored.");var h=new Kinetic.SceneCanvas({pixelRatio:1,width:e,height:f}),i=new Kinetic.SceneCanvas({pixelRatio:1,width:e,height:f}),j=new Kinetic.HitCanvas({width:e,height:f}),k=(this.transformsEnabled(),this.x(),this.y(),h.getContext()),l=j.getContext();return this.clearCache(),k.save(),l.save(),g&&(k.save(),k.beginPath(),k.rect(0,0,e,f),k.closePath(),k.setAttr("strokeStyle","red"),k.setAttr("lineWidth",5),k.stroke(),k.restore()),k.translate(-1*c,-1*d),l.translate(-1*c,-1*d),"Shape"===this.nodeType&&(k.translate(-1*this.x(),-1*this.y()),l.translate(-1*this.x(),-1*this.y())),this.drawScene(h,this),this.drawHit(j,this),k.restore(),l.restore(),this._cache.canvas={scene:h,filter:i,hit:j},this},_drawCachedSceneCanvas:function(a){a.save(),this.getLayer()._applyTransform(this,a),a.drawImage(this._getCachedSceneCanvas()._canvas,0,0),a.restore()},_getCachedSceneCanvas:function(){var a,b,c,d,e=this.filters(),f=this._cache.canvas,g=f.scene,h=f.filter,i=h.getContext();if(e){if(!this._filterUpToDate){try{for(a=e.length,i.clear(),i.drawImage(g._canvas,0,0),b=i.getImageData(0,0,h.getWidth(),h.getHeight()),c=0;a>c;c++)d=e[c],d.call(this,b),i.putImageData(b,0,0)}catch(j){Kinetic.Util.warn("Unable to apply filter. "+j.message)}this._filterUpToDate=!0}return h}return g},_drawCachedHitCanvas:function(a){var b=this._cache.canvas,c=b.hit;a.save(),this.getLayer()._applyTransform(this,a),a.drawImage(c._canvas,0,0),a.restore()},on:function(a,b){var c,d,g,h,i,j=a.split(p),k=j.length;for(c=0;k>c;c++)d=j[c],g=d.split(e),h=g[0],i=g[1]||f,this.eventListeners[h]||(this.eventListeners[h]=[]),this.eventListeners[h].push({name:i,handler:b});return this},off:function(a){var b,c,d,f,g,h,i=a.split(p),j=i.length;for(b=0;j>b;b++)if(d=i[b],f=d.split(e),g=f[0],h=f[1],g)this.eventListeners[g]&&this._off(g,h);else for(c in this.eventListeners)this._off(c,h);return this},dispatchEvent:function(a){var b={target:this,type:a.type,evt:a};this.fire(a.type,b)},addEventListener:function(a,b){this.on(a,function(a){b.call(this,a.evt)})},remove:function(){var c=this.getParent();return c&&c.children&&(c.children.splice(this.index,1),c._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache(q),this._clearSelfAndDescendantCache(b),this._clearSelfAndDescendantCache(t),this._clearSelfAndDescendantCache(j),this._clearSelfAndDescendantCache(a),this},destroy:function(){Kinetic._removeId(this.getId()),Kinetic._removeName(this.getName(),this._id),this.remove()},getAttr:function(a){var b=g+Kinetic.Util._capitalize(a);return Kinetic.Util._isFunction(this[b])?this[b]():this.attrs[a]},getAncestors:function(){for(var a=this.getParent(),b=new Kinetic.Collection;a;)b.push(a),a=a.getParent();return b},getAttrs:function(){return this.attrs||{}},setAttrs:function(a){var b,c;if(a)for(b in a)b===d||(c=n+Kinetic.Util._capitalize(b),Kinetic.Util._isFunction(this[c])?this[c](a[b]):this._setAttr(b,a[b]));return this},isListening:function(){return this._getCache(j,this._isListening)},_isListening:function(){var a=this.getListening(),b=this.getParent();return"inherit"===a?b?b.isListening():!0:a},isVisible:function(){return this._getCache(t,this._isVisible)},_isVisible:function(){var a=this.getVisible(),b=this.getParent();return"inherit"===a?b?b.isVisible():!0:a},shouldDrawHit:function(){var a=this.getLayer();return a&&a.hitGraphEnabled()&&this.isListening()&&this.isVisible()&&!Kinetic.isDragging()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){function a(i){for(b=[],c=i.length,d=0;c>d;d++)e=i[d],h++,e.nodeType!==o&&(b=b.concat(e.getChildren().toArray())),e._id===g._id&&(d=c);b.length>0&&b[0].getDepth()<=f&&a(b)}var b,c,d,e,f=this.getDepth(),g=this,h=0;return g.nodeType!==s&&a(g.getStage().getChildren()),h},getDepth:function(){for(var a=0,b=this.parent;b;)a++,b=b.parent;return a},setPosition:function(a){return this.setX(a.x),this.setY(a.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(){var a=this.getAbsoluteTransform().getMatrix(),b=new Kinetic.Transform,c=this.offset();return b.m=a.slice(),b.translate(c.x,c.y),b.getTranslation()},setAbsolutePosition:function(a){var b,c=this._clearTransform();return this.attrs.x=c.x,this.attrs.y=c.y,delete c.x,delete c.y,b=this.getAbsoluteTransform(),b.invert(),b.translate(a.x,a.y),a={x:this.attrs.x+b.getTranslation().x,y:this.attrs.y+b.getTranslation().y},this.setPosition({x:a.x,y:a.y}),this._setTransform(c),this},_setTransform:function(a){var c;for(c in a)this.attrs[c]=a[c];this._clearCache(r),this._clearSelfAndDescendantCache(b)},_clearTransform:function(){var a={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(r),this._clearSelfAndDescendantCache(b),a},move:function(a){var b=a.x,c=a.y,d=this.getX(),e=this.getY();return void 0!==b&&(d+=b),void 0!==c&&(e+=c),this.setPosition({x:d,y:e}),this},_eachAncestorReverse:function(a,b){var c,d,e=[],f=this.getParent();if(b&&b._id===this._id)return a(this),!0;for(e.unshift(this);f&&(!b||f._id!==b._id);)e.unshift(f),f=f.parent;for(c=e.length,d=0;c>d;d++)a(e[d])},rotate:function(a){return this.setRotation(this.getRotation()+a),this},moveToTop:function(){if(!this.parent)return void Kinetic.Util.warn("Node has no parent. moveToTop function is ignored.");var a=this.index;return this.parent.children.splice(a,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},moveUp:function(){if(!this.parent)return void Kinetic.Util.warn("Node has no parent. moveUp function is ignored.");var a=this.index,b=this.parent.getChildren().length;return b-1>a?(this.parent.children.splice(a,1),this.parent.children.splice(a+1,0,this),this.parent._setChildrenIndices(),!0):!1},moveDown:function(){if(!this.parent)return void Kinetic.Util.warn("Node has no parent. moveDown function is ignored.");var a=this.index;return a>0?(this.parent.children.splice(a,1),this.parent.children.splice(a-1,0,this),this.parent._setChildrenIndices(),!0):!1},moveToBottom:function(){if(!this.parent)return void Kinetic.Util.warn("Node has no parent. moveToBottom function is ignored.");var a=this.index;return a>0?(this.parent.children.splice(a,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1},setZIndex:function(a){if(!this.parent)return void Kinetic.Util.warn("Node has no parent. zIndex parameter is ignored.");var b=this.index;return this.parent.children.splice(b,1),this.parent.children.splice(a,0,this),this.parent._setChildrenIndices(),this},getAbsoluteOpacity:function(){return this._getCache(a,this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var a=this.getOpacity();return this.getParent()&&(a*=this.getParent().getAbsoluteOpacity()),a},moveTo:function(a){return Kinetic.Node.prototype.remove.call(this),a.add(this),this},toObject:function(){var a,b,c,d,e=Kinetic.Util,f={},g=this.getAttrs();f.attrs={};for(a in g)b=g[a],e._isFunction(b)||e._isElement(b)||e._isObject(b)&&e._hasMethods(b)||(c=this[a],delete g[a],d=c?c.call(this):null,g[a]=b,d!==b&&(f.attrs[a]=b));return f.className=this.getClassName(),f},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},getLayer:function(){var a=this.getParent();return a?a.getLayer():null},getStage:function(){return this._getCache(q,this._getStage)},_getStage:function(){var a=this.getParent();return a?a.getStage():void 0},fire:function(a,b,c){return c?this._fireAndBubble(a,b||{}):this._fire(a,b||{}),this},getAbsoluteTransform:function(a){return a?this._getAbsoluteTransform(a):this._getCache(b,this._getAbsoluteTransform)},_getAbsoluteTransform:function(a){var b,c,d=new Kinetic.Transform;return this._eachAncestorReverse(function(a){b=a.transformsEnabled(),c=a.getTransform(),"all"===b?d.multiply(c):"position"===b&&d.translate(a.x(),a.y())},a),d},getTransform:function(){return this._getCache(r,this._getTransform)},_getTransform:function(){var a=new Kinetic.Transform,b=this.getX(),c=this.getY(),d=Kinetic.getAngle(this.getRotation()),e=this.getScaleX(),f=this.getScaleY(),g=this.getSkewX(),h=this.getSkewY(),i=this.getOffsetX(),j=this.getOffsetY();return(0!==b||0!==c)&&a.translate(b,c),0!==d&&a.rotate(d),(0!==g||0!==h)&&a.skew(g,h),(1!==e||1!==f)&&a.scale(e,f),(0!==i||0!==j)&&a.translate(-1*i,-1*j),a},clone:function(a){var b,c,d,e,f,g=this.getClassName(),h=Kinetic.Util.cloneObject(this.attrs);for(var j in u){var k=u[j];delete h[k]}for(b in a)h[b]=a[b];var l=new Kinetic[g](h);for(b in this.eventListeners)for(c=this.eventListeners[b],d=c.length,e=0;d>e;e++)f=c[e],f.name.indexOf(i)<0&&(l.eventListeners[b]||(l.eventListeners[b]=[]),l.eventListeners[b].push(f));return l},toDataURL:function(a){a=a||{};var b=a.mimeType||null,c=a.quality||null,d=this.getStage(),e=a.x||0,f=a.y||0,g=new Kinetic.SceneCanvas({width:a.width||this.getWidth()||(d?d.getWidth():0),height:a.height||this.getHeight()||(d?d.getHeight():0),pixelRatio:1}),h=g.getContext();
return h.save(),(e||f)&&h.translate(-1*e,-1*f),this.drawScene(g),h.restore(),g.toDataURL(b,c)},toImage:function(a){Kinetic.Util._getImage(this.toDataURL(a),function(b){a.callback(b)})},setSize:function(a){return this.setWidth(a.width),this.setHeight(a.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Kinetic.dragDistance},_get:function(a){return this.nodeType===a?[this]:[]},_off:function(a,b){var c,d,e=this.eventListeners[a];for(c=0;c<e.length;c++)if(d=e[c].name,!("kinetic"===d&&"kinetic"!==b||b&&d!==b)){if(e.splice(c,1),0===e.length){delete this.eventListeners[a];break}c--}},_fireChangeEvent:function(a,b,d){this._fire(a+c,{oldVal:b,newVal:d})},setId:function(a){var b=this.getId();return Kinetic._removeId(b),Kinetic._addId(this,a),this._setAttr(h,a),this},setName:function(a){var b=this.getName();return Kinetic._removeName(b,this._id),Kinetic._addName(this,a),this._setAttr(m,a),this},setAttr:function(){var a=Array.prototype.slice.call(arguments),b=a[0],c=a[1],d=n+Kinetic.Util._capitalize(b),e=this[d];return Kinetic.Util._isFunction(e)?e.call(this,c):this._setAttr(b,c),this},_setAttr:function(a,b){var c;void 0!==b&&(c=this.attrs[a],this.attrs[a]=b,this._fireChangeEvent(a,c,b))},_setComponentAttr:function(a,b,c){var d;void 0!==c&&(d=this.attrs[a],d||(this.attrs[a]=this.getAttr(a)),this.attrs[a][b]=c,this._fireChangeEvent(a,d,c))},_fireAndBubble:function(a,b,c){var d=!0;b&&this.nodeType===o&&(b.target=this),a===k&&c&&this._id===c._id?d=!1:a===l&&c&&this._id===c._id&&(d=!1),d&&(this._fire(a,b),b&&!b.cancelBubble&&this.parent&&(c&&c.parent?this._fireAndBubble.call(this.parent,a,b,c.parent):this._fireAndBubble.call(this.parent,a,b)))},_fire:function(a,b){var c,d=this.eventListeners[a];if(b.type=a,d)for(c=0;c<d.length;c++)d[c].handler.call(this,b)},draw:function(){return this.drawScene(),this.drawHit(),this}}),Kinetic.Node.create=function(a,b){return this._createNode(JSON.parse(a),b)},Kinetic.Node._createNode=function(a,b){var c,d,e,f=Kinetic.Node.prototype.getClassName.call(a),g=a.children;if(b&&(a.attrs.container=b),c=new Kinetic[f](a.attrs),g)for(d=g.length,e=0;d>e;e++)c.add(this._createNode(g[e]));return c},Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"position"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"x",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"y",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"opacity",1),Kinetic.Factory.addGetter(Kinetic.Node,"name"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"name"),Kinetic.Factory.addGetter(Kinetic.Node,"id"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"id"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"rotation",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"scale",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"scaleX",1),Kinetic.Factory.addGetterSetter(Kinetic.Node,"scaleY",1),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"skew",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"skewX",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"skewY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"offset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"offsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"offsetY",0),Kinetic.Factory.addSetter(Kinetic.Node,"dragDistance"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"dragDistance"),Kinetic.Factory.addSetter(Kinetic.Node,"width",0),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"width"),Kinetic.Factory.addSetter(Kinetic.Node,"height",0),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"height"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"listening","inherit"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"filters",void 0,function(a){return this._filterUpToDate=!1,a}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"visible","inherit"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"transformsEnabled","all"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"size"),Kinetic.Factory.backCompat(Kinetic.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Kinetic.Collection.mapMethods(Kinetic.Node)}(),!function(){function a(a){Kinetic.root.setTimeout(a,1e3/60)}function b(){return e.apply(Kinetic.root,arguments)}var c=500,d=function(){return Kinetic.root.performance&&Kinetic.root.performance.now?function(){return Kinetic.root.performance.now()}:function(){return(new Date).getTime()}}(),e=function(){return Kinetic.root.requestAnimationFrame||Kinetic.root.webkitRequestAnimationFrame||Kinetic.root.mozRequestAnimationFrame||Kinetic.root.oRequestAnimationFrame||Kinetic.root.msRequestAnimationFrame||a}();Kinetic.Animation=function(a,b){var c=Kinetic.Animation;this.func=a,this.setLayers(b),this.id=c.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:d()}},Kinetic.Animation.prototype={setLayers:function(a){var b=[];b=a?a.length>0?a:[a]:[],this.layers=b},getLayers:function(){return this.layers},addLayer:function(a){var b,c,d=this.layers;if(d){for(b=d.length,c=0;b>c;c++)if(d[c]._id===a._id)return!1}else this.layers=[];return this.layers.push(a),!0},isRunning:function(){var a,b=Kinetic.Animation,c=b.animations,d=c.length;for(a=0;d>a;a++)if(c[a].id===this.id)return!0;return!1},start:function(){var a=Kinetic.Animation;this.stop(),this.frame.timeDiff=0,this.frame.lastTime=d(),a._addAnimation(this)},stop:function(){Kinetic.Animation._removeAnimation(this)},_updateFrameObject:function(a){this.frame.timeDiff=a-this.frame.lastTime,this.frame.lastTime=a,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},Kinetic.Animation.animations=[],Kinetic.Animation.animIdCounter=0,Kinetic.Animation.animRunning=!1,Kinetic.Animation._addAnimation=function(a){this.animations.push(a),this._handleAnimation()},Kinetic.Animation._removeAnimation=function(a){var b,c=a.id,d=this.animations,e=d.length;for(b=0;e>b;b++)if(d[b].id===c){this.animations.splice(b,1);break}},Kinetic.Animation._runFrames=function(){var a,b,c,e,f,g,h,i,j={},k=this.animations;for(e=0;e<k.length;e++){for(a=k[e],b=a.layers,c=a.func,a._updateFrameObject(d()),g=b.length,f=0;g>f;f++)h=b[f],void 0!==h._id&&(j[h._id]=h);c&&c.call(a,a.frame)}for(i in j)j[i].draw()},Kinetic.Animation._animationLoop=function(){var a=Kinetic.Animation;a.animations.length?(b(a._animationLoop),a._runFrames()):a.animRunning=!1},Kinetic.Animation._handleAnimation=function(){var a=this;this.animRunning||(this.animRunning=!0,a._animationLoop())};var f=Kinetic.Node.prototype.moveTo;Kinetic.Node.prototype.moveTo=function(a){f.call(this,a)},Kinetic.Layer.prototype.batchDraw=function(){var a=this,b=Kinetic.Animation;this.batchAnim||(this.batchAnim=new b(function(){a.lastBatchDrawTime&&d()-a.lastBatchDrawTime>c&&a.batchAnim.stop()},this)),this.lastBatchDrawTime=d(),this.batchAnim.isRunning()||(this.draw(),this.batchAnim.start())},Kinetic.Stage.prototype.batchDraw=function(){this.getChildren().each(function(a){a.batchDraw()})}}((1,eval)("this")),!function(){var a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},b=1,c=2,d=3,e=0;Kinetic.Tween=function(b){var c,d=this,g=b.node,h=g._id,i=b.duration||1,j=b.easing||Kinetic.Easings.Linear,k=!!b.yoyo;this.node=g,this._id=e++,this.anim=new Kinetic.Animation(function(){d.tween.onEnterFrame()},g.getLayer()),this.tween=new f(c,function(a){d._tweenFunc(a)},j,0,1,1e3*i,k),this._addListeners(),Kinetic.Tween.attrs[h]||(Kinetic.Tween.attrs[h]={}),Kinetic.Tween.attrs[h][this._id]||(Kinetic.Tween.attrs[h][this._id]={}),Kinetic.Tween.tweens[h]||(Kinetic.Tween.tweens[h]={});for(c in b)void 0===a[c]&&this._addAttr(c,b[c]);this.reset(),this.onFinish=b.onFinish,this.onReset=b.onReset},Kinetic.Tween.attrs={},Kinetic.Tween.tweens={},Kinetic.Tween.prototype={_addAttr:function(a,b){var c,d,e,f,g,h=this.node,i=h._id;if(e=Kinetic.Tween.tweens[i][a],e&&delete Kinetic.Tween.attrs[i][e][a],c=h.getAttr(a),Kinetic.Util._isArray(b))for(d=[],g=b.length,f=0;g>f;f++)d.push(b[f]-c[f]);else d=b-c;Kinetic.Tween.attrs[i][this._id][a]={start:c,diff:d},Kinetic.Tween.tweens[i][a]=this._id},_tweenFunc:function(a){var b,c,d,e,f,g,h,i=this.node,j=Kinetic.Tween.attrs[i._id][this._id];for(b in j){if(c=j[b],d=c.start,e=c.diff,Kinetic.Util._isArray(d))for(f=[],h=d.length,g=0;h>g;g++)f.push(d[g]+e[g]*a);else f=d+e*a;i.setAttr(b,f)}},_addListeners:function(){var a=this;this.tween.onPlay=function(){a.anim.start()},this.tween.onReverse=function(){a.anim.start()},this.tween.onPause=function(){a.anim.stop()},this.tween.onFinish=function(){a.onFinish&&a.onFinish()},this.tween.onReset=function(){a.onReset&&a.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){return this.node,this.tween.reset(),this},seek:function(a){return this.node,this.tween.seek(1e3*a),this},pause:function(){return this.tween.pause(),this},finish:function(){return this.node,this.tween.finish(),this},destroy:function(){var a,b=this.node._id,c=this._id,d=Kinetic.Tween.tweens[b];this.pause();for(a in d)delete Kinetic.Tween.tweens[b][a];delete Kinetic.Tween.attrs[b][c]}};var f=function(a,b,c,d,e,f,g){this.prop=a,this.propFunc=b,this.begin=d,this._pos=d,this.duration=f,this._change=0,this.prevPos=0,this.yoyo=g,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=c,this._change=e-this.begin,this.pause()};f.prototype={fire:function(a){var b=this[a];b&&b()},setTime:function(a){a>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():0>a?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=a,this.update())},getTime:function(){return this._time},setPosition:function(a){this.prevPos=this._pos,this.propFunc(a),this._pos=a},getPosition:function(a){return void 0===a&&(a=this._time),this.func(a,this.begin,this._change,this.duration)},play:function(){this.state=c,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=d,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(a){this.pause(),this._time=a,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var a=this.getTimer()-this._startTime;this.state===c?this.setTime(a):this.state===d&&this.setTime(this.duration-a)},pause:function(){this.state=b,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Kinetic.Easings={BackEaseIn:function(a,b,c,d){var e=1.70158;return c*(a/=d)*a*((e+1)*a-e)+b},BackEaseOut:function(a,b,c,d){var e=1.70158;return c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},BackEaseInOut:function(a,b,c,d){var e=1.70158;return(a/=d/2)<1?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},ElasticEaseIn:function(a,b,c,d,e,f){var g=0;return 0===a?b:1==(a/=d)?b+c:(f||(f=.3*d),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),-(e*Math.pow(2,10*(a-=1))*Math.sin(2*(a*d-g)*Math.PI/f))+b)},ElasticEaseOut:function(a,b,c,d,e,f){var g=0;return 0===a?b:1==(a/=d)?b+c:(f||(f=.3*d),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),e*Math.pow(2,-10*a)*Math.sin(2*(a*d-g)*Math.PI/f)+c+b)},ElasticEaseInOut:function(a,b,c,d,e,f){var g=0;return 0===a?b:2==(a/=d/2)?b+c:(f||(f=1.5*.3*d),!e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e),1>a?-.5*e*Math.pow(2,10*(a-=1))*Math.sin(2*(a*d-g)*Math.PI/f)+b:.5*e*Math.pow(2,-10*(a-=1))*Math.sin(2*(a*d-g)*Math.PI/f)+c+b)},BounceEaseOut:function(a,b,c,d){return(a/=d)<1/2.75?7.5625*c*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},BounceEaseIn:function(a,b,c,d){return c-Kinetic.Easings.BounceEaseOut(d-a,0,c,d)+b},BounceEaseInOut:function(a,b,c,d){return d/2>a?.5*Kinetic.Easings.BounceEaseIn(2*a,0,c,d)+b:.5*Kinetic.Easings.BounceEaseOut(2*a-d,0,c,d)+.5*c+b},EaseIn:function(a,b,c,d){return c*(a/=d)*a+b},EaseOut:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},EaseInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},StrongEaseIn:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},StrongEaseOut:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},StrongEaseInOut:function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},Linear:function(a,b,c,d){return c*a/d+b}}}(),!function(){Kinetic.Util.addMethods(Kinetic.Container,{__init:function(a){this.children=new Kinetic.Collection,Kinetic.Node.call(this,a)},getChildren:function(a){if(a){var b=new Kinetic.Collection;return this.children.each(function(c){a(c)&&b.push(c)}),b}return this.children},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var a,b=Kinetic.Collection.toCollection(this.children),c=0;c<b.length;c++)a=b[c],delete a.parent,a.index=0,a.hasChildren()&&a.removeChildren(),a.remove();return b=null,this.children=new Kinetic.Collection,this},destroyChildren:function(){for(var a,b=Kinetic.Collection.toCollection(this.children),c=0;c<b.length;c++)a=b[c],delete a.parent,a.index=0,a.destroy();return b=null,this.children=new Kinetic.Collection,this},add:function(a){if(!(arguments.length>1)){if(a.getParent())return void a.moveTo(this);var b=this.children;return this._validateAdd(a),a.index=b.length,a.parent=this,b.push(a),this._fire("add",{child:a}),this}for(var c=0;c<arguments.length;c++)this.add(arguments[c])},destroy:function(){this.hasChildren()&&this.destroyChildren(),Kinetic.Node.prototype.destroy.call(this)},find:function(a){var b,c,d,e,f,g,h,i=[],j=a.replace(/ /g,"").split(","),k=j.length;for(b=0;k>b;b++)if(d=j[b],"#"===d.charAt(0))f=this._getNodeById(d.slice(1)),f&&i.push(f);else if("."===d.charAt(0))e=this._getNodesByName(d.slice(1)),i=i.concat(e);else for(g=this.getChildren(),h=g.length,c=0;h>c;c++)i=i.concat(g[c]._get(d));return Kinetic.Collection.toCollection(i)},_getNodeById:function(a){var b=Kinetic.ids[a];return void 0!==b&&this.isAncestorOf(b)?b:null},_getNodesByName:function(a){var b=Kinetic.names[a]||[];return this._getDescendants(b)},_get:function(a){for(var b=Kinetic.Node.prototype._get.call(this,a),c=this.getChildren(),d=c.length,e=0;d>e;e++)b=b.concat(c[e]._get(a));return b},toObject:function(){var a=Kinetic.Node.prototype.toObject.call(this);a.children=[];for(var b=this.getChildren(),c=b.length,d=0;c>d;d++){var e=b[d];a.children.push(e.toObject())}return a},_getDescendants:function(a){for(var b=[],c=a.length,d=0;c>d;d++){var e=a[d];this.isAncestorOf(e)&&b.push(e)}return b},isAncestorOf:function(a){for(var b=a.getParent();b;){if(b._id===this._id)return!0;b=b.getParent()}return!1},clone:function(a){var b=Kinetic.Node.prototype.clone.call(this,a);return this.getChildren().each(function(a){b.add(a.clone())}),b},getAllIntersections:function(a){var b=[];return this.find("Shape").each(function(c){c.isVisible()&&c.intersects(a)&&b.push(c)}),b},_setChildrenIndices:function(){this.children.each(function(a,b){a.index=b})},drawScene:function(a,b){var c=this.getLayer(),d=a||c&&c.getCanvas(),e=d&&d.getContext(),f=this._cache.canvas,g=f&&f.scene;return this.isVisible()&&(g?this._drawCachedSceneCanvas(e):this._drawChildren(d,"drawScene",b)),this},drawHit:function(a,b){var c=this.getLayer(),d=a||c&&c.hitCanvas,e=d&&d.getContext(),f=this._cache.canvas,g=f&&f.hit;return this.shouldDrawHit()&&(g?this._drawCachedHitCanvas(e):this._drawChildren(d,"drawHit",b)),this},_drawChildren:function(a,b,c){var d,e,f=this.getLayer(),g=a&&a.getContext(),h=this.getClipWidth(),i=this.getClipHeight(),j=h&&i;j&&f&&(d=this.getClipX(),e=this.getClipY(),g.save(),f._applyTransform(this,g),g.beginPath(),g.rect(d,e,h,i),g.clip(),g.reset()),this.children.each(function(d){d[b](a,c)}),j&&g.restore()}}),Kinetic.Util.extend(Kinetic.Container,Kinetic.Node),Kinetic.Container.prototype.get=Kinetic.Container.prototype.find,Kinetic.Factory.addComponentsGetterSetter(Kinetic.Container,"clip",["x","y","width","height"]),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipX"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipY"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipWidth"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipHeight"),Kinetic.Collection.mapMethods(Kinetic.Container)}(),!function(){function a(a){a.fill()}function b(a){a.stroke()}function c(a){a.fill()}function d(a){a.stroke()}function e(){this._clearCache(f)}var f="hasShadow";Kinetic.Util.addMethods(Kinetic.Shape,{__init:function(f){this.nodeType="Shape",this._fillFunc=a,this._strokeFunc=b,this._fillFuncHit=c,this._strokeFuncHit=d;for(var g,h=Kinetic.shapes;g=Kinetic.Util.getRandomColor(),!g||g in h;);this.colorKey=g,h[g]=this,Kinetic.Node.call(this,f),this.on("shadowColorChange.kinetic shadowBlurChange.kinetic shadowOffsetChange.kinetic shadowOpacityChange.kinetic shadowEnabledChange.kinetic",e)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(f,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return!!(this.stroke()||this.strokeRed()||this.strokeGreen()||this.strokeBlue())},_get:function(a){return this.className===a||this.nodeType===a?[this]:[]},intersects:function(a){var b,c=this.getStage(),d=c.bufferHitCanvas;return d.getContext().clear(),this.drawScene(d),b=d.context.getImageData(Math.round(a.x),Math.round(a.y),1,1).data,b[3]>0},destroy:function(){Kinetic.Node.prototype.destroy.call(this),delete Kinetic.shapes[this.colorKey]},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasFill()&&this.hasStroke()&&this.getStage()},drawScene:function(a,b){var c,d,e,f=this.getLayer(),g=a||f.getCanvas(),h=g.getContext(),i=this._cache.canvas,j=this.sceneFunc(),k=this.hasShadow();return this.isVisible()&&(i?this._drawCachedSceneCanvas(h):j&&(h.save(),this._useBufferCanvas()?(c=this.getStage(),d=c.bufferCanvas,e=d.getContext(),e.clear(),e.save(),e._applyLineJoin(this),f._applyTransform(this,e,b),j.call(this,e),e.restore(),k&&(h.save(),h._applyShadow(this),h.drawImage(d._canvas,0,0),h.restore()),h._applyOpacity(this),h.drawImage(d._canvas,0,0)):(h._applyLineJoin(this),f._applyTransform(this,h,b),k&&(h.save(),h._applyShadow(this),j.call(this,h),h.restore()),h._applyOpacity(this),j.call(this,h)),h.restore())),this},drawHit:function(a,b){var c=this.getLayer(),d=a||c.hitCanvas,e=d.getContext(),f=this.hitFunc()||this.sceneFunc(),g=this._cache.canvas,h=g&&g.hit;return this.shouldDrawHit()&&(h?this._drawCachedHitCanvas(e):f&&(e.save(),e._applyLineJoin(this),c._applyTransform(this,e,b),f.call(this,e),e.restore())),this},drawHitFromCache:function(a){var b,c,d,e,f,g,h,i,j=a||0,k=this._cache.canvas,l=this._getCachedSceneCanvas(),m=l.getContext(),n=k.hit,o=n.getContext(),p=l.getWidth(),q=l.getHeight();o.clear();try{for(b=m.getImageData(0,0,p,q),c=b.data,d=o.getImageData(0,0,p,q),e=d.data,f=c.length,g=Kinetic.Util._hexToRgb(this.colorKey),h=0;f>h;h+=4)i=c[h+3],i>j&&(e[h]=g.r,e[h+1]=g.g,e[h+2]=g.b,e[h+3]=255);o.putImageData(d,0,0)}catch(r){Kinetic.Util.warn("Unable to draw hit graph from cached scene canvas. "+r.message)}return this}}),Kinetic.Util.extend(Kinetic.Shape,Kinetic.Node),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"stroke"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeWidth",2),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineJoin"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineCap"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"sceneFunc"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"hitFunc"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dash"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowColor"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlur"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOpacity"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"shadowOffset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOffsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOffsetY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternImage"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fill"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientColorStops"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientColorStops"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternRepeat","repeat"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dashEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeScaleEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPriority","color"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillPatternOffset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternOffsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternOffsetY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillPatternScale",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternScaleX",1),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternScaleY",1),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillLinearGradientStartPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientStartPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientStartPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillLinearGradientEndPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientEndPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientEndPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillRadialGradientStartPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillRadialGradientEndPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndPointY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternRotation",0),Kinetic.Factory.backCompat(Kinetic.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),Kinetic.Collection.mapMethods(Kinetic.Shape)}(),!function(){function a(a,b){a.content.addEventListener(b,function(c){a[I+b](c)},!1)}var b="Stage",c="string",d="px",e="mouseout",f="mouseleave",g="mouseover",h="mouseenter",i="mousemove",j="mousedown",k="mouseup",l="click",m="dblclick",n="touchstart",o="touchend",p="tap",q="dbltap",r="touchmove",s="contentMouseout",t="contentMouseover",u="contentMousemove",v="contentMousedown",w="contentMouseup",x="contentClick",y="contentDblclick",z="contentTouchstart",A="contentTouchend",B="contentDbltap",C="contentTouchmove",D="div",E="relative",F="inline-block",G="kineticjs-content",H=" ",I="_",J="container",K="",L=[j,i,k,e,n,r,o,g],M=L.length;Kinetic.Util.addMethods(Kinetic.Stage,{___init:function(a){this.nodeType=b,Kinetic.Container.call(this,a),this._id=Kinetic.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,Kinetic.stages.push(this)},_validateAdd:function(a){"Layer"!==a.getType()&&Kinetic.Util.error("You may only add layers to the stage.")},setContainer:function(a){if(typeof a===c){var b=a;if(a=Kinetic.document.getElementById(a),!a)throw"Can not find container in document with id "+b}return this._setAttr(J,a),this},shouldDrawHit:function(){return!0},draw:function(){return Kinetic.Node.prototype.draw.call(this),this},setHeight:function(a){return Kinetic.Node.prototype.setHeight.call(this,a),this._resizeDOM(),this},setWidth:function(a){return Kinetic.Node.prototype.setWidth.call(this,a),this._resizeDOM(),this},clear:function(){var a,b=this.children,c=b.length;for(a=0;c>a;a++)b[a].clear();return this},clone:function(a){return a||(a={}),a.container=Kinetic.document.createElement(D),Kinetic.Container.prototype.clone.call(this,a)},destroy:function(){var a=this.content;Kinetic.Container.prototype.destroy.call(this),a&&Kinetic.Util._isInDocument(a)&&this.getContainer().removeChild(a);var b=Kinetic.stages.indexOf(this);b>-1&&Kinetic.stages.splice(b,1)},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(a){function b(e){var f=i[e],j=f.toDataURL(),k=new Kinetic.window.Image;k.onload=function(){h.drawImage(k,0,0),e<i.length-1?b(e+1):a.callback(g.toDataURL(c,d))},k.src=j}a=a||{};var c=a.mimeType||null,d=a.quality||null,e=a.x||0,f=a.y||0,g=new Kinetic.SceneCanvas({width:a.width||this.getWidth(),height:a.height||this.getHeight(),pixelRatio:1}),h=g.getContext()._context,i=this.children;(e||f)&&h.translate(-1*e,-1*f),b(0)},toImage:function(a){var b=a.callback;a.callback=function(a){Kinetic.Util._getImage(a,function(a){b(a)})},this.toDataURL(a)},getIntersection:function(a){var b,c,d=this.getChildren(),e=d.length,f=e-1;for(b=f;b>=0;b--)if(c=d[b].getIntersection(a))return c;return null},_resizeDOM:function(){if(this.content){var a,b,c=this.getWidth(),e=this.getHeight(),f=this.getChildren(),g=f.length;for(this.content.style.width=c+d,this.content.style.height=e+d,this.bufferCanvas.setSize(c,e),this.bufferHitCanvas.setSize(c,e),a=0;g>a;a++)b=f[a],b.getCanvas().setSize(c,e),b.hitCanvas.setSize(c,e),b.draw()}},add:function(a){if(!(arguments.length>1))return Kinetic.Container.prototype.add.call(this,a),a._setCanvasSize(this.width(),this.height()),a.draw(),this.content.appendChild(a.canvas._canvas),this;for(var b=0;b<arguments.length;b++)this.add(arguments[b])},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){for(var b=0;M>b;b++)a(this,L[b])},_mouseover:function(a){Kinetic.UA.mobile||(this._setPointerPosition(a),this._fire(t,{evt:a}))},_mouseout:function(a){if(!Kinetic.UA.mobile){this._setPointerPosition(a);var b=this.targetShape;b&&!Kinetic.isDragging()&&(b._fireAndBubble(e,{evt:a}),b._fireAndBubble(f,{evt:a}),this.targetShape=null),this.pointerPos=void 0,this._fire(s,{evt:a})}},_mousemove:function(a){if(!Kinetic.UA.mobile){this._setPointerPosition(a);var b=Kinetic.DD,c=this.getIntersection(this.getPointerPosition());c&&c.isListening()?Kinetic.isDragging()||this.targetShape&&this.targetShape._id===c._id?c._fireAndBubble(i,{evt:a}):(this.targetShape&&(this.targetShape._fireAndBubble(e,{evt:a},c),this.targetShape._fireAndBubble(f,{evt:a},c)),c._fireAndBubble(g,{evt:a},this.targetShape),c._fireAndBubble(h,{evt:a},this.targetShape),this.targetShape=c):this.targetShape&&!Kinetic.isDragging()&&(this.targetShape._fireAndBubble(e,{evt:a}),this.targetShape._fireAndBubble(f,{evt:a}),this.targetShape=null),this._fire(u,{evt:a}),b&&b._drag(a)}a.preventDefault&&a.preventDefault()},_mousedown:function(a){if(!Kinetic.UA.mobile){this._setPointerPosition(a);var b=this.getIntersection(this.getPointerPosition());Kinetic.listenClickTap=!0,b&&b.isListening()&&(this.clickStartShape=b,b._fireAndBubble(j,{evt:a})),this._fire(v,{evt:a})}a.preventDefault&&a.preventDefault()},_mouseup:function(a){if(!Kinetic.UA.mobile){this._setPointerPosition(a);var b=this.getIntersection(this.getPointerPosition()),c=this.clickStartShape,d=!1;Kinetic.inDblClickWindow?(d=!0,Kinetic.inDblClickWindow=!1):Kinetic.inDblClickWindow=!0,setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow),b&&b.isListening()&&(b._fireAndBubble(k,{evt:a}),Kinetic.listenClickTap&&c&&c._id===b._id&&(b._fireAndBubble(l,{evt:a}),d&&b._fireAndBubble(m,{evt:a}))),this._fire(w,{evt:a}),Kinetic.listenClickTap&&(this._fire(x,{evt:a}),d&&this._fire(y,{evt:a})),Kinetic.listenClickTap=!1}a.preventDefault&&a.preventDefault()},_touchstart:function(a){this._setPointerPosition(a);var b=this.getIntersection(this.getPointerPosition());Kinetic.listenClickTap=!0,b&&b.isListening()&&(this.tapStartShape=b,b._fireAndBubble(n,{evt:a}),b.isListening()&&a.preventDefault&&a.preventDefault()),this._fire(z,{evt:a})},_touchend:function(a){this._setPointerPosition(a);var b=this.getIntersection(this.getPointerPosition()),c=!1;Kinetic.inDblClickWindow?(c=!0,Kinetic.inDblClickWindow=!1):Kinetic.inDblClickWindow=!0,setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow),b&&b.isListening()&&(b._fireAndBubble(o,{evt:a}),Kinetic.listenClickTap&&b._id===this.tapStartShape._id&&(b._fireAndBubble(p,{evt:a}),c&&b._fireAndBubble(q,{evt:a})),b.isListening()&&a.preventDefault&&a.preventDefault()),Kinetic.listenClickTap&&(this._fire(A,{evt:a}),c&&this._fire(B,{evt:a})),Kinetic.listenClickTap=!1},_touchmove:function(a){this._setPointerPosition(a);var b=Kinetic.DD,c=this.getIntersection(this.getPointerPosition());c&&c.isListening()&&(c._fireAndBubble(r,{evt:a}),c.isListening()&&a.preventDefault&&a.preventDefault()),this._fire(C,{evt:a}),b&&b._drag(a)},_setPointerPosition:function(a){var b,c=this._getContentPosition(),d=a.offsetX,e=a.clientX,f=null,g=null;a=a?a:window.event,void 0!==a.touches?a.touches.length>0&&(b=a.touches[0],f=b.clientX-c.left,g=b.clientY-c.top):void 0!==d?(f=d,g=a.offsetY):"mozilla"===Kinetic.UA.browser?(f=a.layerX,g=a.layerY):void 0!==e&&c&&(f=e-c.left,g=a.clientY-c.top),null!==f&&null!==g&&(this.pointerPos={x:f,y:g})},_getContentPosition:function(){var a=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:a.top,left:a.left}},_buildDOM:function(){var a=this.getContainer();
if(!a){if(Kinetic.Util.isBrowser())throw"Stage has not container. But container is required";a=Kinetic.document.createElement(D)}a.innerHTML=K,this.content=Kinetic.document.createElement(D),this.content.style.position=E,this.content.style.display=F,this.content.className=G,this.content.setAttribute("role","presentation"),a.appendChild(this.content),this.bufferCanvas=new Kinetic.SceneCanvas({pixelRatio:1}),this.bufferHitCanvas=new Kinetic.HitCanvas,this._resizeDOM()},_onContent:function(a,b){var c,d,e=a.split(H),f=e.length;for(c=0;f>c;c++)d=e[c],this.content.addEventListener(d,b,!1)},cache:function(){Kinetic.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),Kinetic.Util.extend(Kinetic.Stage,Kinetic.Container),Kinetic.Factory.addGetter(Kinetic.Stage,"container"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Stage,"container")}(),!function(){Kinetic.Util.addMethods(Kinetic.BaseLayer,{___init:function(a){this.nodeType="Layer",Kinetic.Container.call(this,a)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(a){return this.getContext().clear(a),this.getHitCanvas().getContext().clear(a),this},setZIndex:function(a){Kinetic.Node.prototype.setZIndex.call(this,a);var b=this.getStage();return b&&(b.content.removeChild(this.getCanvas()._canvas),a<b.getChildren().length-1?b.content.insertBefore(this.getCanvas()._canvas,b.getChildren()[a+1].getCanvas()._canvas):b.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){Kinetic.Node.prototype.moveToTop.call(this);var a=this.getStage();a&&(a.content.removeChild(this.getCanvas()._canvas),a.content.appendChild(this.getCanvas()._canvas))},moveUp:function(){if(Kinetic.Node.prototype.moveUp.call(this)){var a=this.getStage();a&&(a.content.removeChild(this.getCanvas()._canvas),this.index<a.getChildren().length-1?a.content.insertBefore(this.getCanvas()._canvas,a.getChildren()[this.index+1].getCanvas()._canvas):a.content.appendChild(this.getCanvas()._canvas))}},moveDown:function(){if(Kinetic.Node.prototype.moveDown.call(this)){var a=this.getStage();if(a){var b=a.getChildren();a.content.removeChild(this.getCanvas()._canvas),a.content.insertBefore(this.getCanvas()._canvas,b[this.index+1].getCanvas()._canvas)}}},moveToBottom:function(){if(Kinetic.Node.prototype.moveToBottom.call(this)){var a=this.getStage();if(a){var b=a.getChildren();a.content.removeChild(this.getCanvas()._canvas),a.content.insertBefore(this.getCanvas()._canvas,b[1].getCanvas()._canvas)}}},getLayer:function(){return this},remove:function(){var a=this.getCanvas()._canvas;return Kinetic.Node.prototype.remove.call(this),a&&a.parentNode&&Kinetic.Util._isInDocument(a)&&a.parentNode.removeChild(a),this},getStage:function(){return this.parent}}),Kinetic.Util.extend(Kinetic.BaseLayer,Kinetic.Container),Kinetic.Factory.addGetterSetter(Kinetic.BaseLayer,"clearBeforeDraw",!0),Kinetic.Collection.mapMethods(Kinetic.BaseLayer)}(),!function(){Kinetic.Util.addMethods(Kinetic.FastLayer,{____init:function(a){this.nodeType="Layer",this.canvas=new Kinetic.SceneCanvas,Kinetic.BaseLayer.call(this,a)},_validateAdd:function(a){var b=a.getType();"Shape"!==b&&Kinetic.Util.error("You may only add shapes to a fast layer.")},_setCanvasSize:function(a,b){this.canvas.setSize(a,b)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(a){var b=this.getLayer(),c=a||b&&b.getCanvas();return this.getClearBeforeDraw()&&c.getContext().clear(),Kinetic.Container.prototype.drawScene.call(this,c),this},_applyTransform:function(a,b,c){if(!c||c._id!==this._id){var d=a.getTransform().getMatrix();b.transform(d[0],d[1],d[2],d[3],d[4],d[5])}},draw:function(){return this.drawScene(),this},clear:function(a){return this.getContext().clear(a),this},setVisible:function(a){return Kinetic.Node.prototype.setVisible.call(this,a),this.getCanvas()._canvas.style.display=a?"block":"none",this}}),Kinetic.Util.extend(Kinetic.FastLayer,Kinetic.BaseLayer),Kinetic.Collection.mapMethods(Kinetic.FastLayer)}(),!function(){var a="#",b="beforeDraw",c="draw",d=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}],e=d.length;Kinetic.Util.addMethods(Kinetic.Layer,{____init:function(a){this.nodeType="Layer",this.canvas=new Kinetic.SceneCanvas,this.hitCanvas=new Kinetic.HitCanvas,Kinetic.BaseLayer.call(this,a)},_setCanvasSize:function(a,b){this.canvas.setSize(a,b),this.hitCanvas.setSize(a,b)},_validateAdd:function(a){var b=a.getType();"Group"!==b&&"Shape"!==b&&Kinetic.Util.error("You may only add groups and shapes to a layer.")},getIntersection:function(a){var b,c,f,g;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(c=0;e>c;c++){if(f=d[c],b=this._getIntersection({x:a.x+f.x,y:a.y+f.y}),g=b.shape)return g;if(!b.antialiased)return null}},_getIntersection:function(b){var c,d,e=this.hitCanvas.context._context.getImageData(b.x,b.y,1,1).data,f=e[3];return 255===f?(c=Kinetic.Util._rgbToHex(e[0],e[1],e[2]),d=Kinetic.shapes[a+c],{shape:d}):f>0?{antialiased:!0}:{}},drawScene:function(a,d){var e=this.getLayer(),f=a||e&&e.getCanvas();return this._fire(b,{node:this}),this.getClearBeforeDraw()&&f.getContext().clear(),Kinetic.Container.prototype.drawScene.call(this,f,d),this._fire(c,{node:this}),this},_applyTransform:function(a,b,c){var d=a.getAbsoluteTransform(c).getMatrix();b.transform(d[0],d[1],d[2],d[3],d[4],d[5])},drawHit:function(a,b){var c=this.getLayer(),d=a||c&&c.hitCanvas;return c&&c.getClearBeforeDraw()&&c.getHitCanvas().getContext().clear(),Kinetic.Container.prototype.drawHit.call(this,d,b),this},clear:function(a){return this.getContext().clear(a),this.getHitCanvas().getContext().clear(a),this},setVisible:function(a){return Kinetic.Node.prototype.setVisible.call(this,a),a?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this}}),Kinetic.Util.extend(Kinetic.Layer,Kinetic.BaseLayer),Kinetic.Factory.addGetterSetter(Kinetic.Layer,"hitGraphEnabled",!0),Kinetic.Collection.mapMethods(Kinetic.Layer)}(),!function(){Kinetic.Util.addMethods(Kinetic.Group,{___init:function(a){this.nodeType="Group",Kinetic.Container.call(this,a)},_validateAdd:function(a){var b=a.getType();"Group"!==b&&"Shape"!==b&&Kinetic.Util.error("You may only add groups and shapes to groups.")}}),Kinetic.Util.extend(Kinetic.Group,Kinetic.Container),Kinetic.Collection.mapMethods(Kinetic.Group)}(),!function(){Kinetic.Rect=function(a){this.___init(a)},Kinetic.Rect.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(a){var b=this.getCornerRadius(),c=this.getWidth(),d=this.getHeight();a.beginPath(),b?(a.moveTo(b,0),a.lineTo(c-b,0),a.arc(c-b,b,b,3*Math.PI/2,0,!1),a.lineTo(c,d-b),a.arc(c-b,d-b,b,0,Math.PI/2,!1),a.lineTo(b,d),a.arc(b,d-b,b,Math.PI/2,Math.PI,!1),a.lineTo(0,b),a.arc(b,b,b,Math.PI,3*Math.PI/2,!1)):a.rect(0,0,c,d),a.closePath(),a.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Rect,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Rect,"cornerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Rect)}(),!function(){var a=2*Math.PI-1e-4,b="Circle";Kinetic.Circle=function(a){this.___init(a)},Kinetic.Circle.prototype={___init:function(a){Kinetic.Shape.call(this,a),this.className=b,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(b){b.beginPath(),b.arc(0,0,this.getRadius(),0,a,!1),b.closePath(),b.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(a){Kinetic.Node.prototype.setWidth.call(this,a),this.setRadius(a/2)},setHeight:function(a){Kinetic.Node.prototype.setHeight.call(this,a),this.setRadius(a/2)}},Kinetic.Util.extend(Kinetic.Circle,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Circle,"radius",0),Kinetic.Collection.mapMethods(Kinetic.Circle)}();var EnjoyHint=function(a){var b=this,c={onStart:function(){},onEnd:function(){}},d=$.extend(c,a),e=[],f=0;h=$("body");var g=function(){h.enjoyhint({onNextClick:function(){f++,i()},onSkipClick:function(){var a=e[f],b=$(a.selector);l(a.event),b.off(j(a.event))}})},h=$("body"),i=function(){if(e&&e[f]){var a=e[f];a.onBeforeStart&&"function"==typeof a.onBeforeStart&&a.onBeforeStart();var b=a.timeout||0;setTimeout(function(){var b=$(a.selector),c=j(a.event);h.enjoyhint("show"),h.enjoyhint("hide_next");var d=b;if(a.event_selector&&(d=$(a.event_selector)),a.event_type)switch(a.event_type){case"auto":switch(b[a.event](),a.event){case"click":}return f++,void i();case"custom":k(a.event,function(){f++,l(a.event),i()});break;case"next":h.enjoyhint("show_next")}else d.on(c,function(b){a.key_code&&b.keyCode!=a.key_code||(f++,$(this).off(c),i())});var e=Math.max(b.outerWidth(),b.outerHeight()),g=Math.round(e/2)+5,m=b.offset(),n=b.outerWidth(),o=b.outerHeight(),p=void 0!==a.margin?a.margin:10,q={x:m.left+Math.round(n/2),y:m.top+Math.round(o/2)},r={center_x:q.x,center_y:q.y,text:a.description,top:a.top,bottom:a.bottom,left:a.left,right:a.right,margin:a.margin};a.shape&&"circle"==a.shape?(r.shape="circle",r.radius=g):(r.radius=0,r.width=n+p,r.height=o+p),h.enjoyhint("render_label_with_shape",r)},b)}else h.enjoyhint("hide"),d.onEnd()},j=function(a,b){return a+(b?"custom":"")+".enjoy_hint"},k=function(a,b){h.on(j(a,!0),b)},l=function(a){h.off(j(a,!0))};b.runScript=function(){f=0,d.onStart(),i()},b.resumeScript=function(){i()},b.getCurrentStep=function(){return f},b.trigger=function(a){h.trigger(j(a,!0))},b.setScript=function(a){a&&(e=a)},g()};CanvasRenderingContext2D.prototype.roundRect=function(a,b,c,d,e){return 2*e>c&&(e=c/2),2*e>d&&(e=d/2),this.beginPath(),this.moveTo(a+e,b),this.arcTo(a+c,b,a+c,b+d,e),this.arcTo(a+c,b+d,a,b+d,e),this.arcTo(a,b+d,a,b,e),this.arcTo(a,b,a+c,b,e),this.closePath(),this},function(a){var b={init:function(b){return this.each(function(){function c(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)c.setAttribute(d,b[d]);return c}var d={onNextClick:function(){},onSkipClick:function(){},animation_time:800};this.enjoyhint_obj={};var e=this.enjoyhint_obj,f=a(this);a("body"),e.options=jQuery.extend(d,b),e.gcl={chooser:"enjoyhint"},e.cl={enjoy_hint:"enjoyhint",hide:"enjoyhint_hide",disable_events_element:"enjoyhint_disable_events",btn:"enjoyhint_btn",skip_btn:"enjoyhint_skip_btn",next_btn:"enjoyhint_next_btn",main_canvas:"enjoyhint_canvas",main_svg:"enjoyhint_svg",svg_wrapper:"enjoyhint_svg_wrapper",svg_transparent:"enjoyhint_svg_transparent",kinetic_container:"kinetic_container"},e.canvas_size={w:2560,h:1600};var g="enj_canvas";e.enjoyhint=a("<div>",{"class":e.cl.enjoy_hint+" "+e.cl.svg_transparent}).appendTo(f),e.enjoyhint_svg_wrapper=a("<div>",{"class":e.cl.svg_wrapper+" "+e.cl.svg_transparent}).appendTo(e.enjoyhint),e.$stage_container=a('<div id="'+e.cl.kinetic_container+'">').appendTo(e.enjoyhint),e.$canvas=a('<canvas id="'+g+'" width="'+e.canvas_size.w+'" height="'+e.canvas_size.h+'" class="'+e.cl.main_canvas+'">').appendTo(e.enjoyhint),e.$svg=a('<svg width="'+e.canvas_size.w+'" height="'+e.canvas_size.h+'" class="'+e.cl.main_canvas+" "+e.cl.main_svg+'">').appendTo(e.enjoyhint_svg_wrapper);var h=a(c("defs")),i=a(c("marker",{id:"arrowMarker",viewBox:"0 0 36 21",refX:"21",refY:"10",markerUnits:"strokeWidth",orient:"auto",markerWidth:"16",markerHeight:"12"})),j=a(c("path",{style:"fill:none; stroke:rgb(255,255,255); stroke-width:2",d:"M0,0 c30,11 30,9 0,20"}));h.append(i.append(j)).appendTo(e.$svg),e.kinetic_stage=new Kinetic.Stage({container:e.cl.kinetic_container,width:e.canvas_size.w,height:e.canvas_size.h}),e.layer=new Kinetic.Layer,e.rect=new Kinetic.Rect({fill:"rgba(0,0,0,0.6)",width:e.canvas_size.w,height:e.canvas_size.h});var k=a("<div>",{"class":e.cl.disable_events_element}).appendTo(e.enjoyhint),l=k.clone().appendTo(e.enjoyhint),m=k.clone().appendTo(e.enjoyhint),n=k.clone().appendTo(e.enjoyhint);e.$skip_btn=a("<div>",{"class":e.cl.skip_btn+" "+e.cl.btn}).appendTo(e.enjoyhint).html("Skip").click(function(){e.hide(),e.options.onSkipClick()}),e.$next_btn=a("<div>",{"class":e.cl.next_btn}).appendTo(e.enjoyhint).html("Next").click(function(){e.options.onNextClick()}),e.$canvas.mousedown(function(b){a("canvas").css({left:"4000px"});var c=document.elementFromPoint(b.clientX,b.clientY);return a("canvas").css({left:"0px"}),a(c).click(),!1});var o=0,p=130;return e.shape=new Kinetic.Shape({radius:o,center_x:-p,center_y:-p,width:0,height:0,sceneFunc:function(){var a=this.getContext("2d")._context;this.pos;var b=a.globalCompositeOperation;a.globalCompositeOperation="destination-out",a.beginPath();var c=this.attrs.center_x-Math.round(this.attrs.width/2),d=this.attrs.center_y-Math.round(this.attrs.height/2);a.roundRect(c,d,this.attrs.width,this.attrs.height,this.attrs.radius),a.fillStyle="red",a.fill(),a.globalCompositeOperation=b}}),e.shape.radius=o,e.layer.add(e.rect),e.layer.add(e.shape),e.kinetic_stage.add(e.layer),[e.enjoyhint,k,l,m,n],e.show=function(){e.enjoyhint.removeClass(e.cl.hide)},e.hide=function(){e.enjoyhint.addClass(e.cl.hide);var a=new Kinetic.Tween({node:e.shape,duration:.002,center_x:-p,center_y:-p});a.play()},e.hide(),e.hideNextBtn=function(){e.$next_btn.addClass(e.cl.hide)},e.showNextBtn=function(){e.$next_btn.removeClass(e.cl.hide)},e.renderCircle=function(a){var b=a.r||0,c=a.x||0,d=a.y||0,f=new Kinetic.Tween({node:e.shape,duration:.2,center_x:c,center_y:d,width:2*b,height:2*b,radius:b});f.play();var g=c-b,h=c+b,i=d-b,j=d+b,k=20;return{x:c,y:d,left:g,right:h,top:i,bottom:j,conn:{left:{x:g-k,y:d},right:{x:h+k,y:d},top:{x:c,y:i-k},bottom:{x:c,y:j+k}}}},e.renderRect=function(a){var b=a.r||0,c=a.x||0,d=a.y||0,f=a.w||0,g=a.h||0,h=20,i=new Kinetic.Tween({node:e.shape,duration:.2,center_x:c,center_y:d,width:f,height:g,radius:b});i.play();var j=Math.round(f/2),k=Math.round(g/2),l=c-j,m=c+j,n=d-k,o=d+k;return{x:c,y:d,left:l,right:m,top:n,bottom:o,conn:{left:{x:l-h,y:d},right:{x:m+h,y:d},top:{x:c,y:n-h},bottom:{x:c,y:o+h}}}},e.renderLabel=function(b){var c=b.x||0,d=b.y||0;b.text||0;var f=e.getLabelElement({x:c,y:d,text:b.text}),g=f.width(),h=f.height(),i=f.offset().left,j=f.offset().left+g,k=f.offset().top,l=f.offset().top+h,m=10,n={x:i-m,y:k+Math.round(h/2)},o={x:j+m,y:k+Math.round(h/2)},p={x:i+Math.round(g/2),y:k-m},q={x:i+Math.round(g/2),y:l+m};return f.detach(),setTimeout(function(){a("#enjoyhint_label").remove(),f.appendTo(e.enjoyhint)},e.options.animation_time/2),{label:f,left:i,right:j,top:k,bottom:l,conn:{left:n,right:o,top:p,bottom:q}}},e.renderArrow=function(b){var d=b.x_from||0,f=b.y_from||0,g=b.x_to||0,h=b.y_to||0,i=b.by_top_side,j=0,k=0;i?f>=h?(k=h,j=d):(k=f,j=g):f>=h?(k=f,j=g):(k=h,j=d),b.text||"",e.enjoyhint.addClass(e.cl.svg_transparent),setTimeout(function(){a("#enjoyhint_arrpw_line").remove();var b="M"+d+","+f+" Q"+j+","+k+" "+g+","+h;e.$svg.append(c("path",{style:"fill:none; stroke:rgb(255,255,255); stroke-width:3","marker-end":"url(#arrowMarker)",d:b,id:"enjoyhint_arrpw_line"})),e.enjoyhint.removeClass(e.cl.svg_transparent)},e.options.animation_time/2)},e.getLabelElement=function(b){return a("<div>",{"class":"enjoy_hint_label",id:"enjoyhint_label"}).css({top:b.y+"px",left:b.x+"px"}).html(b.text).appendTo(e.enjoyhint)},e.disableEventsNearRect=function(a){k.css({top:"0",left:"0"}).height(a.top),l.css({top:a.bottom+"px",left:"0"}),m.css({top:"0",left:"0px"}).width(a.left),n.css({top:"0",left:a.right+"px"})},e.renderLabelWithShape=function(a){function b(a,b,c){I=a,J=b,H=c}function c(a,c,d,e,f){var g=[];g=M?a:P?c:O?d:Q?e:f,g&&b(g[0],g[1],g[2])}var d=a.shape||"rect",f={},g=0,h=0,i={top:a.top||0,bottom:a.bottom||0,left:a.left||0,right:a.right||0};switch(d){case"circle":g=h=a.radius;var j={top:a.center_y-h+i.top,bottom:a.center_y+h-i.bottom,left:a.center_x-g+i.left,right:a.center_x+g-i.right},k=j.right-j.left,l=j.bottom-j.top;a.radius=Math.round(Math.min(k,l)/2),g=h=Math.round(a.radius/2);var m=Math.round(k/2),n=Math.round(l/2);a.center_x=j.left+m,a.center_y=j.top+n,f=e.renderCircle({x:a.center_x,y:a.center_y,r:a.radius});break;case"rect":g=Math.round(a.width/2),h=Math.round(a.height/2);var j={top:a.center_y-h+i.top,bottom:a.center_y+h-i.bottom,left:a.center_x-g+i.left,right:a.center_x+g-i.right};a.width=j.right-j.left,a.height=j.bottom-j.top,g=Math.round(a.width/2),h=Math.round(a.height/2),a.center_x=j.left+g,a.center_y=j.top+h,f=e.renderRect({x:a.center_x,y:a.center_y,w:a.width,h:a.height,r:a.radius})}var o={w:e.enjoyhint.width(),h:e.enjoyhint.height()},p=e.getLabelElement({x:0,y:0,text:a.text}),q=p.outerWidth(),r=p.outerHeight();p.remove();var s=a.center_y-h,t=o.h-(a.center_y+h),u=a.center_x-g,v=o.w-(a.center_x+g),w=o.w-a.center_x<a.center_x?"left":"right",x=o.h-a.center_y<a.center_y?"top":"bottom",y=150,z=40,A=y+q+z,B=y+r+z,C=g+y,D=h+y,E="left"==w?a.center_x-C-q:a.center_x+C,F="top"==x?a.center_y-D-r:a.center_y+D;B>s&&B>t&&(F=a.center_y+z),A>u&&A>v&&(E=a.center_x);var G=e.renderLabel({x:E,y:F,text:a.text});e.$next_btn.css({left:E,top:F+r+20}),e.disableEventsNearRect({top:f.top,bottom:f.bottom,left:f.left,right:f.right});var H=!1,I="left",J="left",K=G.left<=f.x&&G.right>=f.x,L=G.right<f.x;G.left>f.x,G.right<f.left,G.left>f.right;var M=G.bottom<f.top,N=G.top>f.bottom,O=G.bottom>=f.y&&G.top<=f.y,P=G.bottom<=f.y&&!M,Q=G.top>=f.y&&!N;if(K)if(M)b("bottom","top","top");else{if(!N)return;b("top","bottom","bottom")}else L?c(["right","top","top"],["bottom","left","bottom"],["right","left","top"],["top","left","top"],["right","bottom","bottom"]):c(["left","top","top"],["bottom","right","bottom"],["left","right","top"],["top","right","top"],["left","bottom","bottom"]);var R=G.conn[I],S=f.conn[J],T="top"==H?!0:!1;e.renderArrow({x_from:R.x,y_from:R.y,x_to:S.x,y_to:S.y,by_top_side:T})},e.clear=function(){e.ctx.clearRect(0,0,3e3,2e3)},this})},set:function(a){return this.each(function(){this.enjoyhint_obj.setValue(a)}),this},show:function(){return this.each(function(){this.enjoyhint_obj.show()}),this},hide:function(){return this.each(function(){this.enjoyhint_obj.hide()}),this},hide_next:function(){return this.each(function(){this.enjoyhint_obj.hideNextBtn()}),this},show_next:function(){return this.each(function(){this.enjoyhint_obj.showNextBtn()}),this},render_circle:function(a,b,c){return this.each(function(){this.enjoyhint_obj.renderCircle(a,b,c)}),this},render_label:function(a,b,c){return this.each(function(){this.enjoyhint_obj.renderLabel(a,b,c)}),this},render_label_with_shape:function(a){return this.each(function(){this.enjoyhint_obj.renderLabelWithShape(a)}),this},clear:function(){return this.each(function(){this.enjoyhint_obj.clear()}),this},close:function(){return this.each(function(){this.enjoyhint_obj.closePopdown()}),this}};a.fn.enjoyhint=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?(a.error("Method "+c+" does not exist on $.numinput"),this):b.init.apply(this,arguments)}}(window.jQuery),function(a){var b={init:function(b){return this.each(function(){var c=a(this),d={},e={isTouch:"ontouchstart"in window||window.navigator.msMaxTouchPoints>0,backNode:"body",offsetNode:"",onStart:function(){},onMove:function(){},onEnd:function(){}};return d.options=jQuery.extend(e,b),d.uid=Math.ceil(1e7*Math.random())+(new Date).getTime(),c.attr("data-uid",d.uid),d.pos=!1,d.lastPos={},d.options.backNode=a(d.options.backNode),d.ev={start:d.options.isTouch?"touchstart":"mousedown",move:d.options.isTouch?"touchmove":"mousemove",end:d.options.isTouch?"touchend touchcancel":"mouseup mouseleave"},d.touchToXY=function(a){if(a.customX&&a.customY)return{x:a.customX,y:a.customY};var b={x:0,y:0};if("touchstart"==a.type||"touchmove"==a.type||"touchend"==a.type||"touchcancel"==a.type){var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];b.x=c.pageX-d.offset.left,b.y=c.pageY-d.offset.top}else("mousedown"==a.type||"mouseup"==a.type||"mousemove"==a.type||"mouseover"==a.type||"mouseout"==a.type||"mouseenter"==a.type||"mouseleave"==a.type)&&(b.x=a.pageX-d.offset.left,b.y=a.pageY-d.offset.top);return b},d.deactivateAllFrames=function(b){a("iframe").map(function(c,d){a(d).css({"pointer-events":b?"none":"all"})})},d.onActionStart=function(a){d.refresh(),d.deactivateAllFrames(!0),a.stopPropagation(),d.options.backNode.on(d.ev.move,d.onActionMove),d.options.backNode.on(d.ev.end,d.onActionEnd);var b=d.touchToXY(a);d.lastPos={x:b.x,y:b.y},d.options.onStart(b,a)},d.onActionMove=function(a){var b=d.touchToXY(a);b.delta={x:d.lastPos.x-b.x,y:d.lastPos.y-b.y},d.options.onMove(b,a),d.lastPos.x=b.x,d.lastPos.y=b.y},d.onActionEnd=function(a){d.deactivateAllFrames(!1),d.pos=!1;var b=d.touchToXY(a);d.options.backNode.off(d.ev.move,d.onActionMove),d.options.backNode.off(d.ev.end,d.onActionEnd),d.options.onEnd(b,a),d.lastPos.x=!1,d.lastPos.y=!1},d.refresh=function(){d.offset=d.options.offsetNode?a(d.options.offsetNode).offset():c.offset(),d.options.backNode.off(d.ev.start,"[data-uid="+d.uid+"]",d.onActionStart).on(d.ev.start,"[data-uid="+d.uid+"]",d.onActionStart)},a("article").on("scroll",function(){d.refresh()}),d.refresh(),this})},set:function(a){return this.each(function(){this.setData(a)}),this}};a.fn.pointerAction=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.pointerAction")}return this}}(window.jQuery),function(a){var b,c=a();a.fn.sortable=function(d){var e=String(d);return d=a.extend({connectWith:!1},d),this.each(function(){if(/^enable|disable|destroy$/.test(e)){var f=a(this).children(a(this).data("items")).attr("draggable","enable"==e);return void("destroy"==e&&f.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"))}var g,h=a(this),f=a(this).children(d.items),i=a("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');f.find(d.handle).mousedown(function(){a(this).parent(d.items).addClass("sortable-dragging-start"),g=!0}).mouseup(function(){g=!1,a(this).parent(d.items).removeClass("sortable-dragging-start")}),a(this).data("items",d.items),c=c.add(i),d.connectWith&&a(d.connectWith).add(this).data("connectWith",d.connectWith),f.attr("draggable","true").on("dragstart.h5s",function(c){if(d.handle&&!g)return!1;g=!1,a(this).removeClass("sortable-dragging-start");var e=c.originalEvent.dataTransfer;e.effectAllowed="move",e.setData("Text","dummy"),(b=a(this)).addClass("sortable-dragging"),sIndex=h.find(d.items).index(b)}).on("dragend.h5s",function(){if(b){b.removeClass("sortable-dragging").show(),c.detach();var a=h.find(d.items).index(b);sIndex!=a&&b.parent().trigger("sortupdate",{item:b,sIndex:sIndex,dIndex:a}),b=null}}).not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end().add([this,i]).on("dragover.h5s dragenter.h5s drop.h5s",function(e){return f.is(b)||d.connectWith===a(b).parent().data("connectWith")?"drop"==e.type?(e.stopPropagation(),c.filter(":visible").after(b),b.trigger("dragend.h5s"),!1):(e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="move",f.is(this)?(d.forcePlaceholderSize&&i.height(b.outerHeight()),b.hide(),a(this)[i.index()<a(this).index()?"after":"before"](i),c.not(i).detach()):c.is(this)||a(this).children(d.items).length||(c.detach(),a(this).append(i)),!1):!0})})}}(jQuery),function($,version){Math.precision=function(a,b){return void 0===b&&(b=0),Math.round(a*Math.pow(10,b))/Math.pow(10,b)};var tabindex={_start:100,next:function(){return this._start++}},that=this,Slider=function(a,b){var c,d,e=this,f=a.find(".Arrow:first"),g=0,h=100,i=100,j=0,k=100,l=100,m=0,n=0,o=new Array,p=function(a){for(var b=0;b<o.length;b++)o[b].call(e,e,a)},q=function(b){var f=a.offset();c={l:0|f.left,t:0|f.top},clearTimeout(d),d=setTimeout(function(){t.call(e,b)},0),$(document).bind("mousemove",r).bind("mouseup",s),b.preventDefault()},r=function(a){return clearTimeout(d),d=setTimeout(function(){t.call(e,a)},0),a.stopPropagation(),a.preventDefault(),!1},s=function(a){return $(document).unbind("mouseup",s).unbind("mousemove",r),a.stopPropagation(),a.preventDefault(),!1},t=function(b){var d=b.pageX-c.l,f=b.pageY-c.t,h=a.w,k=a.h;0>d?d=0:d>h&&(d=h),0>f?f=0:f>k&&(f=k),v.call(e,"xy",{x:d/h*i+g,y:f/k*l+j})},u=function(){var b=0,c=0,d=a.w,e=a.h,g=f.w,j=f.h;setTimeout(function(){i>0&&(b=m==h?d:m/i*d|0),l>0&&(c=n==k?e:n/l*e|0),g>=d?b=(d>>1)-(g>>1):b-=g>>1,j>=e?c=(e>>1)-(j>>1):c-=j>>1,f.css({left:b+"px",top:c+"px"})},0)},v=function(a,b,c){var d=void 0!==b;if(!d)switch((void 0===a||null==a)&&(a="xy"),a.toLowerCase()){case"x":return m;case"y":return n;case"xy":default:return{x:m,y:n}}if(null==c||c!=e){var f,i,l=!1;switch(null==a&&(a="xy"),a.toLowerCase()){case"x":f=b&&(b.x&&0|b.x||0|b)||0;break;case"y":i=b&&(b.y&&0|b.y||0|b)||0;break;case"xy":default:f=b&&b.x&&0|b.x||0,i=b&&b.y&&0|b.y||0}null!=f&&(g>f?f=g:f>h&&(f=h),m!=f&&(m=f,l=!0)),null!=i&&(j>i?i=j:i>k&&(i=k),n!=i&&(n=i,l=!0)),l&&p.call(e,c||e)}},w=function(a,b){var c=void 0!==b;if(!c)switch((void 0===a||null==a)&&(a="all"),a.toLowerCase()){case"minx":return g;case"maxx":return h;case"rangex":return{minX:g,maxX:h,rangeX:i};case"miny":return j;case"maxy":return k;case"rangey":return{minY:j,maxY:k,rangeY:l};case"all":default:return{minX:g,maxX:h,rangeX:i,minY:j,maxY:k,rangeY:l}}var d,e,f,m;switch(null==a&&(a="all"),a.toLowerCase()){case"minx":d=b&&(b.minX&&0|b.minX||0|b)||0;break;case"maxx":e=b&&(b.maxX&&0|b.maxX||0|b)||0;break;case"rangex":d=b&&b.minX&&0|b.minX||0,e=b&&b.maxX&&0|b.maxX||0;break;case"miny":f=b&&(b.minY&&0|b.minY||0|b)||0;break;case"maxy":m=b&&(b.maxY&&0|b.maxY||0|b)||0;break;case"rangey":f=b&&b.minY&&0|b.minY||0,m=b&&b.maxY&&0|b.maxY||0;break;case"all":default:d=b&&b.minX&&0|b.minX||0,e=b&&b.maxX&&0|b.maxX||0,f=b&&b.minY&&0|b.minY||0,m=b&&b.maxY&&0|b.maxY||0}null!=d&&g!=d&&(g=d,i=h-g),null!=e&&h!=e&&(h=e,i=h-g),null!=f&&j!=f&&(j=f,l=k-j),null!=m&&k!=m&&(k=m,l=k-j)},x=function(a){$.isFunction(a)&&o.push(a)},y=function(a){if($.isFunction(a))for(var b;-1!=(b=$.inArray(a,o));)o.splice(b,1)},z=function(){$(document).unbind("mouseup",s).unbind("mousemove",r),a.unbind("mousedown",q),a=null,f=null,o=null};$.extend(!0,e,{val:v,range:w,bind:x,unbind:y,destroy:z}),f.src=b.arrow&&b.arrow.image,f.w=b.arrow&&b.arrow.width||f.width(),f.h=b.arrow&&b.arrow.height||f.height(),a.w=b.map&&b.map.width||a.width(),a.h=b.map&&b.map.height||a.height(),a.bind("mousedown",q),x.call(e,u)},ColorValuePicker=function(a,b,c,d){var e=this,f=a.find("div.Text input"),g=f.eq(3),h=f.eq(4),i=f.eq(5),j=f.length>7?f.eq(6):null,k=f.eq(0),l=f.eq(1),m=f.eq(2),n=f.eq(f.length>7?7:6),o=f.length>7?f.eq(8):null,p=function(a){if(""!=a.target.value||a.target==n.get(0)||(null==c||a.target==c.get(0))&&null!=c){if(!s(a))return a;switch(a.target){case g.get(0):switch(a.keyCode){case 38:return g.val(t.call(e,(g.val()<<0)+1,0,255)),b.val("r",g.val(),a.target),!1;case 40:return g.val(t.call(e,(g.val()<<0)-1,0,255)),b.val("r",g.val(),a.target),!1}break;case h.get(0):switch(a.keyCode){case 38:return h.val(t.call(e,(h.val()<<0)+1,0,255)),b.val("g",h.val(),a.target),!1;case 40:return h.val(t.call(e,(h.val()<<0)-1,0,255)),b.val("g",h.val(),a.target),!1}break;case i.get(0):switch(a.keyCode){case 38:return i.val(t.call(e,(i.val()<<0)+1,0,255)),b.val("b",i.val(),a.target),!1;case 40:return i.val(t.call(e,(i.val()<<0)-1,0,255)),b.val("b",i.val(),a.target),!1}break;case j&&j.get(0):switch(a.keyCode){case 38:return j.val(t.call(e,parseFloat(j.val())+1,0,100)),b.val("a",Math.precision(255*j.val()/100,d),a.target),!1;case 40:return j.val(t.call(e,parseFloat(j.val())-1,0,100)),b.val("a",Math.precision(255*j.val()/100,d),a.target),!1}break;case k.get(0):switch(a.keyCode){case 38:return k.val(t.call(e,(k.val()<<0)+1,0,360)),b.val("h",k.val(),a.target),!1;case 40:return k.val(t.call(e,(k.val()<<0)-1,0,360)),b.val("h",k.val(),a.target),!1}break;case l.get(0):switch(a.keyCode){case 38:return l.val(t.call(e,(l.val()<<0)+1,0,100)),b.val("s",l.val(),a.target),!1;case 40:return l.val(t.call(e,(l.val()<<0)-1,0,100)),b.val("s",l.val(),a.target),!1}break;case m.get(0):switch(a.keyCode){case 38:return m.val(t.call(e,(m.val()<<0)+1,0,100)),b.val("v",m.val(),a.target),!1;case 40:return m.val(t.call(e,(m.val()<<0)-1,0,100)),b.val("v",m.val(),a.target),!1}}}},q=function(a){if(""!=a.target.value||a.target==n.get(0)||(null==c||a.target==c.get(0))&&null!=c){if(!s(a))return a;switch(a.target){case g.get(0):g.val(t.call(e,g.val(),0,255)),b.val("r",g.val(),a.target);break;case h.get(0):h.val(t.call(e,h.val(),0,255)),b.val("g",h.val(),a.target);break;case i.get(0):i.val(t.call(e,i.val(),0,255)),b.val("b",i.val(),a.target);break;case j&&j.get(0):j.val(t.call(e,j.val(),0,100)),b.val("a",Math.precision(255*j.val()/100,d),a.target);break;case k.get(0):k.val(t.call(e,k.val(),0,360)),b.val("h",k.val(),a.target);break;case l.get(0):l.val(t.call(e,l.val(),0,100)),b.val("s",l.val(),a.target);break;case m.get(0):m.val(t.call(e,m.val(),0,100)),b.val("v",m.val(),a.target);break;case n.get(0):n.val(n.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,6)),c&&c.val(n.val()),b.val("hex",""!=n.val()?n.val():null,a.target);break;case c&&c.get(0):c.val(c.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,6)),n.val(c.val()),b.val("hex",""!=c.val()?c.val():null,a.target);break;case o&&o.get(0):o.val(o.val().replace(/[^a-fA-F0-9]/g,"").toLowerCase().substring(0,2)),b.val("a",null!=o.val()?parseInt(o.val(),16):null,a.target)}}},r=function(a){if(null!=b.val())switch(a.target){case g.get(0):g.val(b.val("r"));break;case h.get(0):h.val(b.val("g"));break;case i.get(0):i.val(b.val("b"));break;case j&&j.get(0):j.val(Math.precision(100*b.val("a")/255,d));break;case k.get(0):k.val(b.val("h"));break;case l.get(0):l.val(b.val("s"));break;case m.get(0):m.val(b.val("v"));break;case n.get(0):case c&&c.get(0):n.val(b.val("hex")),c&&c.val(b.val("hex"));break;case o&&o.get(0):o.val(b.val("ahex").substring(6))}},s=function(a){switch(a.keyCode){case 9:case 16:case 29:case 37:case 39:return!1;case"c".charCodeAt():case"v".charCodeAt():if(a.ctrlKey)return!1}return!0},t=function(a,b,c){return""==a||isNaN(a)?b:a>c?c:b>a?b:a},u=function(a,b){var e=a.val("all");b!=g.get(0)&&g.val(null!=e?e.r:""),b!=h.get(0)&&h.val(null!=e?e.g:""),b!=i.get(0)&&i.val(null!=e?e.b:""),j&&b!=j.get(0)&&j.val(null!=e?Math.precision(100*e.a/255,d):""),b!=k.get(0)&&k.val(null!=e?e.h:""),b!=l.get(0)&&l.val(null!=e?e.s:""),b!=m.get(0)&&m.val(null!=e?e.v:""),b!=n.get(0)&&(c&&b!=c.get(0)||!c)&&n.val(null!=e?e.hex:""),c&&b!=c.get(0)&&b!=n.get(0)&&c.val(null!=e?e.hex:""),o&&b!=o.get(0)&&o.val(null!=e?e.ahex.substring(6):"")},v=function(){g.add(h).add(i).add(j).add(k).add(l).add(m).add(n).add(c).add(o).unbind("keyup",q).unbind("blur",r),g.add(h).add(i).add(j).add(k).add(l).add(m).unbind("keydown",p),b.unbind(u),g=null,h=null,i=null,j=null,k=null,l=null,m=null,n=null,o=null};$.extend(!0,e,{destroy:v}),g.add(h).add(i).add(j).add(k).add(l).add(m).add(n).add(c).add(o).bind("keyup",q).bind("blur",r),g.add(h).add(i).add(j).add(k).add(l).add(m).bind("keydown",p),b.bind(u)};$.jPicker={List:[],Color:function(a){var b,c,d,e,f,g,h,i=this,j=new Array,k=function(a){for(var b=i.pleaseNoChangeHere,c=0;c<j.length;c++)j[c].externalCall&&i.pleaseNoChangeHere?i.pleaseNoChangeHere=!1:(j[c].call(i,i,a),i.pleaseNoChangeHere=b)},l=function(j,m,n,o){i.pleaseNoChangeHere=o;var p=void 0!==m;if(!p){if((void 0===j||null==j||""==j)&&(j="all"),null==b)return null;switch(j.toLowerCase()){case"ahex":return ColorMethods.rgbaToHex({r:b,g:c,b:d,a:e});case"hex":return l("ahex").substring(0,6);case"all":return{r:b,g:c,b:d,a:e,h:f,s:g,v:h,hex:l.call(i,"hex"),ahex:l.call(i,"ahex")};
default:for(var q={},r=0;r<j.length;r++)switch(j.charAt(r)){case"r":1==j.length?q=b:q.r=b;break;case"g":1==j.length?q=c:q.g=c;break;case"b":1==j.length?q=d:q.b=d;break;case"a":1==j.length?q=e:q.a=e;break;case"h":1==j.length?q=f:q.h=f;break;case"s":1==j.length?q=g:q.s=g;break;case"v":1==j.length?q=h:q.v=h}return q=={}?l.call(i,"all"):q}}if(null==n||n!=i){var s=!1;if(null==j&&(j=""),null==m)return null!=b&&(b=null,s=!0),null!=c&&(c=null,s=!0),null!=d&&(d=null,s=!0),null!=e&&(e=null,s=!0),null!=f&&(f=null,s=!0),null!=g&&(g=null,s=!0),null!=h&&(h=null,s=!0),void(s&&k.call(i,n||i,a));switch(j.toLowerCase()){case"ahex":case"hex":var q=ColorMethods.hexToRgba(m&&(m.ahex||m.hex)||m||"00000000");l.call(i,"rgba",{r:q.r,g:q.g,b:q.b,a:"ahex"==j?q.a:null!=e?e:255},n);break;default:if(m&&(null!=m.ahex||null!=m.hex))return void l.call(i,"ahex",m.ahex||m.hex||"00000000",n);var t={},u=!1,v=!1;void 0!==m.r&&-1==!j.indexOf("r")&&(j+="r"),void 0!==m.g&&-1==!j.indexOf("g")&&(j+="g"),void 0!==m.b&&-1==!j.indexOf("b")&&(j+="b"),void 0!==m.a&&-1==!j.indexOf("a")&&(j+="a"),void 0!==m.h&&-1==!j.indexOf("h")&&(j+="h"),void 0!==m.s&&-1==!j.indexOf("s")&&(j+="s"),void 0!==m.v&&-1==!j.indexOf("v")&&(j+="v");for(var r=0;r<j.length;r++)switch(j.charAt(r)){case"r":if(v)continue;u=!0,t.r=m&&m.r&&0|m.r||m&&0|m||0,t.r<0?t.r=0:t.r>255&&(t.r=255),b!=t.r&&(b=t.r,s=!0);break;case"g":if(v)continue;u=!0,t.g=m&&m.g&&0|m.g||m&&0|m||0,t.g<0?t.g=0:t.g>255&&(t.g=255),c!=t.g&&(c=t.g,s=!0);break;case"b":if(v)continue;u=!0,t.b=m&&m.b&&0|m.b||m&&0|m||0,t.b<0?t.b=0:t.b>255&&(t.b=255),d!=t.b&&(d=t.b,s=!0);break;case"a":t.a=m&&null!=m.a?0|m.a:null!=m?0|m:255,t.a<0?t.a=0:t.a>255&&(t.a=255),e!=t.a&&(e=t.a,s=!0);break;case"h":if(u)continue;v=!0,t.h=m&&m.h&&0|m.h||m&&0|m||0,t.h<0?t.h=0:t.h>360&&(t.h=360),f!=t.h&&(f=t.h,s=!0);break;case"s":if(u)continue;v=!0,t.s=m&&null!=m.s?0|m.s:null!=m?0|m:100,t.s<0?t.s=0:t.s>100&&(t.s=100),g!=t.s&&(g=t.s,s=!0);break;case"v":if(u)continue;v=!0,t.v=m&&null!=m.v?0|m.v:null!=m?0|m:100,t.v<0?t.v=0:t.v>100&&(t.v=100),h!=t.v&&(h=t.v,s=!0)}if(s){if(u){b=b||0,c=c||0,d=d||0;var q=ColorMethods.rgbToHsv({r:b,g:c,b:d});f=q.h,g=q.s,h=q.v}else if(v){f=f||0,g=null!=g?g:100,h=null!=h?h:100;var q=ColorMethods.hsvToRgb({h:f,s:g,v:h});b=q.r,c=q.g,d=q.b}e=null!=e?e:255;var w="rgba"==j.toLowerCase();k.call(i,n||i,w)}}}},m=function(a){$.isFunction(a)&&j.push(a)},n=function(a){if($.isFunction(a))for(var b;-1!=(b=$.inArray(a,j));)j.splice(b,1)},o=function(){j=null};$.extend(!0,i,{val:l,bind:m,unbind:n,destroy:o}),a&&(null!=a.ahex?l("ahex",a):null!=a.hex?l((null!=a.a?"a":"")+"hex",null!=a.a?{ahex:a.hex+ColorMethods.intToHex(a.a)}:a):null!=a.r&&null!=a.g&&null!=a.b?l("rgb"+(null!=a.a?"a":""),a):null!=a.h&&null!=a.s&&null!=a.v&&l("hsv"+(null!=a.a?"a":""),a))},ColorMethods:{hexToRgba:function(a){if(a=this.validateHex(a),""==a)return{r:null,g:null,b:null,a:null};var b="00",c="00",d="00",e="255";return 6==a.length&&(a+="ff"),a.length>6?(b=a.substring(0,2),c=a.substring(2,4),d=a.substring(4,6),e=a.substring(6,a.length)):(a.length>4&&(b=a.substring(4,a.length),a=a.substring(0,4)),a.length>2&&(c=a.substring(2,a.length),a=a.substring(0,2)),a.length>0&&(d=a.substring(0,a.length))),{r:this.hexToInt(b),g:this.hexToInt(c),b:this.hexToInt(d),a:this.hexToInt(e)}},validateHex:function(a){return a=a.toLowerCase().replace(/[^a-f0-9]/g,""),a.length>8&&(a=a.substring(0,8)),a},rgbaToHex:function(a){return this.intToHex(a.r)+this.intToHex(a.g)+this.intToHex(a.b)+this.intToHex(a.a)},intToHex:function(a){var b=(0|a).toString(16);return 1==b.length&&(b="0"+b),b.toLowerCase()},hexToInt:function(a){return parseInt(a,16)},rgbToHsv:function(a){var b,c=a.r/255,d=a.g/255,e=a.b/255,f={h:0,s:0,v:0},g=0,h=0;return c>=d&&c>=e?(h=c,g=d>e?e:d):d>=e&&d>=c?(h=d,g=c>e?e:c):(h=e,g=d>c?c:d),f.v=h,f.s=h?(h-g)/h:0,f.s?(b=h-g,f.h=c==h?(d-e)/b:d==h?2+(e-c)/b:4+(c-d)/b,f.h=parseInt(60*f.h),f.h<0&&(f.h+=360)):f.h=0,f.s=100*f.s|0,f.v=100*f.v|0,f},hsvToRgb:function(a){var b={r:0,g:0,b:0,a:100},c=a.h,d=a.s,e=a.v;if(0==d)b.r=b.g=b.b=0==e?0:255*e/100|0;else{360==c&&(c=0),c/=60,d/=100,e/=100;var f=0|c,g=c-f,h=e*(1-d),i=e*(1-d*g),j=e*(1-d*(1-g));switch(f){case 0:b.r=e,b.g=j,b.b=h;break;case 1:b.r=i,b.g=e,b.b=h;break;case 2:b.r=h,b.g=e,b.b=j;break;case 3:b.r=h,b.g=i,b.b=e;break;case 4:b.r=j,b.g=h,b.b=e;break;case 5:b.r=e,b.g=h,b.b=i}b.r=255*b.r|0,b.g=255*b.g|0,b.b=255*b.b|0}return b}}};var Color=$.jPicker.Color,List=$.jPicker.List,ColorMethods=$.jPicker.ColorMethods;$.fn.jPicker=function(options){var $arguments=arguments;return this.each(function(){var $this=this,settings=$.extend(!0,{},$.fn.jPicker.defaults,options);"input"==$($this).get(0).nodeName.toLowerCase()&&($.extend(!0,settings,{window:{bindToInput:!0,expandable:!0,input:$($this)}}),""==$($this).val()?(settings.color.active=new Color({hex:null}),settings.color.current=new Color({hex:null})):ColorMethods.validateHex($($this).val())&&(settings.color.active=new Color({hex:$($this).val(),a:settings.color.active.val("a")}),settings.color.current=new Color({hex:$($this).val(),a:settings.color.active.val("a")}))),settings.window.liveUpdate=!1;var isLessThanIE7=parseFloat(navigator.appVersion.split("MSIE")[1])<7&&document.body.filters,container=null,colorMapDiv=null,colorBarDiv=null,colorMapL1=null,colorMapL2=null,colorMapL3=null,colorBarL1=null,colorBarL2=null,colorBarL3=null,colorBarL4=null,colorBarL5=null,colorBarL6=null,colorMap=null,colorBar=null,colorPicker=null,elementStartX=null,elementStartY=null,pageStartX=null,pageStartY=null,activePreview=null,currentPreview=null,okButton=null,cancelButton=null,grid=null,iconColor=null,iconAlpha=null,iconImage=null,moveBar=null,setColorMode=function(a){var b,c,d=color.active,e=(images.clientPath,d.val("hex"));switch(settings.color.mode=a,a){case"h":if(setTimeout(function(){setBG.call($this,colorMapDiv,"transparent"),setImgLoc.call($this,colorMapL1,0),setAlpha.call($this,colorMapL1,100),setImgLoc.call($this,colorMapL2,260),setAlpha.call($this,colorMapL2,100),setBG.call($this,colorBarDiv,"transparent"),setImgLoc.call($this,colorBarL1,0),setAlpha.call($this,colorBarL1,100),setImgLoc.call($this,colorBarL2,260),setAlpha.call($this,colorBarL2,100),setImgLoc.call($this,colorBarL3,260),setAlpha.call($this,colorBarL3,100),setImgLoc.call($this,colorBarL4,260),setAlpha.call($this,colorBarL4,100),setImgLoc.call($this,colorBarL6,260),setAlpha.call($this,colorBarL6,100)},0),colorMap.range("all",{minX:0,maxX:100,minY:0,maxY:100}),colorBar.range("rangeY",{minY:0,maxY:360}),null==d.val("ahex"))break;colorMap.val("xy",{x:d.val("s"),y:100-d.val("v")},colorMap),colorBar.val("y",360-d.val("h"),colorBar);break;case"s":if(setTimeout(function(){setBG.call($this,colorMapDiv,"transparent"),setImgLoc.call($this,colorMapL1,-260),setImgLoc.call($this,colorMapL2,-520),setImgLoc.call($this,colorBarL1,-260),setImgLoc.call($this,colorBarL2,-520),setImgLoc.call($this,colorBarL6,260),setAlpha.call($this,colorBarL6,100)},0),colorMap.range("all",{minX:0,maxX:360,minY:0,maxY:100}),colorBar.range("rangeY",{minY:0,maxY:100}),null==d.val("ahex"))break;colorMap.val("xy",{x:d.val("h"),y:100-d.val("v")},colorMap),colorBar.val("y",100-d.val("s"),colorBar);break;case"v":if(setTimeout(function(){setBG.call($this,colorMapDiv,"000000"),setImgLoc.call($this,colorMapL1,-780),setImgLoc.call($this,colorMapL2,260),setBG.call($this,colorBarDiv,e),setImgLoc.call($this,colorBarL1,-520),setImgLoc.call($this,colorBarL2,260),setAlpha.call($this,colorBarL2,100),setImgLoc.call($this,colorBarL6,260),setAlpha.call($this,colorBarL6,100)},0),colorMap.range("all",{minX:0,maxX:360,minY:0,maxY:100}),colorBar.range("rangeY",{minY:0,maxY:100}),null==d.val("ahex"))break;colorMap.val("xy",{x:d.val("h"),y:100-d.val("s")},colorMap),colorBar.val("y",100-d.val("v"),colorBar);break;case"r":if(b=-1040,c=-780,colorMap.range("all",{minX:0,maxX:255,minY:0,maxY:255}),colorBar.range("rangeY",{minY:0,maxY:255}),null==d.val("ahex"))break;colorMap.val("xy",{x:d.val("b"),y:255-d.val("g")},colorMap),colorBar.val("y",255-d.val("r"),colorBar);break;case"g":if(b=-1560,c=-1820,colorMap.range("all",{minX:0,maxX:255,minY:0,maxY:255}),colorBar.range("rangeY",{minY:0,maxY:255}),null==d.val("ahex"))break;colorMap.val("xy",{x:d.val("b"),y:255-d.val("r")},colorMap),colorBar.val("y",255-d.val("g"),colorBar);break;case"b":if(b=-2080,c=-2860,colorMap.range("all",{minX:0,maxX:255,minY:0,maxY:255}),colorBar.range("rangeY",{minY:0,maxY:255}),null==d.val("ahex"))break;colorMap.val("xy",{x:d.val("r"),y:255-d.val("g")},colorMap),colorBar.val("y",255-d.val("b"),colorBar);break;case"a":if(setTimeout(function(){setBG.call($this,colorMapDiv,"transparent"),setImgLoc.call($this,colorMapL1,-260),setImgLoc.call($this,colorMapL2,-520),setImgLoc.call($this,colorBarL1,260),setImgLoc.call($this,colorBarL2,260),setAlpha.call($this,colorBarL2,100),setImgLoc.call($this,colorBarL6,0),setAlpha.call($this,colorBarL6,100)},0),colorMap.range("all",{minX:0,maxX:360,minY:0,maxY:100}),colorBar.range("rangeY",{minY:0,maxY:255}),null==d.val("ahex"))break;colorMap.val("xy",{x:d.val("h"),y:100-d.val("v")},colorMap),colorBar.val("y",255-d.val("a"),colorBar);break;default:throw"Invalid Mode"}switch(a){case"h":break;case"s":case"v":case"a":setTimeout(function(){setAlpha.call($this,colorMapL1,100),setAlpha.call($this,colorBarL1,100),setImgLoc.call($this,colorBarL3,260),setAlpha.call($this,colorBarL3,100),setImgLoc.call($this,colorBarL4,260),setAlpha.call($this,colorBarL4,100)},0);break;case"r":case"g":case"b":setTimeout(function(){setBG.call($this,colorMapDiv,"transparent"),setBG.call($this,colorBarDiv,"transparent"),setAlpha.call($this,colorBarL1,100),setAlpha.call($this,colorMapL1,100),setImgLoc.call($this,colorMapL1,b),setImgLoc.call($this,colorMapL2,b-260),setImgLoc.call($this,colorBarL1,c-780),setImgLoc.call($this,colorBarL2,c-520),setImgLoc.call($this,colorBarL3,c),setImgLoc.call($this,colorBarL4,c-260),setImgLoc.call($this,colorBarL6,260),setAlpha.call($this,colorBarL6,100)},0)}null!=d.val("ahex")&&activeColorChanged.call($this,d)},activeColorChanged=function(a,b){(null==b||b!=colorBar&&b!=colorMap)&&positionMapAndBarArrows.call($this,a,b),setTimeout(function(){updatePreview.call($this,a),updateMapVisuals.call($this,a),updateBarVisuals.call($this,a)},0)},mapValueChanged=function(a,b){var c=color.active;if(b==colorMap||null!=c.val()){var d=a.val("all");switch(settings.color.mode){case"h":c.val("sv",{s:d.x,v:100-d.y},b);break;case"s":case"a":c.val("hv",{h:d.x,v:100-d.y},b);break;case"v":c.val("hs",{h:d.x,s:100-d.y},b);break;case"r":c.val("gb",{g:255-d.y,b:d.x},b);break;case"g":c.val("rb",{r:255-d.y,b:d.x},b);break;case"b":c.val("rg",{r:d.x,g:255-d.y},b)}}},colorBarValueChanged=function(a,b){var c=color.active;if(b==colorBar||null!=c.val())switch(settings.color.mode){case"h":c.val("h",{h:360-a.val("y")},b);break;case"s":c.val("s",{s:100-a.val("y")},b);break;case"v":c.val("v",{v:100-a.val("y")},b);break;case"r":c.val("r",{r:255-a.val("y")},b);break;case"g":c.val("g",{g:255-a.val("y")},b);break;case"b":c.val("b",{b:255-a.val("y")},b);break;case"a":c.val("a",255-a.val("y"),b)}},positionMapAndBarArrows=function(a,b){if(b!=colorMap)switch(settings.color.mode){case"h":var c=a.val("sv");colorMap.val("xy",{x:null!=c?c.s:100,y:100-(null!=c?c.v:100)},b);break;case"s":case"a":var d=a.val("hv");colorMap.val("xy",{x:d&&d.h||0,y:100-(null!=d?d.v:100)},b);break;case"v":var e=a.val("hs");colorMap.val("xy",{x:e&&e.h||0,y:100-(null!=e?e.s:100)},b);break;case"r":var f=a.val("bg");colorMap.val("xy",{x:f&&f.b||0,y:255-(f&&f.g||0)},b);break;case"g":var g=a.val("br");colorMap.val("xy",{x:g&&g.b||0,y:255-(g&&g.r||0)},b);break;case"b":var h=a.val("rg");colorMap.val("xy",{x:h&&h.r||0,y:255-(h&&h.g||0)},b)}if(b!=colorBar)switch(settings.color.mode){case"h":colorBar.val("y",360-(a.val("h")||0),b);break;case"s":var i=a.val("s");colorBar.val("y",100-(null!=i?i:100),b);break;case"v":var j=a.val("v");colorBar.val("y",100-(null!=j?j:100),b);break;case"r":colorBar.val("y",255-(a.val("r")||0),b);break;case"g":colorBar.val("y",255-(a.val("g")||0),b);break;case"b":colorBar.val("y",255-(a.val("b")||0),b);break;case"a":var k=a.val("a");colorBar.val("y",255-(null!=k?k:255),b)}},updateUserColors=function(){try{var grid_user=container.find(".Grid_user:first").empty(),userColorsList=localStorage.getItem("userColors"),$title=container.find(".jpicker_used_before_title");userColorsList&&userColorsList.length>0?($title.show(),userColorsList=eval("("+userColorsList+")"),$.each(userColorsList,function(a,b){var c=(userColorsList[a],b.string),d=jQuery('<span class="QuickColor"><span  style="background-color:'+c+'" title="'+c+'"></span></span>');d.appendTo(grid_user).on("click",function(){b=b.value,color.active.val("ahex",fns.intToHex(b.r)+fns.intToHex(b.g)+fns.intToHex(b.b)+fns.intToHex(255*b.a))})})):$title.hide()}catch(e){}},updatePreview=function(a){try{var b=a.val("all");jQuery(".rgbastr").html("rgba("+b.r+", "+b.g+", "+b.b+", "+Math.precision(100*b.a/255,0)/100+")"),jQuery(".hexstr").html("#"+b.hex),jQuery(".opacitystr").html(Math.precision(100*b.a/255,0)/100),updateUserColors(),activePreview.css({backgroundColor:b&&"#"+b.hex||"transparent"}),container.find(".alpha").slider("set",b&&Math.precision(100*b.a/255,4)||0),setAlpha.call($this,activePreview,b&&Math.precision(100*b.a/255,4)||0)}catch(c){}},updateMapVisuals=function(a){switch(settings.color.mode){case"h":setBG.call($this,colorMapDiv,new Color({h:a.val("h")||0,s:100,v:100}).val("hex"));break;case"s":case"a":var b=a.val("s");setAlpha.call($this,colorMapL2,100-(null!=b?b:100));break;case"v":var c=a.val("v");setAlpha.call($this,colorMapL1,null!=c?c:100);break;case"r":setAlpha.call($this,colorMapL2,Math.precision((a.val("r")||0)/255*100,4));break;case"g":setAlpha.call($this,colorMapL2,Math.precision((a.val("g")||0)/255*100,4));break;case"b":setAlpha.call($this,colorMapL2,Math.precision((a.val("b")||0)/255*100))}var d=a.val("a");setAlpha.call($this,colorMapL3,Math.precision(100*(255-(d||0))/255,4))},updateBarVisuals=function(a){switch(settings.color.mode){case"h":var b=a.val("a");setAlpha.call($this,colorBarL5,Math.precision(100*(255-(b||0))/255,4));break;case"s":var c=a.val("hva"),d=new Color({h:c&&c.h||0,s:100,v:null!=c?c.v:100});setBG.call($this,colorBarDiv,d.val("hex")),setAlpha.call($this,colorBarL2,100-(null!=c?c.v:100)),setAlpha.call($this,colorBarL5,Math.precision(100*(255-(c&&c.a||0))/255,4));break;case"v":var e=a.val("hsa"),f=new Color({h:e&&e.h||0,s:null!=e?e.s:100,v:100});setBG.call($this,colorBarDiv,f.val("hex")),setAlpha.call($this,colorBarL5,Math.precision(100*(255-(e&&e.a||0))/255,4));break;case"r":case"g":case"b":var g=0,h=0,i=a.val("rgba");"r"==settings.color.mode?(g=i&&i.b||0,h=i&&i.g||0):"g"==settings.color.mode?(g=i&&i.b||0,h=i&&i.r||0):"b"==settings.color.mode&&(g=i&&i.r||0,h=i&&i.g||0);var j=h>g?g:h;setAlpha.call($this,colorBarL2,g>h?Math.precision((g-h)/(255-h)*100,4):0),setAlpha.call($this,colorBarL3,h>g?Math.precision((h-g)/(255-g)*100,4):0),setAlpha.call($this,colorBarL4,Math.precision(j/255*100,4)),setAlpha.call($this,colorBarL5,Math.precision(100*(255-(i&&i.a||0))/255,4));break;case"a":var b=a.val("a");setBG.call($this,colorBarDiv,a.val("hex")||"000000"),setAlpha.call($this,colorBarL5,null!=b?0:100),setAlpha.call($this,colorBarL6,null!=b?100:0)}},setBG=function(a,b){a.css({backgroundColor:b&&6==b.length&&"#"+b||"transparent"})},setImg=function(a,b){!isLessThanIE7||-1==b.indexOf("AlphaBar.png")&&-1==b.indexOf("Bars.png")&&-1==b.indexOf("Maps.png")?a.css({backgroundImage:"url('"+b+"')"}):(a.attr("pngSrc",b),a.css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b+"', sizingMethod='scale')"}))},setImgLoc=function(a,b){a.css({top:b+"px"})},setAlpha=function(a,b){if(a.css({visibility:b>0?"visible":"hidden"}),b>0&&100>b)if(isLessThanIE7){var c=a.attr("pngSrc");a.css(null==c||-1==c.indexOf("AlphaBar.png")&&-1==c.indexOf("Bars.png")&&-1==c.indexOf("Maps.png")?{opacity:Math.precision(b/100,4)}:{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+c+"', sizingMethod='scale') progid:DXImageTransform.Microsoft.Alpha(opacity="+b+")"})}else a.css({opacity:Math.precision(b/100,4)});else if(0==b||100==b)if(isLessThanIE7){var c=a.attr("pngSrc");a.css(null==c||-1==c.indexOf("AlphaBar.png")&&-1==c.indexOf("Bars.png")&&-1==c.indexOf("Maps.png")?{opacity:""}:{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+c+"', sizingMethod='scale')"})}else a.css({opacity:""})},revertColor=function(){color.active.val("ahex",color.current.val("ahex"))},commitColor=function(){color.current.val("ahex",color.active.val("ahex"))},radioClicked=function(a){$(this).parents(".jPicker_content:first").find('input:radio[value!="'+a.target.value+'"]').removeAttr("checked"),setColorMode.call($this,a.target.value)},currentClicked=function(){revertColor.call($this)},cancelClicked=function(){revertColor.call($this),settings.window.expandable&&hide.call($this),$.isFunction(cancelCallback)&&cancelCallback.call($this,color.active,cancelButton)},okClicked=function(){commitColor.call($this),settings.window.expandable&&hide.call($this),$.isFunction(commitCallback)&&commitCallback.call($this,color.active,okButton)},iconImageClicked=function(){show.call($this)},currentColorChanged=function(a){{var b=a.val("hex");a.val("rgb"),a.val("hsv")}currentPreview.css({backgroundColor:b&&"#"+b||"transparent"}),setAlpha.call($this,currentPreview,Math.precision(100*(a.val("a")||0)/255,4))},expandableColorChanged=function(a){var b=a.val("hex"),c=a.val("va");iconColor.css({backgroundColor:b&&"#"+b||"transparent"}),setAlpha.call($this,iconAlpha,Math.precision(100*(255-(c&&c.a||0))/255,4)),settings.window.bindToInput&&settings.window.updateInputColor&&settings.window.input.css({backgroundColor:b&&"#"+b||"transparent",color:null==c||c.v>75?"#000000":"#ffffff"})},moveBarMouseDown=function(a){settings.window.element,settings.window.page;elementStartX=parseInt(container.css("left")),elementStartY=parseInt(container.css("top")),pageStartX=a.pageX,pageStartY=a.pageY,$(document).bind("mousemove",documentMouseMove).bind("mouseup",documentMouseUp),a.preventDefault()},documentMouseMove=function(a){return container.css({left:elementStartX-(pageStartX-a.pageX)+"px",top:elementStartY-(pageStartY-a.pageY)+"px"}),a.stopPropagation(),a.preventDefault(),!1},documentMouseUp=function(a){return $(document).unbind("mousemove",documentMouseMove).unbind("mouseup",documentMouseUp),a.stopPropagation(),a.preventDefault(),!1},commitCallback=$.isFunction($arguments[1])&&$arguments[1]||null,liveCallback=$.isFunction($arguments[2])&&$arguments[2]||null,cancelCallback=$.isFunction($arguments[3])&&$arguments[3]||null,show=function(){},hide=function(){},initialize=function(){var a=settings.window;container=$($this),container.addClass("jPicker Container"),container.get(0).onselectstart=function(a){return"input"!==a.target.nodeName.toLowerCase()?!1:void 0};var b=color.active.val("all");a.alphaPrecision<0?a.alphaPrecision=0:a.alphaPrecision>2&&(a.alphaPrecision=2);var c='<div class="jPicker"><div  class="jPicker_content"><div class="Picker"><div><div class="Map"><span class="Map1">&nbsp;</span><span class="Map2">&nbsp;</span><span class="Map3">&nbsp;</span><div class="Arrow"></div></div><div class="Bar"><span class="Map1">&nbsp;</span><span class="Map2">&nbsp;</span><span class="Map3">&nbsp;</span><span class="Map4">&nbsp;</span><span class="Map5">&nbsp;</span><span class="Map6">&nbsp;</span><div class="Arrow"></div></div><div class="Preview"><div><span class="Active" title="'+localization.tooltips.colors.newColor+localization.text.newColor+'"></span><span class="Current" title="'+localization.tooltips.colors.currentColor+localization.text.currentColor+'"></span></div></div><div class="Button"><input type="button" class="Ok" value="'+localization.text.ok+'" title="'+localization.tooltips.buttons.ok+'"/><input type="button" class="Cancel" value="'+localization.text.cancel+'" title="'+localization.tooltips.buttons.cancel+'"/></div><div class="Inputs"><div class="Hue inputrow"><div class="Radio"><label title="'+localization.tooltips.hue.radio+'"><input type="radio" value="h"'+("h"==settings.color.mode?' checked="checked"':"")+'/>H:</label></div><div class="Text"><input type="text" tabindex="'+tabindex.next()+'" maxlength="3" value="'+(null!=b?b.h:"")+'" title="'+localization.tooltips.hue.textbox+'"/>&nbsp;&deg;</div></div><div class="Saturation inputrow"><div class="Radio"><label title="'+localization.tooltips.saturation.radio+'"><input type="radio" value="s"'+("s"==settings.color.mode?' checked="checked"':"")+'/>S:</label></div><div class="Text"><input type="text" tabindex="'+tabindex.next()+'" maxlength="3" value="'+(null!=b?b.s:"")+'" title="'+localization.tooltips.saturation.textbox+'"/>&nbsp;%</div></div><div class="Value inputrow"><div class="Radio"><label title="'+localization.tooltips.value.radio+'"><input type="radio" value="v"'+("v"==settings.color.mode?' checked="checked"':"")+'/>V:</label></div><div class="Text"><input type="text" tabindex="'+tabindex.next()+'" maxlength="3" value="'+(null!=b?b.v:"")+'" title="'+localization.tooltips.value.textbox+'"/>&nbsp;%</div></div><div class="hr"></div><div class="Red inputrow"><div class="Radio"><label title="'+localization.tooltips.red.radio+'"><input type="radio" value="r"'+("r"==settings.color.mode?' checked="checked"':"")+'/>R:</label></div><div class="Text"><input type="text" tabindex="'+tabindex.next()+'" maxlength="3" value="'+(null!=b?b.r:"")+'" title="'+localization.tooltips.red.textbox+'"/></div></div><div class="Green inputrow"><div class="Radio"><label title="'+localization.tooltips.green.radio+'"><input type="radio" value="g"'+("g"==settings.color.mode?' checked="checked"':"")+'/>G:</label></div><div class="Text"><input type="text" tabindex="'+tabindex.next()+'" maxlength="3" value="'+(null!=b?b.g:"")+'" title="'+localization.tooltips.green.textbox+'"/></div></div><div class="Blue inputrow"><div class="Radio"><label title="'+localization.tooltips.blue.radio+'"><input type="radio" value="b"'+("b"==settings.color.mode?' checked="checked"':"")+'/>B:</label></div><div class="Text"><input type="text" tabindex="'+tabindex.next()+'" maxlength="3" value="'+(null!=b?b.b:"")+'" title="'+localization.tooltips.blue.textbox+'"/></div></div><div class="Alpha inputrow"><div class="Text">'+(a.alphaSupport?'<input disabled="disabled" type="text" tabindex="'+tabindex.next()+'" maxlength="'+(3+a.alphaPrecision)+'" value="'+(null!=b?Math.precision(100*b.a/255,a.alphaPrecision):"")+'" title="'+localization.tooltips.alpha.textbox+'"/>&nbsp;%':"&nbsp;")+'</div></div><div class="Hex inputrow" style="display:none;"><div colspan="2" class="Text"><label title="'+localization.tooltips.hex.textbox+'">#<input type="text" tabindex="'+tabindex.next()+'" maxlength="6" class="Hex" value="'+(null!=b?b.hex:"")+'"/></label>'+(a.alphaSupport?'<input type="text" tabindex="'+tabindex.next()+'" maxlength="2" class="AHex" value="'+(null!=b?b.ahex.substring(6):"")+'" title="'+localization.tooltips.hex.alpha+'"/></div>':"&nbsp;")+'</div></div></div></div><h2 class="Title">Opacity</h2><div class="alpha" ></div><h2 class="Title jpicker_used_before_title">Used before</h2><div class="Grid_user"></div><h2 class="Title">Presets</h2><div class="Grid"></div></div>';container=$($this),container.html(c),container.find(".alpha").slider({settings:{min:0,max:100,round:0},onChange:function(a){$($this).find(".Alpha.inputrow input").eq(0).val(a).trigger("keydown").trigger("keyup")}});var d=container.find(".jPicker_content:first");colorMapDiv=d.find("div.Map:first"),colorBarDiv=d.find("div.Bar:first");var e=colorMapDiv.find("span"),f=colorBarDiv.find("span");colorMapL1=e.filter(".Map1:first"),colorMapL2=e.filter(".Map2:first"),colorMapL3=e.filter(".Map3:first"),colorBarL1=f.filter(".Map1:first"),colorBarL2=f.filter(".Map2:first"),colorBarL3=f.filter(".Map3:first"),colorBarL4=f.filter(".Map4:first"),colorBarL5=f.filter(".Map5:first"),colorBarL6=f.filter(".Map6:first"),colorMap=new Slider(colorMapDiv,{map:{width:images.colorMap.width,height:images.colorMap.height},arrow:{width:images.colorMap.arrow.width,height:images.colorMap.arrow.height}}),colorMap.bind(mapValueChanged),colorBar=new Slider(colorBarDiv,{map:{width:images.colorBar.width,height:images.colorBar.height},arrow:{width:images.colorBar.arrow.width,height:images.colorBar.arrow.height}}),colorBar.bind(colorBarValueChanged),colorPicker=new ColorValuePicker(d,color.active,null,a.alphaPrecision);var g=null!=b?b.hex:null,h=d.find(".Preview"),i=d.find(".Button");if(activePreview=h.find(".Active:first").css({backgroundColor:g&&"#"+g||"transparent"}),currentPreview=h.find(".Current:first").css({backgroundColor:g&&"#"+g||"transparent"}).bind("click",currentClicked),setAlpha.call($this,currentPreview,Math.precision(100*color.current.val("a"))/255,4),okButton=i.find(".Ok:first").bind("click",okClicked),cancelButton=i.find(".Cancel:first").bind("click",cancelClicked),grid=jQuery($this).find(".Grid:first"),setTimeout(function(){setImg.call($this,colorMapL1,images.clientPath+"Maps.png"),setImg.call($this,colorMapL2,images.clientPath+"Maps.png"),setImg.call($this,colorMapL3,images.clientPath+"map-opacity.png"),setImg.call($this,colorBarL1,images.clientPath+"Bars.png"),setImg.call($this,colorBarL2,images.clientPath+"Bars.png"),setImg.call($this,colorBarL3,images.clientPath+"Bars.png"),setImg.call($this,colorBarL4,images.clientPath+"Bars.png"),setImg.call($this,colorBarL5,images.clientPath+"bar-opacity.png"),setImg.call($this,colorBarL6,images.clientPath+"AlphaBar.png"),setImg.call($this,h.find("div:first"),images.clientPath+"preview-opacity.png")},0),d.find("div.Radio input").bind("click",radioClicked),color.quickList&&color.quickList.length>0){$.each(color.quickList,function(a){var b="rgba("+color.quickList[a][0]+", "+color.quickList[a][1]+", "+color.quickList[a][2]+", "+color.quickList[a][3]+")",c=jQuery('<span class="QuickColor"><span  style="background-color:'+b+'" title="'+b+'"></span></span>');c.appendTo(grid).on("click",function(){color.active.val("ahex",fns.intToHex(color.quickList[a][0])+fns.intToHex(color.quickList[a][1])+fns.intToHex(color.quickList[a][2])+fns.intToHex(255*color.quickList[a][3]))})})}updateUserColors(),setColorMode.call($this,settings.color.mode),color.active.bind(activeColorChanged),$.isFunction(liveCallback)&&color.active.bind(liveCallback),color.current.bind(currentColorChanged),show.call($this)},destroy=function(){for(container.find("div.Radio input").unbind("click",radioClicked),currentPreview.unbind("click",currentClicked),cancelButton.unbind("click",cancelClicked),okButton.unbind("click",okClicked),container.find(".QuickColor").unbind("click",quickPickClicked),colorMapDiv=null,colorBarDiv=null,colorMapL1=null,colorMapL2=null,colorMapL3=null,colorBarL1=null,colorBarL2=null,colorBarL3=null,colorBarL4=null,colorBarL5=null,colorBarL6=null,colorMap.destroy(),colorMap=null,colorBar.destroy(),colorBar=null,colorPicker.destroy(),colorPicker=null,activePreview=null,currentPreview=null,okButton=null,cancelButton=null,grid=null,commitCallback=null,cancelCallback=null,liveCallback=null,container.html(""),i=0;i<List.length;i++)List[i]==$this&&List.splice(i,1)},images=settings.images,localization=settings.localization,color={active:new Color("string"==(typeof settings.color.active).toString().toLowerCase()?{ahex:!settings.window.alphaSupport&&settings.color.active?settings.color.active.substring(0,6)+"ff":settings.color.active}:{ahex:!settings.window.alphaSupport&&settings.color.active.val("ahex")?settings.color.active.val("ahex").substring(0,6)+"ff":settings.color.active.val("ahex")}),current:new Color("string"==(typeof settings.color.active).toString().toLowerCase()?{ahex:!settings.window.alphaSupport&&settings.color.active?settings.color.active.substring(0,6)+"ff":settings.color.active}:{ahex:!settings.window.alphaSupport&&settings.color.active.val("ahex")?settings.color.active.val("ahex").substring(0,6)+"ff":settings.color.active.val("ahex")}),quickList:settings.color.quickList};liveCallback.externalCall=!0,$.extend(!0,$this,{commitCallback:commitCallback,liveCallback:liveCallback,cancelCallback:cancelCallback,color:color,show:show,updateUserColors:updateUserColors,hide:hide,revertColor:revertColor,commitColor:commitColor,destroy:destroy}),List.push($this),setTimeout(function(){initialize.call($this)},0)})};for(var quickList=[],monobase=[[0,0,0,1],[40,40,40,1],[90,90,90,1],[140,140,140,1],[180,180,180,1],[220,220,220,1],[255,255,255,1],[152,0,0,1],[255,0,0,1],[255,153,0,1],[255,255,0,1],[0,255,0,1],[0,255,255,1],[74,134,232,1],[0,0,255,1],[153,0,255,1],[255,0,255,1],[204,65,37,1],[224,102,102,1],[246,178,107,1],[255,217,102,1],[147,196,125,1],[118,165,175,1],[109,158,235,1],[111,168,220,1],[142,124,195,1],[194,123,160,1]],i=1;2>=i;i++)for(var j=0;j<monobase.length;j++)quickList.push([monobase[j][0],monobase[j][1],monobase[j][2],monobase[j][3]-.3*(i-1)]);$.fn.jPicker.defaults={window:{title:null,effects:{type:"slide",speed:{show:"slow",hide:"fast"}},position:{x:"screenCenter",y:"top"},expandable:!1,liveUpdate:!0,alphaSupport:!1,alphaPrecision:0,updateInputColor:!0},color:{mode:"h",active:new Color({ahex:"#ffcc00ff"}),quickList:quickList},images:{clientPath:"/jPicker/images/",colorMap:{width:256,height:256,arrow:{width:16,height:16}},colorBar:{width:20,height:256,arrow:{width:16,height:7}},picker:{width:20,height:20}},localization:{text:{title:"Drag Markers To Pick A Color",newColor:"new",currentColor:"current",ok:"OK",cancel:"Cancel"},tooltips:{colors:{newColor:"New Color - Press &ldquo;OK&rdquo; To Commit",currentColor:"Click To Revert To Original Color"},buttons:{ok:"Commit To This Color Selection",cancel:"Cancel And Revert To Original Color"},hue:{radio:"Set To &ldquo;Hue&rdquo; Color Mode",textbox:"Enter A &ldquo;Hue&rdquo; Value (0-360&deg;)"},saturation:{radio:"Set To &ldquo;Saturation&rdquo; Color Mode",textbox:"Enter A &ldquo;Saturation&rdquo; Value (0-100%)"},value:{radio:"Set To &ldquo;Value&rdquo; Color Mode",textbox:"Enter A &ldquo;Value&rdquo; Value (0-100%)"},red:{radio:"Set To &ldquo;Red&rdquo; Color Mode",textbox:"Enter A &ldquo;Red&rdquo; Value (0-255)"},green:{radio:"Set To &ldquo;Green&rdquo; Color Mode",textbox:"Enter A &ldquo;Green&rdquo; Value (0-255)"},blue:{radio:"Set To &ldquo;Blue&rdquo; Color Mode",textbox:"Enter A &ldquo;Blue&rdquo; Value (0-255)"},alpha:{radio:"Set To &ldquo;Alpha&rdquo; Color Mode",textbox:"Enter A &ldquo;Alpha&rdquo; Value (0-100)"},hex:{textbox:"Enter A &ldquo;Hex&rdquo; Color Value (#000000-#ffffff)",alpha:"Enter A &ldquo;Alpha&rdquo; Value (#00-#ff)"}}}}}(jQuery,"1.1.6"),function(a){var b={init:function(b){return this.each(function(){var c=a(this),d=this,e={posUnit:"_%",angleUnit:"_deg",onChange:function(){}},f=function(a){switch(a=a.split("_"),a[1]){case"px":return+a[0]>d.gradientBoxWidth&&(a[0]=d.gradientBoxWidth),a.join("_");case"%":return+a[0]<0?"0_%":+a[0]>100?"100_%":a.join("_");default:throw new Error("Not supported unit")}},g=function(a){return{"background-position":a+"px -122px"}},h=function(a){return a="originalEvent"in a?a.originalEvent:a,a.offsetX?a.offsetX:a.layerX},i=function(a){return a.split("_").join("")},j=function(a,b,c){var e={};if(0===a)e.pos=b;else switch(b=b.split("_"),b[1]){case"px":e.pos=a+"_px";break;case"%":e.pos=Math.round(a/d.gradientBoxWidth*100)+"_%"}return e.color=c,e};return d.options=jQuery.extend(e,b),d.points=!1,d.markers={},d.mouseDownedthatX=!1,d.gradientBox=a("<div/>",{"class":"gradient_box"}).appendTo(c),d.gradientBoxParametersContainer=a("<div/>",{"class":"gradient_box_parameters_container"}).appendTo(d.gradientBox),d.gradientMarkerParameters=a("<div/>",{"class":"gradient_marker_parameters"}).appendTo(d.gradientBoxParametersContainer),d.gradientColorpicker=a("<div/>",{"class":"gradient_colorpicker"}).appendTo(d.gradientBoxParametersContainer),d.gradientMarkerColorInput=a("<span/>",{"class":"color"}).appendTo(d.gradientMarkerParameters).colorinput({onChange:function(a){var b=d.gradientColorpicker[0],c=b.color.active,e=fns.getColorFormat(a),f=fns.convertColorToFormat(a,"rgba"),g=fns.rgbaStrToArr(f),h=g[3]?255*g[3]:255;
c.val("rgba",{r:g[0],g:g[1],b:g[2],a:h},this,!0),b.commitColor(),e||(a=f),"hex"==e&&-1==a.indexOf("#")&&(a="#"+a,d.gradientMarkerColorInput.colorinput("set",a));var i=d.getMarkerId();d.currentGradientMarker.find(".gradient_marker_color_indicator_core").css("backgroundColor",a),d.markers[i].data("colorStr",a),d.convertMarkerCssToData(d.currentGradientMarker),d.onChange()}}),d.gradientPosition=a("<div />",{"class":"gradient_marker_position"}).numinput({settings:{units:["px","%"]},onChange:function(a){var b=d.currentGradientMarker.data("parameters"),c=f(a);c!==a&&d.gradientPosition.numinput("set",c),b.pos=c,d.currentGradientMarker.data("parameters",b),d.onChange(),d.refreshMarkerPosition()}}).appendTo(d.gradientMarkerParameters),d.gradientRemoveMarkerButton=a("<div/>",{"class":"button button2 gradient_remove_marker_button"}).html('<span class="hover_red icon   icon_trash"></span><span class="hover_white">Remove</span>').appendTo(d.gradientMarkerParameters).on("click",function(){d.removeMarker(d.currentGradientMarker)}),d.gradientBoxMarkersLine=a("<div/>",{"class":"gradient_box_markers_line"}).appendTo(d.gradientBox),d.gradientBoxCore=a("<div/>",{"class":"gradient_box_core"}).appendTo(d.gradientBox),d.gradientBoxWidth=d.gradientBox.width(),d.gradientColorpicker.jPicker({window:{liveUpdate:!0,alphaSupport:!0,alphaPrecision:0},color:{alphaSupport:!0},images:{clientPath:"/img/colorpicker/",colorMap:{width:256,height:256,arrow:{width:16,height:16}},colorBar:{width:20,height:256,arrow:{width:20,height:8}},picker:{width:16,height:16}}},function(a){a.val("all")},function(a){var b=d.gradientMarkerColorInput.input("get"),c=fns.getColorFormat(b),e=a.val("rgba"),f=d.getMarkerId(),g="",h=fns.getColorStringByFormat(e,"rgba");e.a<255&&"hex"==c||"native"==c&&!fns.isNativeColor(h)?(d.gradientMarkerColorInput.colorinput("set",h),d.gradientMarkerColorInput.colorinput("changeunit","rgba"),g=d.gradientMarkerColorInput.colorinput("get")):(g=fns.getColorStringByFormat(e,c),d.gradientMarkerColorInput.colorinput("set",g)),d.currentGradientMarker.find(".gradient_marker_color_indicator_core").css("backgroundColor",g),d.markers[f].data("colorStr",g),d.convertMarkerCssToData(d.currentGradientMarker),d.onChange()},function(){}),a("body").on("mousemove",function(a){if(d.mouseDownedthatX!==!1){c.css("cursor","ew-resize");var b=a.pageX-d.mouseDownedthatX,e=parseInt(d.currentGradientMarker.css("left"),10),f=e+b;0>f?(d.currentGradientMarker.css("left","0px"),d.mouseDownedthatX=!1):f<=d.gradientBoxWidth?(d.currentGradientMarker.css("left",f+"px"),d.mouseDownedthatX=a.pageX):(d.currentGradientMarker.css("left",d.gradientBoxWidth+"px"),d.mouseDownedthatX=!1),d.convertMarkerCssToData(d.currentGradientMarker),d.onChange()}}),a("body").bind("mouseup",function(){d.mouseDownedthatX=!1}),d.gradientBoxMarkersLine.on("mousemove",function(a){var b=h(a);d.mouseDownedthatX===!1&&d.gradientBoxMarkersLine.css(g(b-20))}).on("mouseleave",function(){d.mouseDownedthatX===!1&&d.gradientBoxMarkersLine.css(g(-5e3))}).on("mousedown",function(a){var b,c=h(a),e=d.currentGradientMarker.data("parameters");b=j(c,e.pos,e.color),d.addMarker(b).trigger("mousedown").trigger("mouseup"),d.onChange()}),d.setData=function(b){var c=this;c.currentGradientMarker=!1,c.points=b,c.points=cssg.sortGradients(b),a.each(c.markers,function(a,b){b.remove()}),c.markers={},a.each(c.points,function(a,b){var d=c.addMarker(b);c.currentGradientMarker||(c.currentGradientMarker=d)}),c.currentGradientMarker.trigger("mousedown").trigger("mouseup"),c.renderGradientPreview();var d=c.gradientColorpicker[0];d.updateUserColors()},d.getMarkerId=function(a){a=a||d.currentGradientMarker;var b=a.attr("id");return b},d.convertMarkerCssToData=function(a){a.data("parameters",j(a.position().left,a.data("parameters").pos,a.data("colorStr")))},d.onChange=function(){var b=this;b.points=[],a.each(b.markers,function(a,c){b.points.push(c.data("parameters"))}),b.points=cssg.sortGradients(b.points),b.options.onChange(b.points),b.gradientPosition.numinput("set",b.currentGradientMarker.data("parameters").pos),b.renderGradientPreview()},d.renderGradientPreview=function(){var b=this,c=ui.presets.gradient.defaultStructure["linear-gradient"],d=a.extend(c,{angle:"90_deg",points:b.points});a.each(cssg.allBrArr,function(a,c){var e=cssg.kvPointGradient(d,c);b.gradientBoxCore.css("backgroundImage",e)})},d.removeMarker=function(a){var b=this,c=a.attr("id"),d=0;for(var e in b.markers)d++;if(d>2){delete b.markers[c],a.remove();for(var f in b.markers){b.currentGradientMarker=b.markers[f],b.currentGradientMarker.trigger("mousedown").trigger("mouseup");break}b.onChange()}else alert("TODO: Ugly alert :) You should have at least 2 points")},d.refreshMarkerPosition=function(a){a=a||d.currentGradientMarker,a.css("left",i(a.data("parameters").pos))},d.addMarker=function(b){var c=this,d=fns.randId(),e=a("<div/>",{"class":"gradient_marker",id:d}).data("parameters",b).appendTo(c.gradientBox),f=(a("<div/>",{"class":"gradient_marker_arrow_up"}).appendTo(e),a("<div/>",{"class":"gradient_marker_line_down"}).appendTo(e),a("<div/>",{"class":"gradient_marker_color_indicator"}).appendTo(e)),g=a("<div/>",{"class":"gradient_marker_color_indicator_core"}).appendTo(f).css("backgroundColor",b.color);return c.markers[d]=e,c.markers[d].data("colorStr",b.color),e.bind("mousedown",function(b){c.mouseDownedthatX=b.pageX,c.currentGradientMarker=a(this),c.gradientBox.find(".gradient_marker").removeClass("activemarker"),a(this).addClass("activemarker");var e=g[0].style.backgroundColor,f=fns.rgbaStrToArr(e),h=c.markers[d].data("colorStr");c.gradientMarkerColorInput.input("set",h),c.gradientColorpicker[0].color.active.val("rgba",{r:f[0],g:f[1],b:f[2],a:255*f[3]},this,!0),c.gradientColorpicker[0].commitColor(),c.gradientPosition.numinput("set",c.currentGradientMarker.data("parameters").pos),b.stopPropagation(),b.preventDefault()}),c.refreshMarkerPosition(e),e},this})},set:function(a){return this.each(function(){this.setData(a)}),this}};a.fn.gradient=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.gradient")}return this}}(window.jQuery),function(a){a.fn.bezier=function(b){var c={},d={points:[.53,-.26,.92,1.36],editable:!0,w:100,h:100,l:100,t:100,styling:{borderstyling:{width:1,color:"rgb(0,0,0)"},pathstyling:{width:1.5,color:"rgb(255,255,255)"},connectstyling:{width:1,color:"rgb(90,90,90)"},endpointstyling:{width:1,color:"rgb(255,255,255)"},ctrlstyling:{width:1,color:"rgb(90,90,90)"}},onChange:function(){}};c.options=a.extend(d,b);var e=$(this);return c.w=c.options.w,c.h=c.options.h,c.l=c.options.l,c.t=c.options.t,e.html(' <svg id="svg" width="100%" height="100%" viewBox="0 0 '+(c.w+2*c.l)+" "+(c.h+2*c.t)+'" xmlns="http://www.w3.org/2000/svg" version="1.1">    <style type="text/css"><![CDATA[                                                                           circle#abc:hover { fill:white; stroke:none }                                                              ]]></style>                                                                                              <rect style="fill:none; stroke:'+c.options.styling.borderstyling.color+"; stroke-width:"+c.options.styling.borderstyling.width+'"  x="'+c.l+'" y="'+c.t+'" width="'+c.w+'" height="'+c.h+'" />                                         <path  style="fill:none; stroke:'+c.options.styling.pathstyling.color+"; stroke-width:"+c.options.styling.pathstyling.width+'"/>                                                                              <circle id="abc" style="fill:white; stroke:'+c.options.styling.endpointstyling.color+"; stroke-width:"+c.options.styling.endpointstyling.width+'" cx="'+c.l+'" cy="'+(c.t+c.h)+'" r="'+c.w/30+'" />                                                      <circle style="fill:white; stroke:'+c.options.styling.endpointstyling.color+"; stroke-width:"+c.options.styling.endpointstyling.width+'" cx="'+(c.l+c.w)+'" cy="'+c.t+'" r="'+c.w/30+'" />                                                   '+(c.options.editable?'<line id="line1" x1="'+c.l+'" y1="'+(c.t+c.h)+'" style="fill:none; stroke:'+c.options.styling.connectstyling.color+"; stroke-width:"+c.options.styling.connectstyling.width+'" /><circle id="point1" style="fill:#888888; cursor:pointer stroke:'+c.options.styling.ctrlstyling.color+"; stroke-width:"+c.options.styling.ctrlstyling.width+'" r="'+c.w/20+'" /><line id="line2" x1="'+(c.l+c.w)+'" y1="'+c.t+'" style="fill:none; stroke:'+c.options.styling.connectstyling.color+"; stroke-width:"+c.options.styling.connectstyling.width+'" /><circle id="point2" style="fill:#888888; cursor:pointer stroke:'+c.options.styling.ctrlstyling.color+"; stroke-width:"+c.options.styling.ctrlstyling.width+'" r="'+c.w/20+'" />':"")+" </svg>"),c.svg=$("svg:first",e),c.svgLine1=c.svg.find("#line1").get(0),c.svgLine2=c.svg.find("#line2").get(0),c.svgPoint1=c.svg.find("#point1").get(0),c.svgPoint2=c.svg.find("#point2").get(0),c.svgPath=c.svg.find("path").get(0),c.svgControlMouseTracker={},c.bezie2coord=function(a){var b=[];return b[0]=Math.round(c.l+c.w*a[0]),b[1]=Math.round(c.t+c.h*(1-a[1])),b[2]=Math.round(c.l+c.w*a[2]),b[3]=Math.round(c.t+c.h*(1-a[3])),b},c.coord2bezier=function(a){var b=[];return b[0]=Math.round((a[0]-c.l)/c.w*1e3)/1e3,b[1]=Math.round(1e3*(1-(a[1]-c.t)/c.h))/1e3,b[2]=Math.round((a[2]-c.l)/c.w*1e3)/1e3,b[3]=Math.round(1e3*(1-(a[3]-c.t)/c.h))/1e3,b},c.setByPoints=function(a){var b=c.bezie2coord(a);c.setByCoord(b)},c.setByCoord=function(a){c.options.editable&&(c.svgLine1.setAttribute("x2",a[0]),c.svgLine1.setAttribute("y2",a[1]),c.svgLine2.setAttribute("x2",a[2]),c.svgLine2.setAttribute("y2",a[3]),c.svgPoint1.setAttribute("cx",a[0]),c.svgPoint1.setAttribute("cy",a[1]),c.svgPoint2.setAttribute("cx",a[2]),c.svgPoint2.setAttribute("cy",a[3])),c.svgPath.setAttribute("d","M"+c.l+","+(c.t+c.h)+" C"+a[0]+","+a[1]+" "+a[2]+","+a[3]+" "+(c.l+c.w)+","+c.t)},c.getCoord=function(){return[c.svgLine1.getAttribute("x2"),c.svgLine1.getAttribute("y2"),c.svgLine2.getAttribute("x2"),c.svgLine2.getAttribute("y2")]},c.getPoints=function(){var a=c.getCoord();return this.coord2bezier(a)},c.setByPoints(c.options.points),c.options.editable&&($(c.svgPoint1).add(c.svgPoint2).on("mousedown",function(a){c.svgControlMouseTracker.obj=this,a.preventDefault()}),c.svg.on("mousedown",function(a){c.svgControlMouseTracker.cOffsetX=$(this).offset().left,c.svgControlMouseTracker.cOffsetY=$(this).offset().top,c.svgControlMouseTracker.cW=$(this).width(),c.svgControlMouseTracker.cH=$(this).height(),c.svgControlMouseTracker.path=$(this).find("path"),$(this).css("cursor","pointer"),a.preventDefault()}).on("mousemove",function(a){if(c.svgControlMouseTracker.obj){var b=Math.round((a.pageX-c.svgControlMouseTracker.cOffsetX)*(2*c.l+c.w)/c.svgControlMouseTracker.cW),d=Math.round((a.pageY-c.svgControlMouseTracker.cOffsetY)*(2*c.t+c.h)/c.svgControlMouseTracker.cH);b>=c.l&&b<=c.l+c.w&&d>=0&&d<=2*c.t+c.h&&(c.svgControlMouseTracker.obj.setAttribute("cx",b),c.svgControlMouseTracker.obj.setAttribute("cy",d),c.setByCoord([c.svgPoint1.getAttribute("cx"),c.svgPoint1.getAttribute("cy"),c.svgPoint2.getAttribute("cx"),c.svgPoint2.getAttribute("cy")])),a.preventDefault(),c.options.onChange(c.getPoints())}}),$("body").on("mouseup",function(){c.svgControlMouseTracker.obj=!1,$(this).css("cursor","default")})),e.on("set_points",function(a,b,d,e,f){c.setByPoints([b,d,e,f])}),e.on("changed",function(){c.options.onChange(c.getPoints())}),this}}(jQuery),function(a){var b={init:function(b){return this.each(function(){var c=a(this),d={};this.transform3d=d;var e={back:"body",onChange:function(){}};return d.options=jQuery.extend(e,b),d.startPos=!1,d.view={},c.addClass("r3d-container"),d.view.tWrapper=a("<div>",{"class":"r3d-target-wrapper"}).appendTo(c),d.view.target=a("<div>",{"class":"r3d-target"}).appendTo(d.view.tWrapper),d.view.boxWrapper=a("<div>",{"class":"r3d-box-wrapper"}).appendTo(d.view.target),d.view.box=a("<div>",{"class":"r3d-box"}).html("FRONT").appendTo(d.view.boxWrapper),d.view.back=a(d.options.back),d.genetateInputTransform=function(){d.iTransform={},a.each(d.oTransform,function(b,c){d.iTransform[b]={},a.each(c,function(a,c){d.iTransform[b][a]=fns.enjoyValueToArray(c);var e=d.iTransform[b][a];"perspective-origin"!=b&&("%"==e[1]&&(e[0]=e[0]/100*d.tWidth),"deg"==e[1]&&(e[0]=e[0]*(Math.PI/180)))})})},d.roundValue=function(a){return Math.round(100*a)/100},d.genetateOutputTransform=function(){var b=mat4.create();a.each(d.iTransform,function(c,e){d.oTransform[c].vector=[0,0,0],a.each(e,function(a,e){if("vector"!=a){var f=e[0],g=e[1];if("translate"==c||"scale"==c||"rotate"==c)switch(a){case"x":d.oTransform[c].vector[0]=d.roundValue(1*e[0]);break;case"y":d.oTransform[c].vector[1]=d.roundValue(1*e[0]);break;case"z":d.oTransform[c].vector[2]=d.roundValue(1*e[0])}{d.iTransform[c][a]}"%"==g&&(f=f/d.tWidth*100),"deg"==g&&(f*=180/Math.PI),"perspective-origin"!==c||"x"!==a&&"y"!==a||(f=50),d.oTransform[c][a]=f+(g?"_"+g:""),"rotate"==c&&(e[0]=d.roundValue(e[0]),mat4["rotate"+a.toUpperCase()](b,b,e[0]))}}),"translate"==c?mat4.translate(b,b,d.oTransform[c].vector):"scale"==c&&mat4.scale(b,b,d.oTransform[c].vector)})},d.view.axesBox=a("<div>",{"class":"r3d-axesbox"}).appendTo(d.view.target),d.view.axes={x:a("<div>",{"class":"r3d-axes r3d-axes-x"}).appendTo(d.view.axesBox),y:a("<div>",{"class":"r3d-axes r3d-axes-y"}).appendTo(d.view.axesBox),z:a("<div>",{"class":"r3d-axes r3d-axes-z"}).appendTo(d.view.axesBox)},d.view.arrows={x1:a("<div>",{"class":"r3d-arrow r3d-arrow1 r3d-arrow-x1"}).html("<span>X</span>").appendTo(d.view.axes.x),x2:a("<div>",{"class":"r3d-arrow r3d-arrow2 r3d-arrow-x2"}).appendTo(d.view.axes.x),y1:a("<div>",{"class":"r3d-arrow r3d-arrow1 r3d-arrow-y1"}).html("<span>Y</span>").appendTo(d.view.axes.y),y2:a("<div>",{"class":"r3d-arrow r3d-arrow2 r3d-arrow-y2"}).appendTo(d.view.axes.y),z1:a("<div>",{"class":"r3d-arrow r3d-arrow1 r3d-arrow-z1"}).html("<span>Z</span>").appendTo(d.view.axes.z),z2:a("<div>",{"class":"r3d-arrow r3d-arrow2 r3d-arrow-z2"}).appendTo(d.view.axes.z)},d.view.rotateXhandler=a("<div>",{"class":"r3d-rotatexhandler icon_revers"}).appendTo(d.view.target),d.view.rotateYhandler=a("<div>",{"class":"r3d-rotateyhandler icon_revers"}).appendTo(d.view.target),d.view.rotateZhandler=a("<div>",{"class":"r3d-rotatezhandler icon_revers"}).appendTo(d.view.target),d.updateSizeData=function(){d.width=c.width(),d.height=c.height(),d.tWidth=d.view.target.width(),d.tHeight=d.view.target.height()},d.onZRotationStart=function(a,b){d.updateSizeData(),b.stopPropagation()},d.onZRotationMove=function(a){var b={x:d.width/2-d.tWidth/2+d.iTransform.origin.x[0],y:d.height/2-d.tHeight/2+d.iTransform.origin.y[0]},c=a.x-b.x,e=a.y-b.y,f=Math.sqrt(c*c+e*e);if(0===f)return!1;var g=180*-Math.acos(c/f)/Math.PI;e>0&&(g=360-g),g+=45,g*=Math.PI/180,d.iTransform.rotate.z[0]=d.roundValue(g),d.updateView(),d.manualChange()},d.onZRotationEnd=function(){},d.onXYRotationStart=function(){d.updateSizeData()},d.onXRotationMove=function(a){var b=a.delta.y/100;d.iTransform.rotate.x[0]=1*d.iTransform.rotate.x[0]+1*d.roundValue(b),d.updateView(),d.manualChange()},d.onYRotationMove=function(a){var b=-(a.delta.x/100);d.iTransform.rotate.y[0]=1*d.iTransform.rotate.y[0]+1*d.roundValue(b),d.updateView(),d.manualChange()},d.onXYRotationMove=function(a){var b=-(a.delta.x/100),c=a.delta.y/100;d.iTransform.rotate.x[0]=1*d.iTransform.rotate.x[0]+1*d.roundValue(c),d.iTransform.rotate.y[0]=1*d.iTransform.rotate.y[0]+1*d.roundValue(b),d.updateView(),d.manualChange()},d.onXYRotationEnd=function(){},d.calcOffset=function(a,b){var c=0,d=1;for("absolute"==b&&(d=0);d<a.length;d++)c+="auto"==a[d]?0:parseInt(a[d]);return c},d.updateView=function(){var a=d.iTransform.origin.x[0]+"px "+d.iTransform.origin.y[0]+"px "+d.iTransform.origin.z[0]+"px",b=100,c=Math.round(d.iTransform.rotate.x[0]*b)/b,e=Math.round(d.iTransform.rotate.y[0]*b)/b,f=Math.round(d.iTransform.rotate.z[0]*b)/b,g="rotateX( "+c+"rad) rotateY( "+e+"rad) rotateZ( "+f+"rad)";d.view.target[0].style.webkitTransform=g,d.view.target[0].style.MozTransform=g,d.view.target[0].style.transform=g,d.view.target[0].style.webkitTransformOrigin=a,d.view.target[0].style.MozTransformOrigin=a,d.view.target[0].style.transformOrigin=a;var h="scaleX("+d.iTransform.scale.x[0]+") scaleY("+d.iTransform.scale.y[0]+") translateX("+d.iTransform.translate.x[0]+"px) translateY("+d.iTransform.translate.y[0]+"px) translateZ("+d.iTransform.translate.z[0]+"px) skewX("+d.iTransform.skew.x[0]+"rad) skewY("+d.iTransform.skew.y[0]+"rad) ";d.view.box[0].style.webkitTransform=h,d.view.box[0].style.MozTransform=h,d.view.box[0].style.transform=h,d.view.box[0].style.webkitTransformOrigin=a,d.view.box[0].style.MozTransformOrigin=a,d.view.box[0].style.transformOrigin=a;var i="translateX("+d.iTransform.origin.x[0]+"px) translateY("+d.iTransform.origin.y[0]+"px) translateZ("+d.iTransform.origin.z[0]+"px)";d.view.axesBox[0].style.webkitTransform=i,d.view.axesBox[0].style.MozTransform=i,d.view.axesBox[0].style.oTransform=i;var j=d.iTransform.perspective.z[0],k=d.iTransform["perspective-origin"],l=k.x[0],m=k.x[1],n=k.y[0],o=k.y[1],p=cssg.previewFrames[0],q=p.$element,r=q.width(),s=q.height(),t=p.$button,u=window.getComputedStyle(t.get(0),null);window.buttonWW=t;var v=[u.getPropertyValue("top"),u.getPropertyValue("margin-top"),u.getPropertyValue("border-top-width")],w=[u.getPropertyValue("left"),u.getPropertyValue("margin-left"),u.getPropertyValue("border-left-width")],x=d.calcOffset(v,u.getPropertyValue("position")),y=d.calcOffset(w,u.getPropertyValue("position")),z=x+t.height()/2,A=y+t.width()/2,B=0,C=0;switch(m){case"%":B=r/100*l;break;case"px":B=l}switch(o){case"%":C=s/100*n;break;case"px":C=n}var D=B-A,E=C-z,F=d.view.target.parent(),G=F.height()/2,H=F.width()/2,I=Math.round(H+D)+"px "+Math.round(G+E)+"px";F.css({webkitPerspective:j,webkitPerspectiveOrigin:I})},d.manualChange=function(){d.genetateOutputTransform(),d.options.onChange(d.oTransform)},d.refresh=function(){c.pointerAction({backNode:"body",onStart:d.onXYRotationStart,onMove:d.onXYRotationMove,onEnd:d.onXYRotationEnd}),d.view.rotateXhandler.pointerAction({backNode:"body",offsetNode:c,onMove:d.onXRotationMove}),d.view.rotateYhandler.pointerAction({backNode:"body",offsetNode:c,onMove:d.onYRotationMove}),d.view.rotateZhandler.pointerAction({backNode:"body",offsetNode:c,onStart:d.onZRotationStart,onMove:d.onZRotationMove}),d.updateView()},d.setData=function(a){d.oTransform=a,d.genetateInputTransform(),d.refresh()},d.width=c.width(),d.height=c.height(),d.tWidth=d.view.target.width(),d.tHeight=d.view.target.height(),this})},set:function(a){return this.each(function(){this.transform3d.setData(a)}),this},refresh:function(){return this.each(function(){this.transform3d.refresh()}),this}};a.fn.transform3d=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.transform3d")}return this}}(window.jQuery),function(a){var b={init:function(b){return this.each(function(){var c=a(this),d={};this.browsers=d,d.versions={};var e={caniuse:!1,browsers:!1,onChange:function(){}};d.options=jQuery.extend(e,b),d.view={},c.addClass(".browsers").on("click",function(a){a.stopPropagation()}),a.each(d.options.browsers,function(b,e){d.view[b]=a("<div>",{"class":"browsers-icon"}).attr("title",e.title).appendTo(c),d.view[b].iconMain=a("<div>",{"class":"browsers-icon-main "+e.iconMain}).appendTo(d.view[b]),e.iconAdd&&(d.view[b].iconAdd=a("<div>",{"class":"browsers-icon-add "+e.iconAdd}).appendTo(d.view[b])),d.view[b].select=a("<div>",{"class":"browsers-select"}).appendTo(d.view[b]);var f=[];a.each(d.options.caniuse.agents[b].versions,function(b,c){c&&(vtrimmed=a.trim(c.split("-")[0]),f.push({val:c,chooserHtml:vtrimmed+"+",dropdownHtml:vtrimmed+"+"}))}),d.view[b].select.selectbox({options:f,additionalClass:"browser-chooser",onChange:function(a){d.versions[b]=a,d.options.onChange(d.versions)}})}),d.setData=function(b){d.versions=a.extend({},b,!0),a.each(d.options.browsers,function(a){d.view[a].select.selectbox("set",b[a])})}})},set:function(a){return this.each(function(){this.browsers.setData(a)}),this},get:function(a){return this.each(function(){this.browsers.setData(a)}),this}};a.fn.browsers=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?(a.error("Method "+c+" does not exist on $.browsers"),this):b.init.apply(this,arguments)}}(window.jQuery),function(a){function b(b,c,d){var e,f=this,g=b.add(this),j=b.find(d.tabs),k=c.jquery?c:b.children(c);j.length||(j=b.children()),k.length||(k=b.parent().find(c)),k.length||(k=a(c)),a.extend(this,{click:function(b,c){var i=j.eq(b);if("string"==typeof b&&b.replace("#","")&&(i=j.filter("[href*="+b.replace("#","")+"]"),b=Math.max(j.index(i),0)),d.rotate){var k=j.length-1;if(0>b)return f.click(k,c);if(b>k)return f.click(0,c)}if(!i.length){if(e>=0)return f;b=d.initialIndex,i=j.eq(b)}return b===e?f:(c=c||a.Event(),c.type="onBeforeClick",g.trigger(c,[b]),c.isDefaultPrevented()?void 0:(h[d.effect].call(f,b,function(){e=b,c.type="onClick",g.trigger(c,[b])}),j.removeClass(d.current),i.addClass(d.current),f))},getPanes:function(){return k},destroy:function(){return j.unbind(d.event).removeClass(d.current),k.find("a[href^=#]").unbind("click.T"),f}}),a.each("onBeforeClick,onClick".split(","),function(b,c){a.isFunction(d[c])&&a(f).bind(c,d[c]),f[c]=function(b){return b&&a(f).bind(c,b),f}}),i(j),d.event="history",j.each(function(b){a(this).bind(d.event,function(a){return f.click(b,a),a.preventDefault()})}),k.find("a[href^=#]").bind("click.T",function(b){f.click(a(this).attr("href"),b)}),location.hash&&"a"==d.tabs&&b.find("[href="+location.hash+"]").length||(0===d.initialIndex||d.initialIndex>0)&&f.click(d.initialIndex)}var c,d,e,f,g={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:!1,slideUpSpeed:400,slideDownSpeed:400,history:!1}},h={"default":function(a,b){this.getPanes().hide().eq(a).show(),b.call()}},i=function(b){f||(setInterval(function(){var b=location.hash;b!==c&&a(window).trigger("hash",b)},100),e=b,b.click(function(b){var c=a(this).attr("href");return d&&j(c),"#"!=c.slice(0,1)?(location.href="#"+c,b.preventDefault()):void 0}),f=!0)},j=function(a){if(a){var b=d.contentWindow.document;b.open().close(),b.location.hash=a}};a(window).bind("hash",function(b,d){d?e.filter(function(){var b=a(this).attr("href");return b==d||b==d.replace("#","")}).trigger("history",[d]):e.eq(0).trigger("history",[d]),c=d}),a.fn.tabs=function(c,d){var e=this.data("tabs");return e&&(e.destroy(),this.removeData("tabs")),a.isFunction(d)&&(d={onBeforeClick:d}),d=a.extend({},g.conf,d),this.each(function(){e=new b(a(this),c,d),a(this).data("tabs",e)}),d.api?e:this}}(jQuery),function(a){var b={init:function(b){return this.each(function(){{var c={value:"",settings:{types:["rgba","hex","hsla","native"]},onChange:function(){}},d=this;a(this)}return d.options=jQuery.extend(c,b),d.gcl={chooser:"enjoy_chooser",chooserDisapear:"enjoy_chooser_disapear",popdown:"enjoy_popdown",popdownAppear:"enjoy_popdown_appear"},d.cl={chooser:"enjoy_colorinput_chooser",content0:"enjoy_colorinput_chooser_content0",input:"enjoy_colorinput_chooser_input",content1:"enjoy_colorinput_chooser_content1",unit:"enjoy_colorinput_chooser_unit"},d.stringValue2ObjValue=function(a){a=a.toString();var b=fns.getColorFormat(a);return{value:a,type:b}},d.objValue2StringValue=function(a){return a.value},d.update=function(a){a||d.$chooserInput.val(d.data.value);var b=d.data.type;d.$chooserUnit.html(b)},d.changeUnit=function(a){if(a&&-1!=d.options.settings.types.indexOf(a))return d.data.type=a,fns.getColorFormat(d.data.value)!=d.data.type&&(d.data.value=fns.convertColorToFormat(d.data.value,d.data.type)),d.update(),void d.changed();var b=d.options.settings.types.indexOf(d.data.type),c=d.options.settings.types[b+1];return c||(c=d.options.settings.types[0]),d.data.type=c,"hex"==c&&fns.isColorWithAlpha(d.data.value)?void d.changeUnit():"native"!=c||fns.isNativeColor(d.data.value)?(fns.getColorFormat(d.data.value)!=d.data.type&&(d.data.value=fns.convertColorToFormat(d.data.value,d.data.type)),d.update(),void d.changed()):void d.changeUnit()},d.onBlur=function(){var a=d.$chooserInput.val(),b=fns.getColorFormat(a);d.data.type=b,d.data.value=a,d.update(!0),d.changed()},d.changed=function(){var a=d.objValue2StringValue(d.data);d.options.onChange(a)},d.$chooser=a(d).addClass(d.gcl.chooser).addClass(d.cl.chooser),d.$chooserContent0=a("<div>").addClass(d.cl.content0).appendTo(d.$chooser),d.$chooserInput=a("<input>",{type:"text"}).addClass(d.cl.input).appendTo(d.$chooserContent0).on("click",function(){d.$chooserInput.select()}).on("focus",function(){}).on("blur change keyup",function(a){d.onBlur(a)}),d.$chooserContent1=a("<div>").addClass(d.cl.content1).appendTo(d.$chooser),d.$chooserUnit=a("<div>").addClass(d.cl.unit).appendTo(d.$chooserContent1).on("click",d.changeUnit),d.data=d.stringValue2ObjValue(d.options.value),d.setValue=function(a){"undefined"!=typeof a&&(d.data=d.stringValue2ObjValue(a),d.update())},d.selectAll=function(){d.$chooserInput.select()},d.getValue=function(){return d.data.value},d.close=function(){d.closepopdown()},this})},set:function(a){return this.each(function(){this.setValue(a)}),this},selectAll:function(){return this.each(function(){this.selectAll()}),this},get:function(){return this[0].getValue()},changeunit:function(a){return this.each(function(){this.changeUnit(a)}),this},close:function(){return this.each(function(){this.closePopdown()}),this}};a.fn.colorinput=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?(a.error("Method "+c+" does not exist on $.numinput"),this):b.init.apply(this,arguments)}}(window.jQuery),function(a){function b(){}function c(){this.init.apply(this,arguments)}function d(){this.init.apply(this,arguments)}b.prototype={share:{name:"enjoycss",url:"",text:""},init:function(){},_generateSocialsShareUrls:function(){var a=this.share.name,b=location.protocol.replace(":","%3A")+"%2F%2F"+location.host+this.share.url,c=this.share.text;this.socialsShareUrls={twitter:"https://twitter.com/share?via="+a+"&url="+b+"&text="+c,facebook:"https://www.facebook.com/sharer.php?u="+b+"&t="+c,email:"mailto:to=&subject="+a+"&body="+c+"%20"+b}},setShareParams:function(a,b){this.share.url=encodeURIComponent(b),this.share.text=encodeURIComponent(a),this._generateSocialsShareUrls()},_shareWindow:function(a){var b="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,c="undefined"!=typeof window.screenY?window.screenY:window.screenTop,d="undefined"!=typeof window.outerWidth?window.outerWidth:document.documentElement.clientWidth,e="undefined"!=typeof window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,f=500,g=400,h=0>b?window.screen.width+b:b,i=parseInt(h+(d-f)/2,10),j=parseInt(c+(e-g)/2.5,10),k="width="+f+",height="+g+",left="+i+",top="+j+",scrollbars=1,location=1,toolbar=0";return window.open(a,"",k)}},c.prototype=Object.create(b.prototype),c.prototype.constructor=c,c.create=function(a,b){return c.instance?c.instance.as(b):c.instance=new c(a,b),c.instance},c.prototype.config={main:{text:"Share on"},gallery:{text:"Share gallery on"},code:{text:"Share code on"}},c.prototype.what_sharing=[{social:"twitter",text:"Tweet"},{social:"facebook",text:"Share"}],c.prototype.createUI=function(a){this.textContainer=a.querySelector(".share_text"),this.socialsContainer=a.querySelector(".share_socials")},c.prototype.createSocialsButtons=function(b){b.style.display="none",this.what_sharing.forEach(function(a){b.innerHTML+='<a target="_blank" class="%social%_share_button social_share_button_link icon_%social%" data-social="%social%"></a>'.replace(/\%social\%/g,a.social)}),a(b).on("click","[data-social]",function(a){var b=a.target.dataset.social;"mail"!==b&&this._shareWindow(this.socialsShareUrls[b])}.bind(this)),b.style.display=""},c.prototype.init=function(a,b){this.createUI(a),this.createSocialsButtons(this.socialsContainer),this.as(b||"main")},c.prototype.generateUrl=function(){return router.create_url()},c.prototype.as=function(a){this.type=a;var b=this.config[a]?this.config[a]:this.config.main;this.textContainer.innerHTML=b.text,this.refresh()},c.prototype.refresh=function(){this.setShareParams("I made this awesome style with enjoyCSS. Try:",this.generateUrl())},d.prototype=Object.create(b.prototype),d.prototype.constructor=d,d.create=function(a){return new d(a)};var e={init:function(a,b){return this.each(function(){switch(a){case"social":c.create(this,b);break;case"gallery":d.create(b)}return this})},refresh:function(){return this.each(function(){c.instance.refresh()})},as:function(a,b){return this.each(function(){c.instance.as(b)})}};a.fn.sharing=function(b){if(e[b])e[b].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof b||!b)return e.init.apply(this,arguments);a.error("Method "+b+" does not exist on $.gradient")}return this},a.fn.socialSharing=function(){return},a.fn.gallerySharing=function(){var a=[].slice.call(arguments);return a.length?a.splice(1,0,"gallery"):a=["init","gallery"],this.sharing.apply(this,a)}}(window.jQuery),function(){function a(c,e){if(c=c?c:"",e=e||{},"object"==typeof c&&c.hasOwnProperty("_tc_id"))return c;var g=b(c),j=g.r,m=g.g,n=g.b,o=g.a,p=z(100*o)/100,q=e.format||g.format;return 1>j&&(j=z(j)),1>m&&(m=z(m)),1>n&&(n=z(n)),{ok:g.ok,format:q,_tc_id:x++,alpha:o,getAlpha:function(){return o},setAlpha:function(a){o=k(a),p=z(100*o)/100},toHsv:function(){var a=f(j,m,n);return{h:360*a.h,s:a.s,v:a.v,a:o}},toHsvString:function(){var a=f(j,m,n),b=z(360*a.h),c=z(100*a.s),d=z(100*a.v);return 1==o?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+p+")"},toHsl:function(){var a=d(j,m,n);return{h:360*a.h,s:a.s,l:a.l,a:o}},toHslString:function(){var a=d(j,m,n),b=z(360*a.h),c=z(100*a.s),e=z(100*a.l);return 1==o?"hsl("+b+", "+c+"%, "+e+"%)":"hsla("+b+", "+c+"%, "+e+"%, "+p+")"},toHex:function(a){return h(j,m,n,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return i(j,m,n,o)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:z(j),g:z(m),b:z(n),a:o}},toRgbString:function(){return 1==o?"rgb("+z(j)+", "+z(m)+", "+z(n)+")":"rgba("+z(j)+", "+z(m)+", "+z(n)+", "+p+")"},toPercentageRgb:function(){return{r:z(100*l(j,255))+"%",g:z(100*l(m,255))+"%",b:z(100*l(n,255))+"%",a:o}},toPercentageRgbString:function(){return 1==o?"rgb("+z(100*l(j,255))+"%, "+z(100*l(m,255))+"%, "+z(100*l(n,255))+"%)":"rgba("+z(100*l(j,255))+"%, "+z(100*l(m,255))+"%, "+z(100*l(n,255))+"%, "+p+")"},toName:function(){return 0===o?"transparent":E[h(j,m,n,!0)]||!1},toFilter:function(b){var c="#"+i(j,m,n,o),d=c,f=e&&e.gradientType?"GradientType = 1, ":"";if(b){var g=a(b);d=g.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+f+"startColorstr="+c+",endColorstr="+d+")"},toString:function(a){var b=!!a;a=a||this.format;var c=!1,d=!b&&1>o&&o>0,e=d&&("hex"===a||"hex6"===a||"hex3"===a||"name"===a);return"rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),("hex"===a||"hex6"===a)&&(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),e?this.toRgbString():c||this.toHexString()}}}function b(a){var b={r:0,g:0,b:0},d=1,f=!1,h=!1;return"string"==typeof a&&(a=u(a)),"object"==typeof a&&(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b")?(b=c(a.r,a.g,a.b),f=!0,h="%"===String(a.r).substr(-1)?"prgb":"rgb"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")?(a.s=r(a.s),a.v=r(a.v),b=g(a.h,a.s,a.v),f=!0,h="hsv"):a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")&&(a.s=r(a.s),a.l=r(a.l),b=e(a.h,a.s,a.l),f=!0,h="hsl"),a.hasOwnProperty("a")&&(d=a.a)),d=k(d),{ok:f,format:a.format||h,r:A(255,B(b.r,0)),g:A(255,B(b.g,0)),b:A(255,B(b.b,0)),a:d}
}function c(a,b,c){return{r:255*l(a,255),g:255*l(b,255),b:255*l(c,255)}}function d(a,b,c){a=l(a,255),b=l(b,255),c=l(c,255);var d,e,f=B(a,b,c),g=A(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function e(a,b,c){function d(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a}var e,f,g;if(a=l(a,360),b=l(b,100),c=l(c,100),0===b)e=f=g=c;else{var h=.5>c?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function f(a,b,c){a=l(a,255),b=l(b,255),c=l(c,255);var d,e,f=B(a,b,c),g=A(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function g(a,b,c){a=6*l(a,360),b=l(b,100),c=l(c,100);var d=y.floor(a),e=a-d,f=c*(1-b),g=c*(1-e*b),h=c*(1-(1-e)*b),i=d%6,j=[c,g,f,f,h,c][i],k=[h,c,c,g,f,f][i],m=[f,f,h,c,c,g][i];return{r:255*j,g:255*k,b:255*m}}function h(a,b,c,d){var e=[q(z(a).toString(16)),q(z(b).toString(16)),q(z(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function i(a,b,c,d){var e=[q(s(d)),q(z(a).toString(16)),q(z(b).toString(16)),q(z(c).toString(16))];return e.join("")}function j(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function k(a){return a=parseFloat(a),(isNaN(a)||0>a||a>1)&&(a=1),a}function l(a,b){o(a)&&(a="100%");var c=p(a);return a=A(b,B(0,parseFloat(a))),c&&(a=parseInt(a*b,10)/100),y.abs(a-b)<1e-6?1:a%b/parseFloat(b)}function m(a){return A(1,B(0,a))}function n(a){return parseInt(a,16)}function o(a){return"string"==typeof a&&-1!=a.indexOf(".")&&1===parseFloat(a)}function p(a){return"string"==typeof a&&-1!=a.indexOf("%")}function q(a){return 1==a.length?"0"+a:""+a}function r(a){return 1>=a&&(a=100*a+"%"),a}function s(a){return Math.round(255*parseFloat(a)).toString(16)}function t(a){return n(a)/255}function u(a){a=a.replace(v,"").replace(w,"").toLowerCase();var b=!1;if(D[a])a=D[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=F.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=F.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=F.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=F.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=F.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=F.hex8.exec(a))?{a:t(c[1]),r:n(c[2]),g:n(c[3]),b:n(c[4]),format:b?"name":"hex8"}:(c=F.hex6.exec(a))?{r:n(c[1]),g:n(c[2]),b:n(c[3]),format:b?"name":"hex"}:(c=F.hex3.exec(a))?{r:n(c[1]+""+c[1]),g:n(c[2]+""+c[2]),b:n(c[3]+""+c[3]),format:b?"name":"hex"}:!1}var v=/^[\s,#]+/,w=/\s+$/,x=0,y=Math,z=y.round,A=y.min,B=y.max,C=y.random;a.fromRatio=function(b,c){if("object"==typeof b){var d={};for(var e in b)b.hasOwnProperty(e)&&(d[e]="a"===e?b[e]:r(b[e]));b=d}return a(b,c)},a.equals=function(b,c){return b&&c?a(b).toRgbString()==a(c).toRgbString():!1},a.random=function(){return a.fromRatio({r:C(),g:C(),b:C()})},a.desaturate=function(b,c){c=0===c?0:c||10;var d=a(b).toHsl();return d.s-=c/100,d.s=m(d.s),a(d)},a.saturate=function(b,c){c=0===c?0:c||10;var d=a(b).toHsl();return d.s+=c/100,d.s=m(d.s),a(d)},a.greyscale=function(b){return a.desaturate(b,100)},a.lighten=function(b,c){c=0===c?0:c||10;var d=a(b).toHsl();return d.l+=c/100,d.l=m(d.l),a(d)},a.darken=function(b,c){c=0===c?0:c||10;var d=a(b).toHsl();return d.l-=c/100,d.l=m(d.l),a(d)},a.complement=function(b){var c=a(b).toHsl();return c.h=(c.h+180)%360,a(c)},a.triad=function(b){var c=a(b).toHsl(),d=c.h;return[a(b),a({h:(d+120)%360,s:c.s,l:c.l}),a({h:(d+240)%360,s:c.s,l:c.l})]},a.tetrad=function(b){var c=a(b).toHsl(),d=c.h;return[a(b),a({h:(d+90)%360,s:c.s,l:c.l}),a({h:(d+180)%360,s:c.s,l:c.l}),a({h:(d+270)%360,s:c.s,l:c.l})]},a.splitcomplement=function(b){var c=a(b).toHsl(),d=c.h;return[a(b),a({h:(d+72)%360,s:c.s,l:c.l}),a({h:(d+216)%360,s:c.s,l:c.l})]},a.analogous=function(b,c,d){c=c||6,d=d||30;var e=a(b).toHsl(),f=360/d,g=[a(b)];for(e.h=(e.h-(f*c>>1)+720)%360;--c;)e.h=(e.h+f)%360,g.push(a(e));return g},a.monochromatic=function(b,c){c=c||6;for(var d=a(b).toHsv(),e=d.h,f=d.s,g=d.v,h=[],i=1/c;c--;)h.push(a({h:e,s:f,v:g})),g=(g+i)%1;return h},a.readability=function(b,c){var d=a(b).toRgb(),e=a(c).toRgb(),f=(299*d.r+587*d.g+114*d.b)/1e3,g=(299*e.r+587*e.g+114*e.b)/1e3,h=Math.max(d.r,e.r)-Math.min(d.r,e.r)+Math.max(d.g,e.g)-Math.min(d.g,e.g)+Math.max(d.b,e.b)-Math.min(d.b,e.b);return{brightness:Math.abs(f-g),color:h}},a.readable=function(b,c){var d=a.readability(b,c);return d.brightness>125&&d.color>500},a.mostReadable=function(b,c){for(var d=null,e=0,f=!1,g=0;g<c.length;g++){var h=a.readability(b,c[g]),i=h.brightness>125&&h.color>500,j=3*(h.brightness/125)+h.color/500;(i&&!f||i&&f&&j>e||!i&&!f&&j>e)&&(f=i,e=j,d=a(c[g]))}return d};var D=a.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},E=a.hexNames=j(D),F=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=a:"undefined"!=typeof define?define(function(){return a}):window.tinycolor=a}(),function(a){var b={init:function(b){return this.each(function(){function c(){var a=p.tooltip_opened;p.tooltip_opened=!0,a||s()}function d(){p.tooltip_opened=!1,l.detach(),l.css({top:0,left:0}),t()}function e(a){var b=i(a);f(b.appear),g(b.tooltip),h(b.arrow)}function f(a){m.classList.remove(k.move[a.from+"_to_"+a.to],k.move[a.to+"_to_"+a.from]),m.classList.add(k.move[a.from+"_to_"+a.to])}function g(a){["left","right","top","bottom"].forEach(function(b){m.style[b]=b in a?a[b]+"px":"auto"})}function h(a){var b=o[0],c=b.classList;c.add(a.x_add),c.remove(a.x_del),b.style[a.y_add[0]]=a.y_add[1],b.style[a.y_del[0]]=a.y_del[1]}function i(a){function b(){var b={},c=A[f]+i+t+k>h;return"vertical"==a&&r.top&&(c=!0),b[f]={rule:c,calc:function(){return this.rule?h-A[f]+t:A[f]+i+t}},b[m]={rule:A[m]+s>o,calc:function(){return this.rule?A[m]+p-s:A[m]}},b.arrow={move:(s>p?p:s)/2-t},b}function c(){var a={};return a[f]={rule:A[f]+i+t+k>h,calc:function(){return this.rule?A[f]-(t+k):A[f]+i+t}},a[m]={rule:!0,calc:function(){return A[m]-(s-p)/2}},a.arrow={move:s/2-t},a}var d,e,f,g,h,i,k,m,n,o,p,s,t=10,u=document.body.offsetWidth,v=document.body.offsetHeight,w=l.outerWidth(),x=l.outerHeight(),y=q.outerWidth(),z=q.outerHeight(),A=q.offset(),B={},C={x:{},y:{}},D={from:"",to:""};switch(a){case"horizontal":e=j.arrow.horizontal,f="left",g="right",h=u,i=y,k=w,m="top",n="bottom",o=v,p=z,s=x;break;case"vertical":e=j.arrow.vertical,f="top",g="bottom",h=v,i=z,k=x,m="left",n="right",o=u,p=y,s=w}d=r.centered?c():b(),d[f].rule?(C.x_add=e[g],C.x_del=e[f],D.from=g,D.to=f,B[g]=d[f].calc()):(C.x_add=e[f],C.x_del=e[g],D.from=f,D.to=g,B[f]=d[f].calc());var E="%PX%px".replace("%PX%",d.arrow.move.toFixed(6));return d[m].rule?(C.y_add=[n,E],C.y_del=[m,""]):(C.y_add=[m,E],C.y_del=[n,""]),B[m]<0&&(B[m]=(o-s)/2),B[m]=d[m].calc(),{appear:D,tooltip:B,arrow:C}}var j,k,l,m,n,o,p=this,q=a(this),r=jQuery.extend({"class":"",content:null,vertical:!1,horizontal:!1,centered:!1,top:!1},b.settings),s=(a.isFunction(b.onBeforeOpen)?b.onBeforeOpen:function(){},a.isFunction(b.onOpen)?b.onOpen:function(){}),t=a.isFunction(b.onClose)?b.onClose:function(){};if(j={win:"enjoy__tooltip",animation:{vertical:{start:"enjoy__tooltip__appear__vertical__start",move:{top_to_bottom:"enjoy__tooltip__appear__top_to_bottom",bottom_to_top:"enjoy__tooltip__appear__bottom_to_top"},end:"enjoy__tooltip__appear__vertical__end"},horizontal:{start:"enjoy__tooltip__appear__horizontal__start",move:{left_to_right:"enjoy__tooltip__appear__left_to_right",right_to_left:"enjoy__tooltip__appear__right_to_left"},end:"enjoy__tooltip__appear__horizontal__end"}},arrow:{common:"enjoy__tooltip__arrow",horizontal:{left:"enjoy__tooltip__horizontal_arrow__left",right:"enjoy__tooltip__horizontal_arrow__right"},vertical:{top:"enjoy__tooltip__vertical_arrow__top",bottom:"enjoy__tooltip__vertical_arrow__bottom"}}},p.tooltip_opened=!1,p.content=r.content,r.horizontal)p.syncMenuPosition=function(){e("horizontal")},k=j.animation.horizontal;else{if(!r.vertical)throw new Error("without direction");p.syncMenuPosition=function(){e("vertical")},k=j.animation.vertical}o=a("<div/>",{"class":j.arrow.common}),l=a("<div>").append(o),l.on("webkitTransitionEnd MSTransitionEnd oTransitionEnd transitionend",function(){switch(n){case"open":c();break;case"close":d();break;default:throw"Undefined handler"}}),m=l[0],m.classList.add.apply(m.classList,r["class"]?[j.win,r["class"],k.start]:[j.win,k.start]),p.onOpen=function(){n="open",u(),l.appendTo("body"),p.syncMenuPosition(),m.classList.add(k.end)},p.onClose=function(){n="close",m.classList.remove(k.end)},q.on("click",function(a){a.stopPropagation(),p.tooltip_opened?p.onClose():p.onOpen()}),document.body.addEventListener("click",function(b){var c=b.target;("close"===c.dataset.tooltipClickFireEvent||c!==p&&0===a(c).closest(l).length&&0===a(c).closest(a(".enjoy_popdown")).length)&&p.onClose()},!0),window.addEventListener("resize",function(){p.tooltip_opened&&p.onClose()});var u=a.isFunction(p.content)?function(){l.append(p.content.call(p))}:function(){l.append(p.content)};return this})},open:function(){this.each(function(){this.onOpen()})},close:function(){this.each(function(){this.onClose()})}};a.fn.tooltip=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.bubble")}return this}}(window.jQuery),function(a){var b={init:function(b){return this.each(function(){var c,d=a(this);return d.on("mouseenter",function(){var d=a(this).offset();c=a("<div />",{"class":"enjoy_helper_notification",html:b.html}).appendTo(document.body),c.css({top:d.top-c.height(),left:d.left})}).on("mouseleave",function(){c.remove()}),a(this).append(d),this})},set:function(a){return this.each(function(){this.setValue(a)}),this}};a.fn.helper=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.helper")}return this}}(window.jQuery),function(a){var b={init:function(b){return this.each(function(){this.options=a.extend({},b);var c=a(this),d=a("<div />").addClass("timing-chooser-indicator-content").appendTo(c);return c.addClass("timing-chooser enjoy_chooser"),a("<div/>").addClass("enjoy_arrow_icon").appendTo(c),a("<div />").addClass("timing-chooser-indicator-svg").appendTo(c),a("<div />").addClass("timing-chooser-indicator-wording").appendTo(d),a("<span />").addClass("enjoy_preview_chooser_edit_button").appendTo(c),this.setValue=function(a){c.attr("title","["+a.join(", ")+"]"),c.find(".timing-chooser-indicator-svg").bezier({points:a,l:30,t:30,w:240,h:240,editable:!1,styling:{borderstyling:{width:10,color:"rgb(150,150,150)"},pathstyling:{width:20,color:"rgb(255,255,255)"},endpointstyling:{width:30,color:"rgb(255,255,255)"},connectstyling:{width:1,color:"rgb(90,90,90)"},ctrlstyling:{width:1,color:"rgb(90,90,90)"}}}),c.find(".timing-chooser-indicator-wording").html(ui.presets.cubicBezier.getBezierName(a))},this})},set:function(){var a=[].slice.call(arguments,0);return this.each(function(){this.setValue.apply(this,a)}),this}};a.fn.timing=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.timing")}return this}}(window.jQuery),function(a){var b=!1,c={init:function(c){return this.each(function(){var d,e=this,f=c.settings;return b=c.onChange||function(){},f=jQuery.extend(f,{type:"text"}),e.cl={not_valid:"enjoy_input_not_valid"},d=c.textarea?a("<textarea />",f):a("<input>",f),d.on("keyup paste",function(){c.validation&&-1==d.val().search(c.validation)?d.addClass(e.cl.not_valid):(d.removeClass(e.cl.not_valid),c.onChange(d.val()))}),d.appendTo(this),this.setValue=function(a){d.val(a)},this.getValue=function(){return d.val()},this})},set:function(a){return this.each(function(){this.setValue(a)}),this},get:function(){return this[0].getValue()}};a.fn.input=function(b){if(c[b]){if("get"==b)return c[b].apply(this,Array.prototype.slice.call(arguments,1));c[b].apply(this,Array.prototype.slice.call(arguments,1))}else{if("object"==typeof b||!b)return c.init.apply(this,arguments);a.error("Method "+b+" does not exist on $.checkbox")}return this}}(window.jQuery),function(a){var b=function(){this.__slider=null,this.__drag=null,this.__slider_width=-1,this.__slider_position_x=-1,this.__percent=0,this.__offset_x=0,this.init.apply(this,arguments)};b.className="enjoy_slider_drag",b.create=function(a){return new b(a)},b.prototype={__refresh:function(){this.__slider_position_x=this.__slider.offset().left,this.__slider_width=this.__slider.width()},__recalc_percent:function(){this.__percent=this.__offset_x/this.__slider_width,this.__percent<0?this.__percent=0:this.__percent>1&&(this.__percent=1)},__direct:function(a){this.__refresh(),this.__slide(a)},__start:function(){ui.aside.isOpened||a("aside").css("display","none"),this.__refresh(),a(window).on("mousemove",a.proxy(this,"__slide")).on("mouseup",a.proxy(this,"__stop"))},__drag_offset_x:function(a){return a.clientX-this.__slider_position_x},__slide:function(a){this.__offset_x=this.__drag_offset_x(a),this.__move()},__stop:function(){a("aside").css("display",""),a(window).off("mousemove",this.__slide).off("mouseup",this.__stop)},__move:function(){},__move_drag:function(){this.__drag.css("left",100*this.__percent+"%")},init:function(c){this.__slider=c.slider,this.__move="function"==typeof c.change?function(){this.__recalc_percent(),this.__move_drag(),c.change(this.__percent)}:function(){this.__recalc_percent(),this.__move_drag()},this.__drag=a("<div />",{"class":b.className}).appendTo(this.__slider),this.__slider.on("click",this.__direct.bind(this)),this.__slider.on("mousedown",this.__start.bind(this))},percent:function(){return this.__percent},set_percent:function(a){this.__percent=a,this.__move_drag()}};var c=function(){this.__slider=null,this.__drag=null,this.__round=0,this.__min=0,this.__max=100,this.__value=this.__min,this.__range=this.__max-this.__min,this.init.apply(this,arguments)};c.className="enjoy_slider",c.create=function(a){return new c(a)},c.prototype={__change:function(a){var b=this.__raw_value();this.__value!==b&&(a(b),this.__value=b)},__raw_value:function(){return(this.__min+this.__drag.percent()*this.__range).toFixed(this.__round)},init:function(d){this.__round=d.round||this.__round,this.__min=d.min||this.__min,this.__max=d.max||this.__max,this.__value=this.__min,this.__range=this.__max-this.__min,this.__slider=a("<div />",{"class":c.className+(d["class"]?" "+d["class"]:"")});var e={slider:this.__slider};"function"==typeof d.change&&(e.change=this.__change.bind(this,d.change)),this.__drag=b.create(e),d.start&&this.set_value(d.start),a(d.container).append(this.__slider)},value:function(){return this.__value},set_value:function(a){this.__drag.set_percent((a-this.__min)/this.__max)}};var d={init:function(a){return this.each(function(){var b,d=a.settings||{};return d.container=d.container||this,d.change=a.onChange,b=c.create(a.settings),this.setValue=function(a){b.set_value(a)},this.getValue=function(){return b.value()},this})},set:function(a){return this.each(function(){this.setValue(a)}),this}};a.fn.slider=function(b){if(d[b]){if("get"==b)return d[b].apply(this,Array.prototype.slice.call(arguments,1));d[b].apply(this,Array.prototype.slice.call(arguments,1))}else{if("object"==typeof b||!b)return d.init.apply(this,arguments);a.error("Method "+b+" does not exist on $.slider")}return this}}(window.jQuery),function(a){var b={init:function(b){return this.each(function(){var c={value:!0,onChange:function(){}},d=this;$that=a(this),d.options=jQuery.extend(c,b),d.gcl={chooser:"enjoy_chooser"},d.cl={chooser:"enjoy_checkbox_chooser",label:"enjoy_checkbox_chooser_label icon_checkmark-3"},d.setValueFlag=!1,d.changed=function(){d.options.onChange(!!d.$chooserInput.prop("checked"))};var e="enjoy_checkbox_"+Math.ceil(1e8*Math.random())+(new Date).getTime();return d.$chooser=a(d).addClass(d.gcl.chooser).addClass(d.cl.chooser),d.$chooserInput=a("<input>",{type:"checkbox",id:e}).appendTo(d.$chooser),d.$chooserLabel=a("<label>",{"for":e,"class":d.cl.label}).appendTo(d.$chooser),d.$chooserInput.prop("checked",d.options.value),d.$chooserInput.on("change",function(a){a.stopPropagation(),d.setValueFlag||d.changed()}),d.setValue=function(a){d.setValueFlag=!0,d.$chooserInput.prop("checked",!!a),d.setValueFlag=!1},this})},set:function(a){return this.each(function(){this.setValue(a)}),this}};a.fn.checkbox=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.checkbox")}return this}}(window.jQuery),function(a){var b={init:function(b){return this.each(function(){var c={backcolor:b&&b.backcolor?b.backcolor:"rgba(41,41,41,0.9)",linecolor:b&&b.linecolor?b.linecolor:"rgba(255,255,255,1)",bordercolor:b&&b.bordercolor?b.bordercolor:"rgba(51,41,51,0)",angle:b&&b.angle?b.angle:0},d={onChange:function(){}},e=this,f=a(this);e.options=jQuery.extend(d,b),e.svg=a('<svg width="100%" height="100%" viewBox="-1 -1 52 52" preserveAspectRatio="none"><circle class="dirsel_area" cx="25" cy="25" r="25" stroke="'+c.bordercolor+'" stroke-width="1" fill="'+c.backcolor+'" style="cursor:crosshair"/><line class="dirsel_direction" x1="25" y1="25" x2="25" y2="0" stroke="'+c.linecolor+'" stroke-width="3" pointer-events="none"/></svg>'),f.append(e.svg),f.attr("angle",90);var g=function(b){var c=0,d=0,g=a(this).offset();void 0==b.offsetX?(c=b.pageX-g.left,d=b.pageY-g.top):(c=b.offsetX,d=b.offsetY);var h=c-e.svg.width()/2,i=d-e.svg.height()/2,j=Math.sqrt(h*h+i*i);if(0===j)return!1;var k=25*h/j,l=25*i/j,m=180*Math.acos(l/25)/Math.PI,n=k>0?180-m:m+180;return f.find(".dirsel_direction").attr("x2",25+k),f.find(".dirsel_direction").attr("y2",25+l),f.attr("angle",n),e.options.onChange(n+"_deg"),!1};this.setData=function(a){if(void 0!==a){a=1*a.split("_")[0];var b=25+25*Math.cos((a-90)*Math.PI/180),c=25+25*Math.sin((a-90)*Math.PI/180);f.find(".dirsel_direction").attr("x2",b),f.find(".dirsel_direction").attr("y2",c),f.attr("angle",a)}};var h=function(){return f.find(".dirsel_area").bind("mousemove",g),!1},i=function(){return f.find(".dirsel_area").unbind("mousemove"),!1};return f.find(".dirsel_area").bind("click",g).bind("mousedown",h).bind("mouseup",i),c.angle&&setData(null,c.angle),this})},set:function(a){return this.each(function(){this.setData(a)}),this}};a.fn.direction=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.direction")}return this}}(window.jQuery),function(a){var b={init:function(b){return this.each(function(){var c={additionalClass:"",onChange:function(){},autocloseTimeout:2e3},d=this;$that=a(this),d.options=jQuery.extend(c,b);var e="--group--";d.gcl={chooser:"enjoy_chooser",chooserDisapear:"enjoy_chooser_disapear",win:"enjoy_popdown",winAppear:"enjoy_popdown_appear",feedbackSuccess:"enjoy_feedback_success",feedbackSuccessDisapear:"enjoy_feedback_success_disapear"},d.cl={arrow:"enjoy_arrow_icon",chooser:"enjoy_selectbox_chooser",content:"enjoy_selectbox_chooser_content",win:"enjoy_selectbox_popdown",winItem:"enjoy_selectbox_popdown_item",winItemSelected:"enjoy_selectbox_popdown_item_selected",groupItem:"enjoy_selectbox_popdown_group_item",dropdown_open:"enjoy_selectbox_dropdown_open"},d.options.openFromDown&&(d.gcl.chooserDisapear=""),d.visualFeedbackSuccess=function(){d.$dropdown.addClass(d.gcl.feedbackSuccess),d.$chooser.addClass(d.gcl.feedbackSuccess),setTimeout(function(){requestAnimationFrame(function(){d.$dropdown.removeClass(d.gcl.feedbackSuccess).addClass(d.gcl.feedbackSuccessDisapear),d.$chooser.removeClass(d.gcl.feedbackSuccess).addClass(d.gcl.feedbackSuccessDisapear),setTimeout(function(){requestAnimationFrame(function(){d.$dropdown.removeClass(d.gcl.feedbackSuccessDisapear),d.$chooser.removeClass(d.gcl.feedbackSuccessDisapear)})},1e3)})},100)},d.closeDropdown=function(a,b){d.is_open&&("function"==typeof d.options.onClose&&d.options.onClose(),a&&((b||a.target.parentNode!=d.$chooser.get(0))&&(d.$dropdown.removeClass(d.gcl.winAppear),d.$chooser.removeClass(d.gcl.chooserDisapear),d.$dropdown.on("webkitTransitionEnd MSTransitionEnd oTransitionEnd transitionend",function(){d.$dropdown.detach()})),d.$chooser.removeClass(d.cl.dropdown_open),setTimeout(function(){d.is_open=!1},10)))},d.is_open=!1,d.openDropdown=function(b){d.is_open=!0,"function"==typeof d.options.onBeforeOpen&&d.options.onBeforeOpen(),a("."+d.cl.chooser).not(d.$chooser).selectbox("close"),d.$dropdown.appendTo("body").off("webkitTransitionEnd MSTransitionEnd oTransitionEnd transitionend"),d.synkDropdownPosition(),d.synkDropdownSize(),d.synkDropdownPosition(!0),d.set(d.$chooser.attr("data-value")),d.$chooser.addClass(d.gcl.chooserDisapear).addClass(d.cl.dropdown_open),requestAnimationFrame(function(){d.$dropdown.addClass(d.gcl.winAppear)}),b&&b.stopPropagation()},a("body").get(0).addEventListener("click",d.closeDropdown,!0),a("body").get(0).addEventListener("scroll",d.closeDropdown,!0),d.startAutocloseTimer=function(){d.autocloseTimer=setTimeout(function(){window.enjoy_debug||d.closeDropdown({},!0)},d.options.autocloseTimeout)},d.synkDropdownSize=function(){var b=d.$chooser,c=d.$dropdown,e=b.width()-parseInt(c.css("paddingRight"))-parseInt(c.css("paddingLeft"));d.options.positionBlock&&(e=d.options.positionBlock.width());var f=c.find("li").eq(0),g=f.outerHeight()+parseInt(f.css("margin-top"))+parseInt(f.css("margin-bottom")),h=a(window).height(),i=c.get(0).getBoundingClientRect().top,j=h-i,k=j-j%g,l=c.find("li").length;g>j?k=g:k>g*l&&(k=g*l);var m=k/g,n=Math.ceil(l/m);e*=n,c.width(e),c.height(m*g),c.get(0).style.webkitColumnCount=n,c.css("columns-count",n)},d.synkDropdownPosition=function(b){var c=d.options.positionBlock||d.$chooser,e=c.offset(),f=a(window).width(),g=d.$dropdown.width();if(d.options.openFromDown&&(e.top=e.top+c.height()),e.left+g>f&&(e.left=f-g),b){var h=a(window).height(),i=d.$dropdown.height();e.top+i>h&&(e.top=h-i)}d.$dropdown.css({top:e.top+"px",left:e.left+"px"})},d.$chooser=a(d).addClass(d.gcl.chooser).addClass(d.cl.chooser).addClass(d.options.additionalClass).on("click",function(a){d.is_open||d.openDropdown(a)}),d.$chooserContent=a("<div />").addClass(d.cl.content).appendTo(d.$chooser),d.$chooserArrow=a("<div>").addClass(d.cl.arrow).appendTo(d.$chooser),d.$dropdown=a("<ul>").addClass(d.gcl.win).addClass(d.cl.win).addClass(d.options.additionalClass),d.$chooser.add(d.$dropdown).mouseenter(function(){clearTimeout(d.autocloseTimer)}).mouseleave(function(a){a.stopPropagation(),d.startAutocloseTimer()}),d.synkDropdownSize(),d.synkDropdownPosition();var f=function(a){return a.replace(e,"")};return jQuery.each(d.options.options,function(b,c){if("function"!=typeof c.val){var g=-1!=c.val.indexOf(e),h=g?d.cl.groupItem:d.cl.winItem,i=f(c.dropdownHtml),c=f(c.val);g||a("<li>").addClass(h).html(i).appendTo(d.$dropdown).attr("data-value",c).on("click",function(a){a.stopPropagation(),g||(d.set(c),d.visualFeedbackSuccess(),d.options.onChange(c),d.closeDropdown(a))})}}),d.set=function(a){d.$chooser.attr("data-value",a),d.$chooserContent.html(fns.findByFieldKey(d.options.options,"val",a).value.chooserHtml),d.$dropdown.find("li").removeClass(d.cl.winItemSelected).end().find('li[data-value="'+a+'"]').addClass(d.cl.winItemSelected)},d.close=function(){d.closeDropdown()},this})},set:function(a){return this.each(function(){this.set(a)}),this},close:function(){return this.each(function(){this.closeDropdown()}),this}};a.fn.selectbox=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.selectbox")}return this}}(window.jQuery),function(a){var b={init:function(b){return this.each(function(){var c={},d=this;$that=a(this),d.isOpened=!1,d.options=jQuery.extend(c,b),d.gcl={overlay:"enjoy_overlay",overlayAppear:"enjoy_overlay_appear",overlayAppearTransparent:"enjoy_overlay_appear_transparent",win:"enjoy_win",winAppear:"enjoy_win_appear"},d.cl={overlay:"enjoy_popup_overlay",win:"enjoy_popup_win",close:"close_btn icon_cancel",transparent_overlay:"transparent_overlay"},d.obj=!1,d.open=function(b){b.route_params&&(router.refresh(b.route_params),a("footer").socialSharing("as",b.route_params.page||"main")),d.obj&&d.obj.detach(),d.obj=b.obj,d.$overlay.appendTo("body"),d.$win.appendTo("body").on("click",function(){}),d.header.html(b.header),d.article.empty().append(d.obj),d.article.css({"overflow-y":"auto"}),requestAnimationFrame(function(){d.$overlay.addClass(b.overlay_transparent?d.gcl.overlayAppearTransparent:d.gcl.overlayAppear),d.$win.addClass(d.gcl.winAppear),d.isOpened=!0}),d.options.onOpen&&d.options.onOpen()},d.close=function(){d.obj&&d.obj.detach(),d.header.empty(),d.article.empty(),d.$overlay.removeClass(d.gcl.overlayAppearTransparent),d.$overlay.removeClass(d.gcl.overlayAppear),d.$win.removeClass(d.gcl.winAppear),setTimeout(function(){d.$overlay.detach(),d.$win.detach(),d.isOpened=!1},500),d.options.onClose&&d.options.onClose(),router.refresh({page:""}),a("footer").socialSharing("as","main")};var e=a('<div class="'+d.cl.close+'">').css({"margin-right":"10px"}).click(function(){d.close()});return d.$overlay=a("<div>").addClass(d.gcl.overlay).addClass(d.cl.overlay).on("click",function(a){d.close(),a.stopPropagation()}),d.$win=a("<div>").addClass(d.gcl.win).addClass(d.cl.win).on("click",function(a){a.stopPropagation()}).append(e),d.header=a("<h2>").appendTo(d.$win),d.article=a("<article>").appendTo(d.$win).on("click",function(a){a.target==this&&d.close(),a.stopPropagation()}),a(document.body).bind("keyup",function(a){27===a.keyCode&&d.isOpened&&d.close()}),this})},open:function(a){return this.each(function(){this.open(a)}),this},close:function(){return this.each(function(){this.close()}),this},isOpened:function(){var a=!1;return this.each(function(){a=a||this.isOpened}),a}};a.fn.popup=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?(a.error("Method "+c+" does not exist on $.popup"),this):b.init.apply(this,arguments)}}(window.jQuery),function(a){var b=function(){this._trigger=null,this._options={},this.init.apply(this,arguments)};b.create=function(a){return new b(a)},b.defaultClasses={triggerDisappear:"enjoy_trigger_disappear",triggerAnimation:"enjoy_trigger_animation"},b.prototype={init:function(b){this._options=b,this._trigger=a("<div>").html(b.text).addClass("enjoy_trigger")},open:function(a){var c=this._trigger.text(a),d=b.defaultClasses;c.appendTo("body").removeClass(d.triggerAnimation).removeClass(d.triggerDisappear).addClass(d.triggerAnimation),c.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){c.removeClass(d.triggerAnimation).removeClass(d.triggerDisappear).detach()})},close:function(){this._trigger.addClass(b.defaultClasses.triggerDisappear)}};var c={init:function(a){return this.each(function(){var c={text:"Saving..."};return this.$trigger=b.create(jQuery.extend(c,a)),this})},open:function(a){return this.each(function(){this.$trigger.open(a)}),this},close:function(){return this.each(function(){this.$trigger.close()}),this},toggle:function(a){return this.each(function(){var b=this;b.$trigger.open(a),fns.async(function(){b.$trigger.close()})}),this}};a.fn.triggerEnjoy=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on $.trigger"),this):c.init.apply(this,arguments)}}(window.jQuery),function(a){var b={init:function(b){var c=this;return this.each(function(){var d={value:!0,options:[{id:"copy",label:"Copy"},{id:"paste",label:"Paste",disabled:!0},{id:"code",label:"Code"},{id:"reset",label:"Reset"}]},e=this,f=a(this);e.options=jQuery.extend(d,b),e.gcl={settings_control:"settings_control"},e.cl={menu:"settings_control_menu",disabled:"disabled",arrow:"settings_control_arrow",blue:"settings_control_blue"},e.clicked=function(a){c.trigger("item_click",a)},e.options_elements={},e.$menu_ul=a("<ul>");for(var g=e.options.options,h=0;h<g.length;h++){var i=g[h];!function(b){var c=a("<li>").html(i.label).addClass(i.disabled?e.cl.disabled:"");i.tooltip?c.tooltip({settings:{content:i.content,"class":"settings__paste",horizontal:!0}}):c.on("click",function(){e.clicked(b)}),c.appendTo(e.$menu_ul),e.options_elements[b]=c
}(i.id)}return f.tooltip({settings:{"class":"settings_control_menu",content:e.$menu_ul,horizontal:!0},onOpen:function(){c.trigger("menu_open")},onClose:function(){}}),e.setDisabled=function(a,b){var c=e.options_elements[a];c&&(b?c.addClass(e.cl.disabled):c.removeClass(e.cl.disabled))},this})},close:function(){this.each(function(){this.onClose()})},setDisabled:function(a,b){this.each(function(){this.setDisabled(a,b)})}};a.fn.settings_button=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.checkbox")}return this}}(window.jQuery),function(a){var b={init:function(b){return this.each(function(){var c={onClick:function(){},onTabRender:function(){},onTabClick:function(){}},d=this,e=a(this);d.options=jQuery.extend(!0,c,b);var f=Object.keys(d.options.tabs);d.gcl={acc:"enjoy_accordion"},d.cl={acc_header:"acc_header",expand_all_btn:"expand_all",expand_btn:"expand_btn",settings_btn:"settings_btn",header_postfix:"settings_btn",label:"acc_header_label",header_collapsed:"icon_arrow_coll",header_expanded:"icon_arrow_bold_down"};var g=function(a,b){b="number"==typeof+b?b:1,fns.async(function(){e.parent().scrollTo(d.panelHeaders[a],b)})};d.expandAllButton=a("<div />",{"class":d.cl.expand_all_btn+" "+d.cl.expand_all_btn,"data-action":"expand"}).append(d.expandAllArrow=a("<div />",{"class":d.cl.expand_btn+" "+d.cl.header_collapsed})).append(d.expandAllText=a("<div />",{"class":d.cl.label,text:"Expand all"})).append(a("<div />",{"class":"accordion_header_state_name"})),d.expandAllButton.on("click",function(){switch(this.dataset.action){case"expand":d.openAll(),g(f[0]);break;case"collapse":d.closeAll(),d.changeHash(f[0])}d.expandAllButton.trigger("changeaction")}),d.expandAllButton.on("changeaction",function(){i.isAllClosed()?(h=!1,this.dataset.action="expand",d.expandAllText.text("Expand all"),d.expandAllArrow.removeClass(d.cl.header_expanded).addClass(d.cl.header_collapsed)):(this.dataset.action="collapse",d.expandAllText.text("Collapse all"),d.expandAllArrow.removeClass(d.cl.header_collapsed).addClass(d.cl.header_expanded))});var h=!1;d.panelHeaders={},d.accordionPanels={},d.expandButtons={},e.addClass(d.gcl.acc),e.append(d.expandAllButton),f.forEach(function(b){var c=d.options.tabs[b].title,f=a("<div>",{"class":"acc_header","data-id":b,id:b+d.cl.acc_header}),g=a("<div>",{"class":"acc_pane",id:b}),h=a("<div />",{"class":d.cl.expand_btn+" "+d.cl.header_collapsed}),i=a("<div />",{"class":d.cl.settings_btn});e.append(f.append(h).append('<div class="'+d.cl.label+'"><nav>'+c+"</nav></div>").append(i)).append(g),d.options.onTabRender(b,i),d.panelHeaders[b]=f,d.expandButtons[b]=h,d.accordionPanels[b]=g}),e.on("click","."+d.cl.acc_header,function(){var a=this.dataset.id;h||d.closeCustom(f.filter(function(b){return a!==b})),d.toggleHeader(a),d.expandAllButton.trigger("changeaction"),d.changeHash(a),g(a,300)});var i={number:0,isAllClosed:function(){return!this.number},up:function(){++this.number},down:function(){--this.number}};return d.changeHash=function(a){d.isClosed(a)?history.replaceState({},document.title,location.pathname):window.location.hash=a,d.options.onTabClick(a)},d.toggleAll=function(){i.isAllClosed()?d.openAll():d.closeAll()},d.openAll=function(){h=!0,f.forEach(function(a){d.isClosed(a)&&d.openHeader(a)})},d.closeCustom=function(a){a.forEach(function(a){d.isClosed(a)||d.closeHeader(a)})},d.closeAll=function(){h=!1,d.closeCustom(f)},d.openHeader=function(a){var b=d.expandButtons[a],c=d.accordionPanels[a];b.removeClass(d.cl.header_collapsed).addClass(d.cl.header_expanded),c.show(),i.up()},d.closeHeader=function(a){var b=d.expandButtons[a],c=d.accordionPanels[a];b.removeClass(d.cl.header_expanded).addClass(d.cl.header_collapsed),c.hide(),i.down()},d.isClosed=function(a){return d.expandButtons[a].hasClass(d.cl.header_collapsed)},d.toggleHeader=function(a){d.isClosed(a)?d.openHeader(a):d.closeHeader(a)},this})},open:function(a){return this.each(function(){this.toggleHeader(a)}),this},close:function(){return this.each(function(){this.closePopdown()}),this}};a.fn.accordion=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.numinput")}return this}}(window.jQuery),function(a){var b={init:function(b){return this.each(function(){var c={visible_count:9,onClick:function(){},item_size:{w:180,h:190},prevent:!0},d=this,e=a(this);d.options=jQuery.extend(!0,c,b),d.gcl={shifter:"enjoy_shifter"},d.cl={prev_btn:"enjoy_shifter_previous_btn",btn_icon:"icon_arrow-right-3",next_btn:"enjoy_shifter_next_btn",list_wrapper:"enjoy_shifter_list_wrapper",list_rel_wrapper:"enjoy_shifter_list_rel_wrapper",list:"enjoy_shifter_list",list_item:"enjoy_shifter_list_item"},d.$items=e.find(">*").addClass(d.cl.list_item),d.$shifter=a("<div>",{"class":d.gcl.shifter}).appendTo(e);var f=d.options.item_size.w,g=d.options.item_size.h,h=f*d.$items.length;d.$prev_btn=a("<div>",{"class":d.cl.prev_btn+" "+d.cl.btn_icon}).appendTo(d.$shifter).height(g).click(function(){d.shiftPrev()}),d.$list_wrapper=a("<div>",{"class":d.cl.list_wrapper}).appendTo(d.$shifter).height(g),d.$list_rel_wrapper=a("<div>",{"class":d.cl.list_rel_wrapper}).appendTo(d.$list_wrapper),d.$list=a("<div>",{"class":d.cl.list}).appendTo(d.$list_rel_wrapper).append(d.$items).width(h).height(g),d.$next_btn=a("<div>",{"class":d.cl.next_btn+" "+d.cl.btn_icon}).appendTo(d.$shifter).height(g).click(function(){d.shiftNext()});var i=0;d.shift=function(){d.$list.css({"-webkit-transform":"translateX(-"+i+"px)",transform:"translateX(-"+i+"px)"})},d.shiftPrev=function(){var a=d.$list_wrapper.width();if(k){var b=a;a>i&&(b=i),i-=b,0===i&&(k=!1),j=!0,d.shift(),d.refreshBtns()}},d.shiftNext=function(){var a=d.$list_wrapper.width();if(j){var b=h-i-a,c=a;a>=b&&(c=b,j=!1),i+=c,d.shift(),k=!0,d.refreshBtns()}};var j=!1,k=!1;return d.refresh=function(){j=h>d.$list_wrapper.width(),j&&d.$next_btn.addClass("active")},d.refreshBtns=function(){j?d.$next_btn.addClass("active"):d.$next_btn.removeClass("active"),k?d.$prev_btn.addClass("active"):d.$prev_btn.removeClass("active")},d.$items.each(function(){a(this).click(function(b){d.options.prevent&&b.preventDefault(),d.options.onClick(a(this))})}),d.refresh(),this})},refresh:function(){return this.each(function(){this.refresh()}),this},close:function(){return this.each(function(){this.closePopdown()}),this}};a.fn.shifter=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.numinput")}return this}}(window.jQuery),function(a){var b={init:function(b){return this.each(function(){{var c={cells:[],onChange:function(){},onSelect:function(){}},d=this;a(this)}d.options=jQuery.extend(c,b),d.gcl={grid:"enjoy_grid"},d.cl={rows:"enjoy_grid_rows",row:"enjoy_grid_row",cell:"enjoy_grid_cell",selected:"cell_selected",unselect_all:"unselect_all"},d.$grid=a(d).addClass(d.gcl.grid),d.$rows=a("<div>").addClass(d.cl.rows).appendTo(d.$grid);var e=d.options.cells;return d.selected_cells=[],a.each(e,function(b,c){var e=a("<div>",{"class":d.cl.row}).appendTo(d.$rows);a.each(c,function(b,c){var f=a("<div>",{"class":d.cl.cell}).appendTo(e);c.content&&f.append(c.content),c.unselect_all&&(d.unselect_all_id=c.id,f.addClass(d.cl.unselect_all)),c.selected&&(f.addClass(d.cl.selected),d.selected_cells.push(c.id),d.options.onSelect(d.selected_cells)),c.content&&f.click(function(){c.unselect_all&&(d.$all_cells.removeClass(d.cl.selected),d.selected_cells=[]);var b=d.selected_cells.indexOf(c.id);c.unselect_all||(d.$unselect_all.removeClass(d.cl.selected),1==d.selected_cells.length&&d.selected_cells[0]==d.unselect_all_id&&(d.selected_cells=[])),-1!=b&&1==d.selected_cells.length||(-1!=b?(a(this).removeClass(d.cl.selected),d.selected_cells.splice(b,1)):(d.selected_cells.push(c.id),a(this).addClass(d.cl.selected))),d.options.onSelect(d.selected_cells)})})}),d.$all_cells=d.$grid.find("."+d.cl.cell),d.$unselect_all=d.$grid.find("."+d.cl.unselect_all),d.setValue=function(){},this})},set:function(a){return this.each(function(){this.setValue(a)}),this}};a.fn.grid=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.checkbox")}return this}}(window.jQuery),function(a){var b={init:function(b){return this.each(function(){for(var c=["pt","pc","in","cm","mm","ex"],d=["pt","pc","in","cm","mm","ex","px","em","%",":auto"],e=0;e<c.length;e++){var f=c[e],g=d.indexOf(f);-1!=g&&d.splice(g,1)}var h={value:100,settings:{min:Math.NEGATIVE_INFINITY,max:Math.POSITIVE_INFINITY,units:d},onChange:function(){}};b.settings.units&&(h.settings.units=[]);{var i=this;a(this)}"undefined"!=typeof b.min&&(b.min=+b.min),"undefined"!=typeof b.max&&(b.max=+b.max),i.options=jQuery.extend(!0,h,b),i.keyTimeout=!1,i.keyInterval=!1,i.gcl={chooser:"enjoy_chooser",chooserDisapear:"enjoy_chooser_disapear",popdown:"enjoy_popdown",popdownAppear:"enjoy_popdown_appear"},i.cl={chooser:"enjoy_numinput_chooser",noNumber:"enjoy_numinput_chooser_no_number",input:"enjoy_numinput_chooser_input",unit:"enjoy_numinput_chooser_unit",arrows:"enjoy_numinput_chooser_arrows",arrowsUp:"enjoy_numinput_chooser_arrow_up icon_arrow-up-3",arrowsDown:"enjoy_numinput_chooser_arrow_down icon_arrow-down-3",directionHighlightDown:"enjoy_numinput_chooser_direction_highlight_down",directionHighlightUp:"enjoy_numinput_chooser_direction_highlight_up",popdown:"enjoy_numinput_popdown",popdownItem:"enjoy_numinput_popdown_item",popdownItemnumSelected:"enjoy_numinput_popdown_item_selected"},i.closePopdown=function(a){i.$popdown.removeClass(i.gcl.popdownAppear),setTimeout(function(){i.$popdown.detach()},300),i.$chooser.parents().off("click",i.closePopdown),a&&(a.preventDefault(),a.stopPropagation())},i.stringValue2ObjValue=function(a){a=a.toString();var b=a.split("_"),c=parseFloat(b[0],10),d=b[1];return isNaN(c)&&(d=":"+b[0],c=0),{value:c,unit:d}},i.objValue2StringValue=function(a){return a.unit?":"==a.unit[0]?a.unit.split(":")[1]:a.value+"_"+a.unit:a.value},i.update=function(){var a=i.data.unit;i.$chooserInput.val(k(i.data.value)),a=a&&""!=a?a:"-","undefined"!=typeof a&&(":"==a[0]&&""!==i.data.value?(a=a.split(":")[1],i.$chooser.addClass(i.cl.noNumber),i.$chooserInput.hide(),i.$chooserArrows.hide()):(i.$chooser.removeClass(i.cl.noNumber),i.$chooserInput.show(),i.$chooserArrows.show()),i.$chooserUnit.html(a))},i.increase=function(a){var b=+i.data.value,c=Math.precision(b+a,10);i.data.value=i.convertToValidatedValue(c),i.$chooserInput.addClass(i.cl.inputHighlight),i.$chooser.addClass(a>0?i.cl.directionHighlightUp:i.cl.directionHighlightDown),setTimeout(function(){i.$chooserInput.removeClass(i.cl.inputHighlight),i.$chooser.removeClass(i.cl.directionHighlightUp),i.$chooser.removeClass(i.cl.directionHighlightDown)},300),i.update(),i.changed()};var j={end:!1,text:"",save:function(a){this.end=!1,this.text=a},ended:function(){this.end=!0,this.text=""}};i.convertToValidatedValue=function(a){a+="";var b=a,c=a,d="",e=1,f=i.options.settings.max,g=i.options.settings.min;if("-"===b[0]){if(g>=0)return g;d="-",e=-1,c=c.substring(1),b=b.substring(1)}return"."===b[0]&&(c="0"+c),(""===c||"0"===c||"0."===c)&&j.save(d+c),b=+b,isNaN(b)||0===b?c=j.end?i.data.value:j.text:(j.ended(),b*=e,c=b>f?f:g>b?g:d+(-1===c.indexOf(".")?+c:c)),c+="",""===c?"0":c};var k=function(a){var b=+a;return isNaN(b)||0===b?a:Math.precision(b.toFixed(2),10)+""};i.changeUnit=function(){var a=i.options.settings.units.indexOf(i.data.unit),b=i.options.settings.units[a+1];void 0===b&&(b=i.options.settings.units[0]),i.data.unit=b,i.update(),i.changed()},i.onMouseWheel=function(a){var b=-1,c=0;if(a.originalEvent.wheelDelta&&a.originalEvent.wheelDelta/120>0&&(b=1),a.keyCode){switch(a.keyCode){case 38:case 40:a&&a.preventDefault()}switch(a.keyCode){case 38:b=1;break;case 40:b=-1;break;default:return}}if(a.altKey)c=.1;else if(a.shiftKey)c=10;else{if(a.originalEvent.wheelDelta)return c=0,!1;c=1}i.increase(b*c,!0),a.preventDefault()},i.validateChange=function(a){var b=i.$chooserInput.val(),c=i.convertToValidatedValue(b);"blur"===a&&(c=+c,c=isNaN(c)?0:c),i.data.value=c,b!==c&&i.update(),i.changed()},i.onEnterAction=function(a){switch(a.keyCode){case 17:case 37:case 39:return}a.stopPropagation(),(""!==i.$chooserInput.val()||"keyup"!=a.type)&&i.validateChange(a.type)},i.changed=function(){var a=i.objValue2StringValue(i.data);i.options.onChange(a)},i.$chooser=a(i).addClass(i.gcl.chooser).addClass(i.cl.chooser),i.$chooserInputBlock=a("<div />",{"class":"enjoy_numinput__input_block"}),i.$chooserInput=a("<input>",{type:"text"}).addClass(i.cl.input).on("click",function(){i.$chooserInput.select()}).on("keydown mousewheel",function(a){i.onMouseWheel(a)}).on("blur keyup",function(a){i.onEnterAction(a)}),i.$chooserArrows=a("<div>",{"class":i.cl.arrows}),i.increaseTimer=!1;var l=function(){var b,c,d=100,e=60;return function(){return a("<div />").on("mousedown",function(){var f=a(this);b=new Date,c=b,f.trigger("mousehold"),setTimeout(function(){c===b&&(i.increaseTimer&&clearInterval(i.increaseTimer),i.increaseTimer=setInterval(function(){f.trigger("mousehold")},e))},d)}).on("mouseup mouseleave",function(){c=new Date,clearInterval(i.increaseTimer)})}}();return i.$chooserArrowUp=l().addClass(i.cl.arrowsUp).appendTo(i.$chooserArrows).on("mousehold",function(){i.increase(1)}),i.$chooserArrowDown=l().addClass(i.cl.arrowsDown).appendTo(i.$chooserArrows).on("mousehold",function(){i.increase(-1)}),i.$chooserUnit=a("<div>",{"class":i.cl.unit}).selectbox({openFromDown:!0,positionBlock:i.$chooser,additionalClass:"enjoy_numinput_selectbox",options:i.options.settings.units.map(function(a){var b=""==a?"-":a;return b=b.replace(":",""),{val:a,chooserHtml:b,dropdownHtml:b}}),onBeforeOpen:function(){},onChange:function(a){i.data.unit=a,i.changed()},onClose:function(){i.update()}}),i.$chooser.append(i.$chooserInput).append(i.$chooserUnit).append(i.$chooserArrows),i.data=i.stringValue2ObjValue(i.options.value),i.setValue=function(a){"undefined"!=typeof a&&(i.data=i.stringValue2ObjValue(a),i.update())},i.close=function(){i.closepopdown()},this})},set:function(a){return this.each(function(){this.setValue(a)}),this},close:function(){return this.each(function(){this.closePopdown()}),this}};a.fn.numinput=function(c){if(b[c])b[c].apply(this,Array.prototype.slice.call(arguments,1));else{if("object"==typeof c||!c)return b.init.apply(this,arguments);a.error("Method "+c+" does not exist on $.numinput")}return this}}(window.jQuery);var fns={randId:function(){for(var a="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",b=4,c="",d=0;b>d;d++){var e=Math.floor(Math.random()*a.length);c+=a.substring(e,e+1)}return"e"+(new Date).getTime()+c},intToHex:function(a){var b=(0|a).toString(16);return 1==b.length&&(b="0"+b),b.toLowerCase()},arrToRgbaStr:function(a){return"rgba("+Math.round(a[0])+", "+Math.round(a[1])+", "+Math.round(a[2])+", "+Math.round(100*a[3])/100+")"},rgbaStrToArr:function(a){var b=a.split("(")[1].split(")")[0].split(",");return b.length<4&&b.push(1),b},isNativeColor:function(a){var b=tinycolor(a);return b.toName()?!0:!1},convertColorToFormat:function(a,b){var c=tinycolor(a);switch(b){case"hex":return"#"+c.toHex8String().substr(3,6);case"hsla":return c.toHslString();case"rgba":return c.toRgbString();case"native":return c.toName()}},getColorFormat:function(a){return-1!=a.indexOf("rgb")?"rgba":-1!=a.indexOf("hsl")?"hsla":-1!=a.search(/^(#|)([0-9a-f]{3}|[0-9a-f]{6})$/i)?"hex":-1!=cssg.parser.consts.colors.list.indexOf(a)?"native":!1},getColorStringByFormat:function(a,b){var c=this,d="rgba("+a.r+","+a.g+","+a.b+","+(a.a||0==a.a?Math.round(100*a.a/255)/100:1)+")";return"rgba"!=b&&(d=c.convertColorToFormat(d,b)),d},getValidRgbaStr:function(){},getPickerColorFromStr:function(a){var b=this,c=b.getColorFormat(a);if("native"==c){c="rgba";var d=tinycolor(a);a=d.toRgbString()}var e=a;switch(c){case"rgba":var f=b.rgbaStrToArr(a);e={r:f[0],g:f[1],b:f[2],a:255*f[3]};break;case"hsva":var f=b.rgbaStrToArr(a),g=f[0],h=f[1],i=f[2];h=2*h/(i+h);var j=i+h;e={h:g,s:h,v:j,a:255*f[3]}}return{value:e,format:c}},arrToCBStr:function(a){return"cubic-bezier("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},isColorWithAlpha:function(a){var b=this;if(0==a.indexOf("rgba")||0==a.indexOf("hsla")){var c=b.rgbaStrToArr(a);if(c[3]<1)return!0}return!1},isColorStr:function(a){var b=this;return-1!=a.search(/^#([0-9a-f]{3}|[0-9a-f]{6})$/i)||0==a.indexOf("rgb")||0==a.indexOf("hsl")||b.isNativeColor(a)?!0:!1},findByFieldKey:function(a,b,c){for(i in a)if(a[i][b]==c)return{value:a[i],index:i};return{value:!1,index:-1}},clone:function(a){var b=this;if(!a||"object"!=typeof a)return a;var c,d,e="function"==typeof a.pop?[]:{};for(c in a)a.hasOwnProperty(c)&&(d=a[c],e[c]=d&&"object"==typeof d?b.clone(d):d);return e},compare:function(a,b){var c=JSON.stringify(a)===JSON.stringify(b);return c},enjoyValueToArray:function(a){a+="";var b=a.split("_");return[b[0],b[1]||!1]},async:function(a,b){setTimeout(function(){a()},b||1)},escapeRegExp:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},selectTextByNode:function(a){var b=document.createRange(),c=document.getSelection();b.selectNodeContents(a),c.removeAllRanges(),c.addRange(b)},normalizeCSSFunctionParams:function(a){return a.replace(/(?:rgba?|hsla?|cubic-bezier|rotate|skew|scale|translate)\((.+?)\)/g,function(a){return a.replace(/ /g,"")})},getRandomInt:function(a,b){return Math.floor(Math.random()*(b-a+1))+a}};Array.prototype.max=function(){return Math.max.apply(Math,this)},"undefined"==typeof Array.prototype.contains&&(Array.prototype.contains=function(a){return-1!==this.indexOf(a)}),Array.prototype.allValuesSame=function(){if(this.length>0)for(var a=1;a<this.length;a++)if(this[a]!==this[0])return!1;return!0},function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),cssg={__setDefaultPropertiesIfNotToCurrentPoint:function(){var a=this,b=function(a,c){var d;for(d in c)"undefined"==typeof a[d]?a[d]=c[d]:Array.isArray(c[d])||"object"!=typeof c[d]||b(a[d],c[d])},c=this.getCurrentPoint(),d=this.getDefaultPoint();Object.keys(c).forEach(function(e){b(c[e],d[d[e]?e:a.normalStateIndex])})},getDefaultSettings:function(){return enjoyCSS.defaultSettings.normal},getDefaultState:function(a){return a=a||"normal",enjoyCSS.defaultStates[a]},getDefaultBrowserPoint:function(){var a=this.getDefaultPoint();return a.__settings.text="",a[0]=$.extend(!0,a[0],fns.clone(enjoyCSS.defaultStates.browser)),a},getDefaultPoint:function(){return this.__defaultPoint||(this.__defaultPoint=enjoyCSS.points[enjoyCSS.defaultPointId]={__settings:fns.clone(this.getDefaultSettings()),0:fns.clone(this.getDefaultState())}),this.__defaultPoint},getCurrentPoint:function(a){var b=this;if(!enjoyCSS.points[this.currentEnjoyId]||a){var c="normal_"+b.startNodeType,d=fns.clone(b.getDefaultState(c)),e=fns.clone(enjoyCSS.defaultSettings[c]);enjoyCSS.points[this.currentEnjoyId]={__settings:e,0:d}}return enjoyCSS.points[this.currentEnjoyId]},setRestorePoint:function(a){enjoyCSS.points[enjoyCSS.restorePointId]=fns.clone(a)},getRestorePoint:function(){return enjoyCSS.points[enjoyCSS.restorePointId]},saveControlPoint:function(){this.setRestorePoint(this.getCurrentPoint())},isDefaultValueByPath:function(a){var b=function(a){return"[object Object]"===Object.prototype.toString.call(a)},c=function(a,d){if(b(a))for(var e in a){if(c.isDifferent)return;b(a[e])?c(a[e],d[e]):a[e]!==d[e]&&(c.isDifferent=!0)}else isNaN(+a)||(a=+a,d=+d),a!==d&&(c.isDifferent=!0)};c.isDifferent=!1;var d,e,f=function(a){return Object.keys(a).every(function(b){return-1!==a[b].width.search(/^0_/)})},g=this.splitPath(a,!0),h=g.pathParts;return d=this.getValueByPath(a),"border"===g.property?f(d):(h[0]=enjoyCSS.defaultPointId,e=this.getValueByPath(this.joinPath(h)),Array.isArray(d)?(d=d.filter(function(a){return!a._inactive}),d.length===e.length):(c(e,d),!c.isDifferent))},hasUnsavedChanges:function(){return this.hasChangesAfterSave},init:function(a){this.currentEnjoyId=a,this.autosaver.init(),this.__setDefaultPropertiesIfNotToCurrentPoint(),this.saveControlPoint(),this.statesCount=0;for(var b in this.getCurrentPoint())"__settings"!=b&&this.statesCount++},initFrames:function(){var a=this;a.initPreviewFrames(),a.refreshBackground(),a.updatePreview(a.generateCode(a.currentEnjoyId,{browsers:a.defaultBrowsers,tab:0}))},PSEUDO_CLASSES:["hover","active","focus"],PSEUDO_ELEMENTS:["before","after"],allBrArr:["webkit","moz","ms","o","all"],normalStateIndex:0,startNodeType:"block",defaultBrowsers:{chrome:"4",firefox:"4",ie:"9",opera:"10.5",safari:"4",ios_saf:"5.0-5.1",android:"2.1",bb:"7"},defaultBrowserProps:{chrome:{iconMain:"icon_chrome",iconAdd:!1,title:"Chrome",prefix:"webkit"},firefox:{iconMain:"icon_firefox",iconAdd:!1,title:"Firefox",prefix:"moz"},ie:{iconMain:"icon_IE",iconAdd:!1,title:"Internet explorer",prefix:"ms"},opera:{iconMain:"icon_opera",iconAdd:!1,title:"Opera",prefix:"o"},safari:{iconMain:"icon_safari",iconAdd:!1,title:"Safari",prefix:"webkit"},ios_saf:{iconMain:"icon_iphone",iconAdd:"icon_apple",title:"iOs Safari",prefix:"webkit"},android:{iconMain:"icon_iphone",iconAdd:"icon_android",title:"Android browser",prefix:"webkit"},bb:{iconMain:"icon_iphone",iconAdd:"icon_blackberry",title:"Blackberry browser",prefix:"webkit"}},defaultFonts:[{family:"Arial",css:"Arial, Helvetica, sans-serif"},{family:"Arial Black",css:"Arial Black, Gadget, sans-serif"},{family:"Comic Sans MS",css:'"Comic Sans MS", cursive, sans-serif'},{family:"Courier New",css:'"Courier New", Courier, monospace'},{family:"Georgia",css:"Georgia, serif"},{family:"Impact",css:"Impact, Charcoal, sans-serif"},{family:"Lucida Console",css:'"Lucida Console", Monaco, monospace'},{family:"Lucida Sans Unicode",css:'"Lucida Sans Unicode", "Lucida Grande", sans-serif'},{family:"Palatino Linotype",css:'"Palatino Linotype", "Book Antiqua", Palatino, serif'},{family:"Tahoma",css:"Tahoma, Geneva, sans-serif"},{family:"Times New Roman",css:'"Times New Roman", Times, serif'},{family:"Trebuchet MS",css:'"Trebuchet MS", Helvetica, sans-serif'},{family:"Verdana",css:"Verdana, Geneva, sans-serif"}],cssArr:{},htmlArr:{},selector:".enjoy-css",parentSelector:".element",pseudoNormalSelector:".pseudo_normal_state",statesCount:0,defaultEnjoyId:"0_0",currentEnjoyId:"0_0",previewFrames:{},flagBlockUpdate:!1,_sp:" ",_q:",",_m:"-",_unit:"px",_br:"\n",_tab:"  ",_dq:";",_dd:":",_pathSep:"|",_openBracket:"{",_closeBracket:"}",stateOrder:{normal:0,hover:1,active:2,focus:3,before:4,after:5},stateDependencies:{normal:"normal",hover:"normal",active:"hover",focus:"hover",before:"normal",after:"normal"},splitPath:function(a,b){var c,d=a.split(this._pathSep);return b===!0?(c={path:a,pathParts:d,pointId:d[0],state:d[1]},d.length>2&&(c.property=d[2],c.propertyCamelCase=d[2].replace(/-[a-z]/g,function(a){return a.toUpperCase().replace("-","")}),c.hasPoints="points"===d[3],c.propertyFullPath=d.slice(0,c.hasPoints?4:3).join(this._pathSep),c.additionalParts=d.slice(c.hasPoints?4:3)),c):d},joinPath:function(){var a=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments,0);return a.join(this._pathSep)},initPreviewFrames:function(){var a=this;a.$viewsLayout=$("#views_layout"),a.$viewsBlock=$("#view_"+a.currentEnjoyId),a.$viewsBlock.find("iframe").map(function(b){a.initPreviewFrame(b,this)}),a.$viewsBlock.find("> .state_view").map(function(b,c){var d=a.getStatePreviewTitle(b);$(c).attr("data-content",d)}),a.$previewBackgroundStyle=$("<style />"),a.$viewsLayout.append(a.$previewBackgroundStyle)},initPreviewFrame:function(a,b){var c=this,d={parent:b.parentNode,container:b,win:b.contentWindow,doc:b.contentWindow.document};c.previewFrames[a]=d;var e='<meta http-equiv="content-type" content="text/html; charset=UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>';if(d.doc.open(),d.doc){var f='<div class="enjoy-css">Enjoy CSS</div>';c.isContentState(a)&&(f='<div class="'+c.pseudoNormalSelector.replace(".","")+'"><div class="enjoy-css">Enjoy CSS</div></div>'),d.doc.write("<!DOCTYPE html><html><head>"+e+'<style id="fff" TYPE="text/css" title="style_gen_'+a+'"></style><link rel="stylesheet" type="text/css" href="/css/frame/main.css"></head><body><svg class="big_svg" style="position:absolute;top:0;left:0;pointer-events:none;z-index: 9999;" height="2000" width="2000" xmlns="http://www.w3.org/2000/svg"><line stroke-dasharray="8, 2"  x1="40.5" y1="0" x2="40.5" y2="2000" style="stroke:#0070A0;stroke-width:0.2;"/><line stroke-dasharray="8, 2"   x1="0" y1="40.5" x2="2000" y2="40.5" style="stroke:#0070A0;stroke-width:0.2;"/></svg><svg class="highlight_indents big_svg" style="position:absolute;top:0;left:0;pointer-events:none;z-index: 9999;" height="2000" width="2000" xmlns="http://www.w3.org/2000/svg"><line class="highlight_indents_line highlight_indents_top" data-line-type="top" x1="0" y1="40.5" x2="2000" y2="40.5" stroke="rgba(216,123,2,0.39)" stroke-width="0" /><line class="highlight_indents_line highlight_indents_bottom" data-line-type="bottom" x1="0" y1="40.5" x2="2000" y2="40.5" stroke="rgba(216,123,2,0.39)" stroke-width="0" /><line class="highlight_indents_line highlight_indents_left" data-line-type="left" x1="40" y1="0" x2="40" y2="2000" stroke="rgba(216,123,2,0.39)" stroke-width="0" /><line class="highlight_indents_line highlight_indents_right" data-line-type="right" x1="40" y1="0" x2="40" y2="2000" stroke="rgba(216,123,2,0.39)" stroke-width="0" /></svg><svg style="position:absolute;bottom:0;right:0;pointer-events:none;" height="2000" width="2000" xmlns="http://www.w3.org/2000/svg"><line stroke-dasharray="8, 2" x1="1959.5" y1="0" x2="1959.5" y2="2000" style="stroke:#0070A0;stroke-width:0.2;"/><line stroke-dasharray="8, 2" x1="0"   y1="1959.5" x2="2000" y2="1959.5" style="stroke:#0070A0;stroke-width:0.2;"/></svg><div class="add-html"></div><div class="element">'+f+"</div></body></html>")}d.doc.close(),d.head=d.doc.getElementsByTagName("head")[0],d.body=d.doc.getElementsByTagName("body")[0],d.button=d.doc.getElementsByClassName("enjoy-css")[0],d.wrapper=d.doc.getElementsByClassName(c.pseudoNormalSelector.replace(".",""))[0],d.$button=$(d.button),d.$element=$(d.body).find(".element"),d.addHtml=d.doc.getElementsByClassName("add-html")[0],$(d.body).addClass("disable-transition"),$(d.parent).on("mouseleave",function(){$(d.body).addClass("disable-transition")}).on("mouseenter",function(){$(d.body).removeClass("disable-transition")})},getAllIndents:function(a){function b(a){return"auto"==a?0:parseInt(a)}{var c=this,d=$(".state"+a+"_view iframe").contents().find(c.selector).get(0);$(d).offset()}$(d).addClass("reset-transforms");var e=($(d).offset(),d.getBoundingClientRect()),f=window.getComputedStyle(d,null),g={position:f.position,size:{w:f.width,h:f.height},paddings:{top:b(f.paddingTop),right:b(f.paddingRight),bottom:b(f.paddingBottom),left:b(f.paddingLeft)},margins:{top:b(f.marginTop),right:b(f.marginRight),bottom:b(f.marginBottom),left:b(f.marginLeft)},positioning:{top:b(f.top),right:b(f.right),bottom:b(f.bottom),left:b(f.left)},borders:{top:b(f.borderTopWidth),right:b(f.borderRightWidth),bottom:b(f.borderBottomWidth),left:b(f.borderLeftWidth)}};return g.margins_position={top:e.top-Math.ceil(.5*g.margins.top),right:e.right+Math.round(.5*g.margins.right),bottom:e.bottom+Math.round(.5*g.margins.bottom),left:e.left-Math.ceil(.5*g.margins.left)},g.positioning_position={top:e.top-g.margins.top-Math.ceil(.5*g.positioning.top),right:e.right+g.margins.right+Math.round(.5*g.positioning.right),bottom:e.bottom+g.margins.bottom+Math.round(.5*g.positioning.bottom),left:e.left-g.margins.left-Math.ceil(.5*g.positioning.left)},g.paddings_position={top:e.top+g.borders.top+Math.round(.5*g.paddings.top),right:e.right-g.borders.right-Math.ceil(.5*g.paddings.right),bottom:e.bottom-g.borders.bottom-Math.ceil(.5*g.paddings.bottom),left:e.left+g.borders.left+Math.round(.5*g.paddings.left)},$(d).removeClass("reset-transforms"),g},getIndentLines:function(a){var b=$(".state"+a+"_view iframe").contents().find(".highlight_indents_line"),c={};return b.each(function(){var a=$(this).data("line-type");c[a]=$(this)}),c},setEnjoyId:function(a){var b=this;b.currentEnjoyId=a},getStateViewClass:function(a){return"state"+a+"_view"},getLayoutType:function(){var a=this,b=enjoyCSS.points[a.currentEnjoyId];return b.__settings.previewsLayout||"horizontal"},setLayoutType:function(a){var b=this,c=enjoyCSS.points[b.currentEnjoyId];c.__settings.previewsLayout=a},sortViewsOrder:["normal","before","after","hover","active","focus"],sortViews:function(){var a=this,b=enjoyCSS.points[a.currentEnjoyId],c={};for(var d in b)if("__settings"!=d){var e=b[d].__state_name,f=$("."+a.getStateViewClass(d));c[e]=f}for(var g=1,d=0;d<a.sortViewsOrder.length;d++){var e=a.sortViewsOrder[d];c[e]&&(g++,c[e].css("order",g))}},createState:function(a){var b=this,c=enjoyCSS.points[b.currentEnjoyId],d=b.getNewStateInd(),e=b.createStateView(a,d),f=fns.clone(c[b.normalStateIndex]);switch(("after"==a||"before"==a)&&(f=fns.clone(enjoyCSS.defaultStates.normal)),a){case"after":f=$.extend(f,fns.clone(enjoyCSS.defaultStates.after));break;case"before":f=$.extend(f,fns.clone(enjoyCSS.defaultStates.before))}c[d]=f;var g=c[d];g=f,g.__state_name=a,g.__state_pseudo=":"+a,g.status=!0,b.statesCount++;var h=e.find("iframe").get(0);b.initPreviewFrame(d,h),b.updatePreview(b.generateCode(b.currentEnjoyId,{browsers:b.defaultBrowsers,tab:0})),b.applyPointSettings(),cssg.sortViews()},createStateView:function(a,b){var c=this,d=c.$viewsBlock,e=d.find(".view").eq(0).clone().removeClass(c.getStateViewClass(c.normalStateIndex)+" active_view").addClass(c.getStateViewClass(b)).attr("data-content",cssg.selector+":"+a).appendTo(d),f=e.find("iframe").parent();return e.find("iframe").remove(),f.append($("<iframe>")),e},getNewStateInd:function(){for(var a=this,b=enjoyCSS.points[a.currentEnjoyId],c=0;b[c];)c++;return c},isStateExist:function(a){var b=this,c=enjoyCSS.points[b.currentEnjoyId];for(var d in c)if(c[d].__state_name&&c[d].__state_name==a)return d;return!1},getStateIndexByName:function(a){var b=this,c=enjoyCSS.points[b.currentEnjoyId];for(var d in c)if(c[d].__state_name&&c[d].__state_name==a)return d;return!1},getStateIndexByPath:function(a){return a.split("|")[1]},updatePreviews:function(){var a=this;a.updatePreview(a.generateCode(a.currentEnjoyId,{browsers:a.defaultBrowsers,tab:0}))},changeStateCondition:function(a,b,c){var d=this,e=enjoyCSS.points[d.currentEnjoyId],f=d.isStateExist(a);!f&&b&&d.createState(a);var g=d.getStateIndexByName(a);g&&(e[g].status=b,d.hideStateView(g,b),d.updatePreview(d.generateCode(d.currentEnjoyId,{browsers:d.defaultBrowsers,tab:0}))),d.isStateSelected(g)&&!b&&(c&&c(0),d.selectState(d.normalStateIndex)),b&&d.selectState(g)},selectState:function(a){var b=this;$(".active_view").removeClass("active_view"),$("."+b.getStateViewClass(a)).addClass("active_view")},isStateSelected:function(a){var b=this;return $("."+b.getStateViewClass(a)).hasClass("active_view")},hideStateView:function(a,b){var c=this,d=$("#view_"+c.currentEnjoyId),e=d.find("."+c.getStateViewClass(a));b&&"false"!=b?e.show():e.hide()},applyTemplate:function(a){var b=this;enjoyCSS.points[b.currentEnjoyId]=fns.clone(a);var c=enjoyCSS.points[b.currentEnjoyId];cssg.clearCache(b.currentEnjoyId+"|"),b.statesCount=1;var d=b.$viewsBlock;
d.find(".state_view").not("."+b.getStateViewClass(0)).remove();for(var e in b.previewFrames)"0"!=e&&delete b.previewFrames[e];for(var e in c)if("__settings"!=e&&"0"!=e){var f=c[e],g=b.getStateViewClass(e);d.find("."+g).remove();var h=b.createStateView(f.__state_name,e),i=h.find("iframe").get(0);b.initPreviewFrame(e,i),b.statesCount++}b.updatePreview(b.generateCode(b.currentEnjoyId,{browsers:b.defaultBrowsers,tab:0})),b.selectState(b.normalStateIndex)},getTemplatesList:function(a){var b=this,c=[];for(var d in b.templates){var e=b.templates[d],f=!1;a.tags.length>0&&(f=!0,$.each(a.tags,function(a,b){-1!=e.tags.indexOf(b)&&(f=!1)})),a.search.length>0&&-1==e.name.indexOf(a.search)&&(f=!0),f||c.push(e)}return c=c.sort(function(a){return-1!=a.tags.indexOf("template")?-1:-1==a.tags.indexOf("template")?1:0})},removeTemplate:function(a){var b=this;delete b.templates[a]},getNodeTypeStateValue:function(a,b){var c=this,d=c.getSettings(),e=d.nodeTypeStates,f="true"===e[a][b]||e[a][b]===!0;return f},setNodeTypeStateValue:function(a,b,c){var d=this;enjoyCSS.points[d.currentEnjoyId].__settings.nodeTypeStates[a][b]=c},updatePreview:function(a){var b=this,c=b.getSettings(),d=c.nodeType;"block"==d&&(d="div"),"button"==d&&(d='input[type="button"]'),$.each(this.previewFrames,function(c,d){return 1*c>=b.statesCount?!1:($.each(d.doc.styleSheets,function(b,d){if(d.title=="style_gen_"+c){for(;d.cssRules.length;)d.deleteRule(0);a.css[c]&&a.css[c].map(function(a,b){d.insertRule(a,b)}),a.previewCss[c]&&a.previewCss[c].map(function(a,b){d.insertRule(a,b)})}}),void(a.html[c]&&a.html[c].map(function(a){if(d.addHtml.innerHTML!=a){if($(d.doc.head).find(".added_html").remove(),-1!==a.indexOf("script")){var b=$(a),c=b.attr("script-name");return void $.get("/fontscript/"+c,function(a){d.win.eval(a)},"text")}$(d.doc.head).append($(a).attr("class","added_html"))}})))})},getStateName:function(a){return enjoyCSS.points[this.currentEnjoyId][a].__state_name},get:function(a){if(a){var b=this.findByPath(a),c=b.obj[b.key];if(c)return c;var d=enjoyCSS.defaultStates[b.obj.__state_name];return d?d[b.key]:c}},getDefaultBgValue:function(a){return enjoyCSS.defaultBackgroundValues[a]},addBefore:function(a,b){return this.add(a,b,!0)},getColorPointFromObj:function(a){if(void 0!==a.length&&a.max){for(var b=0;b<a.length;b++)if("color"===a[b].type){var c=a[b];return a.splice(b,1),c}}else if(void 0===a.length&&"color"===a.type)return a;return!1},sortBackgroundPoints:function(a,b,c){var d=a.split("|_:")[0],e=-1!=a.indexOf("_settings");if(e)return!1;var f=this.findByPath(d),g=b;c&&(g=c);for(var h=f.obj[f.key],i=h.length-1;i>-1;i--)"color"===h[i].type&&f.obj[f.key].splice(i,1);h.push(g)},add:function(a,b,c,d){var e=this;if(a){var f,g,h=this.findByPath(a);-1!==a.indexOf("background")&&(f=e.getColorPointFromObj(h.obj[h.key]),g=e.getColorPointFromObj(b)),void 0===b.length&&(b=[b]);for(var i=0;i<b.length;i++)b[i]._=fns.randId();if(void 0===h.obj[h.key].length){if(d)for(var i=0;i<b.length;i++){var j=b[i];h.obj.splice(h.key+i+1,0,j)}else h.obj[h.key]=b[0];toReturn=b}else if(c)for(var i=0;i<b.length;i++){var j=b[i];h.obj[h.key].unshift(j)}else for(var i=0;i<b.length;i++){var j=b[i];d?h.obj[h.key].splice(h.key+i,0,j):h.obj[h.key].push(j)}return-1!==a.indexOf("background")&&(f||g)&&e.sortBackgroundPoints(a,f,g),this.onStyleChanged(a),b[0]}},remove:function(a){if(a){var b=this.findByPath(a);void 0===b.obj.length?delete b.obj[b.key]:b.obj.splice(b.key,1),this.onStyleChanged(a)}},change:function(a,b){var c=this;if(a){var d,e,f=this.findByPath(a);-1!==a.indexOf("background")&&f.obj[f.key]&&(d=!1,e=c.getColorPointFromObj(b));var g=void 0!==b.length;f.obj[f.key]||(f.obj[f.key]=!0);var h="string"==typeof b||void 0!==f.obj[f.key].length;if(("true"==f.obj[f.key]||"false"==f.obj[f.key])&&(h=!1),g&&!h){for(var i=0;i<b.length;i++)b[i]._=fns.randId();f.obj[f.key]=b[0];for(var i=1;i<b.length;i++)f.obj.splice(f.key+i,0,b[i])}else if(!g&&h)f.obj[f.key]=[b];else{var j=f.obj[f.key]._,k=fns.clone(b);k._=j,f.obj[f.key]=k}-1!=a.indexOf("background")&&(d||e)&&c.sortBackgroundPoints(a,d,e),this.onStyleChanged(a)}},swapPointsByIndex:function(a,b,c){var d=this.findByPath(a),e=d.obj[d.key],f=e[b];e.splice(b,1),e.splice(c,0,f),this.onStyleChanged(a)},resetToBaseStructure:function(a){cssg.setEnjoyId(a),enjoyCSS.points[a]={0:{},__settings:{}},this.__setDefaultPropertiesIfNotToCurrentPoint(),cssg.applyTemplate(enjoyCSS.points[a]),cssg.resetUndoRedo()},resetStateToState:function(a,b,c){$.each(enjoyCSS.points[a][c],function(c,d){"__"!==c.substring(0,2)&&(enjoyCSS.points[a][b][c]=fns.clone(d))}),$.each(ui.panels,function(){this.initState&&this.initState(b)})},reset:function(a){for(var b=this,c=0;c<a.length;c++){var d=a[c],e=b.getPathfromDefaultState(d);b.change(d,e)}},resetState:function(a){var b=this,c=fns.clone(enjoyCSS.defaultStates.normal),d=enjoyCSS.points[b.currentEnjoyId],e=d[a].__state_name,f=d[a].__state_pseudo;c.__state_name=e,c.__state_pseudo=f,c.status=!0,d[a]=c,cssg.clearCache(b.currentEnjoyId+"|"),b.updatePreview(b.generateCode(b.currentEnjoyId,{browsers:b.defaultBrowsers,tab:0}))},getPathfromDefaultState:function(a){for(var b=a.split("|"),c=enjoyCSS.defaultStates.normal,d=c,e=2;e<b.length;e++)d=d[b[e]];return fns.clone(d)},findByPath:function(a){var b=a.split("|"),c=b.length;if(!(3>c))for(var d,e=enjoyCSS.points,f=0;c>f;f++){var g=b[f].split("_:"),h=g[1];if(f+1===c)return h?(d=this.findPointIndexById(e,h),{obj:e,key:d}):{obj:e,key:b[f]};h?(d=this.findPointIndexById(e,h),e=e[d]):e=e[b[f]]}},findPointIndexById:function(a,b){for(var c=0;c<a.length;c++)if(a[c]._==b)return c},update:function(a){var b=this,c=a.split("|")[0];b.updatePreview(b.generateCode(c,{browsers:b.defaultBrowsers,tab:0}))},onStyleChanged:function(a){var b=this;b.clearCache(a),b.flagBlockUpdate?(clearTimeout(this.t2),this.t1=setTimeout(function(){b.flagBlockUpdate=!1},100),this.t2=setTimeout(function(){b.onStyleChanged(a),b.autosaver.changes()},101)):(b.update(a),$("body").trigger("stylechange",[a])),b.flagBlockUpdate=!0,b.onPointChangeTimerCallback(),!b.like_popup_timer},onPointChangeTimerCallback:function(a){var b=this;b.changedTimer&&clearTimeout(b.changedTimer);var c=!1;a&&(c=b.disableSettingsCallback),b.changedTimer=setTimeout(function(){b.pointChangeCallback&&!c&&(b.pointChangeCallback(),b.autosaver.changes()),b.changedTimer=!1},300)},codeArrToCodeString:function(a,b){var c=2===b.tab?"  ":"";a[0]=c+a[0];var d=a.join(c);return-1===d.indexOf("undefined")?d:""},getStatesCount:function(){var a=this;return a.statesCount},makeCSSRule:function(a,b,c){var d=this._tab,e=["before","after"],f=[];switch(arguments.length){case 2:c=arguments[1],b="";break;case 3:b="normal"===b?"":b}return f.push(a),b&&f.push(this._dd),e.contains(b)&&f.push(this._dd),f.push(b,this._sp,this._openBracket,this._br),f.push(c.map(function(a){return d+a}).join("")),f.push(this._closeBracket),f.push(this._br,this._br),f.join("")},makeCSSDeclaration:function(a,b){return Array.isArray(a)?this.makeCSSDeclaration.apply(this,a):[a,this._dd,this._sp,b,this._dq,this._br].join("")},pairArrToCodeArr:function(a,b){var c=this,d={css:[],html:[]},e="object"==typeof a[0],f="object"==typeof a[1];if(e||f){var g=c.getOptionSupporting(a[0].all||a[0],b.browsers);g.prefix.map(function(b){var g=e?a[0][b]:a[0],h=f?a[1][b]:a[1],i=g;"all"!=b&&(i=g.replace("-"+b+"-","")),d.css.push(c.makeCSSDeclaration(g,h))}),g.hasTrouble&&(d.comments={},g.partial.forEach(function(b){d.comments[b]||(d.comments[b]=[]),d.comments[b].push("Partial support "+(a[0].all||a[0]))}),g.notButHasSame.forEach(function(b){d.comments[b]||(d.comments[b]=[]),d.comments[b].push("Not support (but has polyfill) "+(a[0].all||a[0]))}),g.not.forEach(function(b){d.comments[b]||(d.comments[b]=[]),d.comments[b].push("Not support "+(a[0].all||a[0]))}))}else if("_html"==a[0])d.html.push(a[1]);else{var h=a[0],i=c.getNotDefaultValue(h,a[1]);b.hideDefaultRules&&c.isRuleDefault(i)||(b.hideDefaultRules&&(a[1]=i),d.css.push(c.makeCSSDeclaration(a)))}return d},getNotDefaultValue:function(a,b){if(cssg.defaultCssRules[a]){var c=cssg.defaultCssRules[a];if(["padding","margin","border-radius"].contains(a))return b===c?"":b;if(["background-clip","background-origin","background-position","background-repeat","background-size"].contains(a)){var d=b.split(", ").reduce(function(a,b){return a===b?a:!1});return d?d===c?"":d:b}if("string"==typeof c&&0===c.indexOf("--l|")){var e=c.replace("--l|","");c=cssg.defaultCssRules[e]}"string"==typeof c&&(c=[c]);for(var f=0;f<c.length;f++){var g=c[f];if(0==g&&-1!=b.search(/^0[%a-z]{1,2}/))b="";else{b=fns.normalizeCSSFunctionParams(b);var h=b.split(", "),i=[];$.each(h,function(a,b){var c=new RegExp("(^| )"+fns.escapeRegExp(g+"")+"( |$)","ig"),b=b.replace(c," ").replace(/ +/g," ").replace(/, /g,"");""!=b.replace(/ /g,"")&&i.push(b)}),b=i.join(", ")}}}return b.replace(/^ +/g,"").replace(/ +$/g,"")},isRuleDefault:function(a){return""==a.replace(/ /g,"").replace(/,/g,"")?!0:!1},getValueByPath:function(a){var b,c=enjoyCSS.points,d=c,e=0;for(a=this.splitPath(a,!0),b=a.pathParts,"__default"===a.pointId&&(b[1]="0");;){if(e===b.length-1)return d[b[e]];d=d[b[e++]]}},pathToCodeArr:function(a,b){var c=this,d={css:[],html:[],comments:{}},e=cssg.calcPair(a);return e.map(function(a){var e=c.pairArrToCodeArr(a,b);d.css=d.css.concat(e.css),d.html=d.html.concat(e.html),e.comments&&(d.comments[a[0].all||a[0]]=e.comments)}),d},pathToFullCode:function(a,b){return this.pathToCodeArr(a,b)},getStateNameByPath:function(a){var b=this.splitPath(a,!0),c=this.getValueByPath(this.joinPath(b.pointId,b.state));return c.__state_name},getRealStatesCount:function(){for(var a=this,b=0,c=enjoyCSS.points[a.currentEnjoyId],d=0;d<this.statesCount;d++)c[d].status!==!1&&b++;return b},preproccFunctions:{less:{"box-shadow":".box-shadow (@shadow: none) {\n  box-shadow: @shadow;\n  -moz-box-shadow: @shadow;\n  -webkit-box-shadow: @shadow;\n}\n","text-shadow":".text-shadow (@shadow: none) {\n  text-shadow: @shadow;\n  -moz-text-shadow: @shadow;\n  -webkit-text-shadow: @shadow;\n}\n","background-origin":".background-origin (@value: none) {\n  background-origin: @value;\n  -moz-background-origin: @value;\n  -webkit-background-origin: @value;\n}\n","background-clip":".background-clip (@value: none) {\n  background-clip: @value;\n  -moz-background-clip: @value;\n  -webkit-background-clip: @value;\n}\n","background-size":".background-size (@value: none) {\n  background-size: @value;\n  -moz-background-size: @value;\n  -webkit-background-size: @value;\n}\n","border-radius":".border-radius (@radius: 0px) {\n  border-radius: @radius;\n  -moz-border-radius: @radius;\n  -webkit-border-radius: @radius;\n}\n"}},getPreprocCode:function(a,b){a=a||"less";var c=this,d=c.generateCode(c.currentEnjoyId,b),e=d.css,f=e[0].join("\n").split("\n"),g=[],h=[],i=!1,j={};switch(a){case"less":j={"border-radius-top-left":!0,"border-radius-top-right":!0,"border-radius-bottom-left":!0,"border-radius-bottom-right":!0,opacity:!0,transition:!0,"box-sizing":!0,"box-shadow":!0};break;case"scss":j={background:!0,"background-clip":!0,"background-origin":!0,"background-size":!0,"border-radius":!0,"border-radius-top-left":!0,"border-radius-top-right":!0,"border-radius-bottom-left":!0,"border-radius-bottom-right":!0,opacity:!0,transition:!0,"box-sizing":!0,"text-shadow":!0,"box-shadow":!0,transform:!0,"transform-origin":!0}}if($.each(f,function(b,d){var e=!0,f=d.split(":"),h=f[0].replace("  ",""),k=f[1];k&&(k=k.replace(" ","").replace(";",""));var l=d;switch(h){case"background":i=!0;var m=!1;$.each(c.allBrArr,function(a,b){var b="-"+b+"-";-1!=d.indexOf(b)&&(m=!0)}),j[h]&&!m&&(l="  @include "+h+"("+k+")");break;case"background-clip":case"background-size":case"background-origin":case"border-radius":case"border-radius-top-left":case"border-radius-top-right":case"border-radius-bottom-left":case"border-radius-bottom-right":case"opacity":case"transition":case"box-sizing":case"box-shadow":case"text-shadow":case"transform":if(j[h])switch(a){case"less":i=!0,l="  ."+h+"("+k+")";break;case"scss":i=!0,l="  @include "+h+"("+k+")"}}$.each(c.allBrArr,function(a,b){var b="-"+b+"-";-1!=d.indexOf(b)&&j[h.replace(b,"")]&&(e=!1)}),l!=d&&(l+=";"),e&&g.push(l)}),i)switch(a){case"less":h.push('@import "YOUR_BOOTSTAP_MIXINS_PATH.less";\n');break;case"scss":h.push('@import "compass/css3";\n')}h=h.concat(g);var k=h.join("\n");return k},parentProperties:["perspective"],defaultPerspectiveRules:["perspective-origin: 50% 50%;\n","perspective: 0;\n"],generateCode:function(a,b){function c(a){return a=a.join(p._br),[""===a?"":p._br+a]}function d(a){return p.getOrderedPointStates(a).map(function(b){return p.makeCSSRule(p.selector,b,a[b])})}function e(a,b){for(var c=0;c<a.length;)-1!==a[c].indexOf(b)?a.splice(c,1):++c;return a}function f(){var a=q.concat(["normal"]);a.forEach(function(a){if(a in u){var b=u[a].normal,c=p.defaultCssRules[a||"normal"];Object.keys(c).forEach(function(a){e(b,p.makeCSSDeclaration(a,c[a]))})}})}function g(a){return a.filter(function(a){return""!==a})}function h(){var a=p.defaultCssRules.uniqueProperties,b=p.stateDependencies;l("classes").forEach(function(c){u.normal[c]=u[c].normal.filter(function(d){if(a.some(function(a){return-1!==d.indexOf(a)}))return!0;var e=u[b[c]]?u[b[c]]:u.normal;return!e.normal.contains(d)})})}function i(){l("elements").forEach(function(a){u.normal[a]=u[a].normal})}function j(a,b){var c={stateName:p.getStateNameByPath(a),html:[],css:[],comments:{}};return cssg.settings.standard.map(function(d){var e=p.pathToCodeArr(p.joinPath(a,d),b);c.html=c.html.concat(e.html),c.css=c.css.concat(e.css),c.comments=jQuery.extend(c.comments,e.comments)}),c}function k(){var c={html:{},css:{}},d=cssg.settings.boxForContentState.map(function(c){return p.pathToCodeArr(p.joinPath(a,0,c),b).css.join("")});return d.push(p.makeCSSDeclaration("color","rgba(0,0,0,0)")),Object.keys(p.settings.contentStateWrapperStyle).forEach(function(a){d.push(p.makeCSSDeclaration(a,p.settings.contentStateWrapperStyle[a]))}),l("elements").forEach(function(a){c.css[w[a]]=[p.makeCSSRule(p.pseudoNormalSelector,d)]}),c}function l(a){a=a||"both";var b,c=m();switch(a){case"both":b=q.concat(r);break;case"elements":b=q;break;case"classes":b=r}return b.filter(function(a){return c.contains(a)})}function m(){return Object.keys(u)}var n,o,p=this,q=this.PSEUDO_ELEMENTS,r=this.PSEUDO_CLASSES,s=enjoyCSS.points[p.currentEnjoyId],t={},u={},v={},w={};for(n=0;n<this.statesCount;++n)if(s[n].status!==!1){var x=j(this.joinPath(a,n),b);t[x.stateName]=g(x.html),u[x.stateName]={normal:x.css},v=$.extend(v,x.comments),w[x.stateName]=n}return o=k(),h(),f(),i(),m().forEach(function(a){var b=w[a];p.htmlArr[b]=c(t[a]),p.cssArr[b]=d(u[a])}),{html:p.htmlArr,css:p.cssArr,comments:{},previewCss:o.css,previewHtml:o.html}},getCurrentPointId:function(){return this.currentEnjoyId},getOrderedPointStates:function(a){var b=this.stateOrder;return Object.keys(a).sort(function(a,c){return b[a]>b[c]})},isContentState:function(a){var b=this,c=b.getStateName(a);return"after"==c||"before"==c},getNodeHtml:function(){var a="",b=cssg.getSettings(),c=b.className,d=b.text;switch(b.nodeType){case"input":a='<input class="'+c+'" placeholder="'+d+'" />';break;case"button":a='<input type="button" class="'+c+'" value="'+d+'" />';break;case"block":a='<div class="'+c+'">'+d+"</div>"}return a},addBrowserPrefix:function(a,b){return(b&&"all"!=b?this._m+b+this._m:"")+a},_pseudoStateString:function(a,b){return enjoyCSS.points[a][b].__state_pseudo},_isEq:function(a,b,c){for(var d=enjoyCSS.points[a][b][c[0]],e=1;e<c.length;e++){var f=enjoyCSS.points[a][b][c[e]];if("object"==typeof d&&"object"==typeof f){if($(d).not(f).get().length)return!1}else if(d!=f)return!1}return!0},sortGradients:function(a){a=fns.clone(a);for(var b=[];a.length;){for(var c=101,d=!1,e=0;e<a.length;e++)parseInt(a[e].pos,10)<c&&(c=parseInt(a[e].pos,10),d=e);b.push(a.splice(d,1)[0])}return 0!==parseInt(b[0].pos,10)&&b.unshift({pos:"0_%",color:b[0].color}),100!==parseInt(b[b.length-1].pos,10)&&b.push({pos:"100_%",color:b[b.length-1].color}),b},spaceJoin:function(a){return a.join(this._sp)},quoteJoin:function(a){return a.join(this._q+this._sp)},un:function(a,b,c){if("undefined"==typeof a)return"";"undefined"==typeof b&&(b=!1),"undefined"==typeof c&&(c=1);var d=["deg"],e=(a+"").split("_");return(e.length>1?"0"!==e[0]||d.contains(e[1])?e[0]*c+e[1]:e[0]:1*e[0]?e*c:e)+(b?"":" ")},kv:function(a,b){return b?a+this._dd+this._sp+b+this._dq+this._br:""},p2k:function(a){return a.split("|").join("-")},kvPointGradient:function(a,b){var c=this,d=1*a._scale.split("_")[0]/100||1;if(b&&"all"!==b&&a.angle){var e=a.angle.split("_"),f=90-e[0]+"_"+e[1];a.angle=f}var g=[];if(-1!==a.type.indexOf("linear"))return $.each(a.points,function(a,b){g.push(c.un(c.rgba2cssValue(b.color))+c.un(b.pos,!0,d))}),c.addBrowserPrefix(a.type+"("+c.un(a.angle,!0)+c._q+c._sp+g.join(c._q+c._sp)+")",b);if(-1!==a.type.indexOf("radial")){$.each(a.points,function(a,b){g.push(c.un(c.rgba2cssValue(b.color))+c.un(b.pos,!0,d))});var h,i,j,k=cssg.parser.initial,l=[];return h=[],a.shape!==k.radialGradientShape&&h.push(a.shape),a.size!==k.radialGradientSize&&h.push(a.size),i=h.join(this._sp),h=[],(a.posX!==a.posY||a.posX!==k.radialGradientPosition)&&(h.push(this.un(a.posX,!0)),h.push(this.un(a.posY,!0)),j=h.join(this._sp)),"all"===b?(h=[],i&&h.push(i),j&&(h.push("at"),h.push(j)),h.length&&l.push(h.join(this._sp))):(j&&l.push(j),i&&l.push(i)),l.push(g.join(c._q+c._sp)),c.addBrowserPrefix(a.type+"("+l.join(this._q+this._sp)+")",b)}},kvPointBackgroundRepeat:function(a){var b=a["background-repeat"];return this.un(b,!0)},kvPointBackgroundOrigin:function(a){var b=a["background-origin"];return this.un(b,!0)},kvPointBackgroundClip:function(a){var b=a["background-clip"];return this.un(b,!0)},kvPointBackgroundSize:function(a){var b=a["background-size-x"],c=a["background-size-y"];return"cover"==b||"cover"==c?"cover":"contain"==b||"contain"==c?"contain":c===!1?this.un(b,!0):this.un(b)+this.un(c,!0)},kvPointBackgroundPosition:function(a){var b=a["background-position-x"],c=a["background-position-y"];return c===!1?this.un(b,!0):this.un(b)+this.un(c,!0)},kvPointBoxShadow:function(a){return this.un(a.x)+this.un(a.y)+this.un(a.blur)+this.un(a.spread)+this.un(this.rgba2cssValue(a.color))+this.un("inset"==a.type?"inset":"",!0)},kvPointTextShadow:function(a){return this.un(a.x)+this.un(a.y)+this.un(a.blur)+this.un(this.rgba2cssValue(a.color))},kvPointTransition:function(a){return this.un(a.property)+this.un(a.duration)+(0===a.delay.indexOf("0_")?this.un(fns.arrToCBStr(a.timing),!0):this.un(fns.arrToCBStr(a.timing))+this.un(a.delay,!0))},kvFontFamily:function(a){var b=this;if("defaults"!==a.type)return'"'+a.family+'", Helvetica, sans-serif';for(var c in b.defaultFonts)if(b.defaultFonts[c].family===a.family)return b.defaultFonts[c].css},kvTransformProperty:function(a,b){var c=this,d=[];["x","y","z"].map(function(e){switch(b){case"rotate":if(0==a[e])return;break;case"scale":if(1==a[e])return}1*(a[e]+"").split("_")[0]&&d.push(b+e.toUpperCase()+"("+c.un(a[e],!0)+")")});var e=d.join(" ");return""==e?"":e},kvTransformOrigin:function(a){var b=this,c=[];return["x","y","z"].map(function(d){c.push(b.un(a[d],!0))}),c.join(" ")},kvPerspectiveOrigin:function(a){var b=this,c=[];return["x","y"].map(function(d){c.push(b.un(a[d],!0))}),c.join(" ")},kvPerspective:function(a){var b=this,c=[];return["z"].map(function(d){c.push(b.un(a[d],!0))}),c.join(" ")},rgba2cssValue:function(a){return a},url2cssValue:function(a){return 0===a.indexOf("/bg-img")&&(a=location.origin+a),'url("'+a+'")'},getPrefixedObj:function(a,b){var c=this,d={};return b.map(function(b){d[b]=c.addBrowserPrefix(a,b)}),d},setNodeType:function(a,b){var c=this,d=enjoyCSS.points[c.currentEnjoyId],e={};$.each(b,function(a,b){e[b.val]=!0});for(var f=1;f<c.statesCount;f++)e[d[f].__state_name]||(d[f].status=!1,c.hideStateView(f)),c.hideStateView(f,d[f].status);enjoyCSS.points[c.currentEnjoyId].__settings.nodeType=a,c.applyPointSettings()},setHtmlText:function(a){var b=this;enjoyCSS.points[b.currentEnjoyId].__settings.text=a,b.applyPointSettings()},setClassName:function(a){var b=this;enjoyCSS.points[b.currentEnjoyId].__settings.className=a,b.applyPointSettings()},setCssContent:function(a,b){var c=this,d=c.getStateIndexByName(b),e=enjoyCSS.points[c.currentEnjoyId];e[d].content='"'+a+'"',c.applyPointSettings()},getCssContent:function(a){var b=this,c=b.getStateIndexByName(a),d=enjoyCSS.points[b.currentEnjoyId];if(!d[c]||!d[c].content)return"";var e=d[c].content;return e.replace(/"/g,"")},setHideDefault:function(a){var b=this;enjoyCSS.points[b.currentEnjoyId].__settings.hideDefault=a},setPreviewBackgroundImage:function(a){enjoyCSS.points[this.currentEnjoyId].__settings.background.url=a,this.updatePreviewBackgroundStyle(a)},getTypeTemplate:function(a){switch(a){case"input":return'<input type="text" class="__class__" placeholder="__value__" />';case"button":return'<input type="button" class="__class__" value="__value__" />';case"block":return'<div class="__class__">__value__</div>'}},__updateFrameHeight:function(a){var b=ui.layout,c=b.views[b.currentState],d=a.getBoundingClientRect();d.height&&(c.style.height=d.height+200+"px")},refreshBackground:function(){this.updatePreviewBackgroundStyle(this.backgroundPreviewCodeString()),this.onPointChangeTimerCallback(!0)},backgroundPreviewCodeString:function(){var a=this,b={tab:0},c=a.calcPair("",b,{data:a.getCurrentPoint().__settings.background,uPath:"background|points|_:",sPath:"123"}),d=[];return b.browsers=a.defaultBrowsers,$.each(c,function(c,e){d=d.concat(a.pairArrToCodeArr(e,b).css)}),this.codeArrToCodeString(d,b)},updatePreviewBackgroundStyle:function(a){this.$previewBackgroundStyle.text(".state_view {"+a+"}")},applyPointSettings:function(){var a=this,b=enjoyCSS.points[a.currentEnjoyId].__settings,c=b.nodeType,d=b.text,e=b.className,f=a.getTypeTemplate(c),g=f.replace("__class__",e).replace("__value__",d);$.each(this.previewFrames,function(a,b){var c=b.$button.parent();b.$button.remove(),b.$button=$(g),c.append(b.$button),b.button=b.$button.get(0)});var h=enjoyCSS.points[a.currentEnjoyId];$.each(a.previewFrames,function(b,c){var e=a.getStateName(b),f=d;a.isContentState(b)&&(f=cssg.getCssContent(e),c.wrapper.innerHTML=d,$(c.wrapper).append(c.button)),c.button.innerHTML=f});var i=a.selector;switch(a.selector="."+e,a.updatePreview(a.generateCode(a.currentEnjoyId,{browsers:a.defaultBrowsers,tab:0})),$.each(this.previewFrames,function(b,c){c.$button.removeClass(i.replace(".","")).addClass(e);var d=a.getStatePreviewTitle(b);$("."+a.getStateViewClass(b)).attr("data-content",d)}),b.nodeType){case"block":}for(var h=enjoyCSS.points[a.currentEnjoyId],j=1;j<a.statesCount;j++)a.hideStateView(j,h[j].status);a.onPointChangeTimerCallback(!0)},getStatePreviewTitle:function(a){var b=this,c=b.getStateName(a),d=cssg.selector+":"+c;return 0==a&&(d=cssg.selector),d},getSettings:function(){var a=this,b=fns.clone(enjoyCSS.points[a.currentEnjoyId].__settings);return b.states=a.getStateConditions(),b},getStateConditions:function(){for(var a=this,b=enjoyCSS.points[a.currentEnjoyId],c={},d=1;d<a.statesCount;d++)c[b[d].__state_name]=b[d].status||!1;return c},getStatePath:function(a){var b=this;return b.currentEnjoyId+"|"+a}},cssg.autosaver={__autosaveTimer:-1,__AUTOSAVE_INTERVAL:1e3,saveCurrentPoint:function(){cssg.storage.set(enjoyCSS.autosavePointId,cssg.getCurrentPoint()),this.hasUnsavedChanges=!1},restorePoint:function(){enjoyCSS.points[enjoyCSS.baseId]=cssg.storage.get(enjoyCSS.autosavePointId)||cssg.getDefaultPoint()},changes:function(){this.notAcviteLastFewSeconds=!1,this.hasUnsavedChanges=!0},init:function(){var a=this;router.unique_id===enjoyCSS.baseId&&a.restorePoint(),a.__autosaveTimer=setInterval(function(){router.unique_id===enjoyCSS.baseId&&(a.notAcviteLastFewSeconds?a.hasUnsavedChanges&&a.saveCurrentPoint():a.notAcviteLastFewSeconds=!0)},a.__AUTOSAVE_INTERVAL)}},cssg.storage=function(){var a="EnjoyCSS",b=function(){var b=JSON.parse(localStorage.getItem(a));return null===b?{}:b}(),c=function(){localStorage.setItem(a,JSON.stringify(b))};return{set:function(a,d){b[a]=d,c()},get:function(a){return this.has(a)?b[a]:null},erase:function(a){this.has(a)&&(delete b[a],c())},has:function(a){return a in b},clear:function(){b={},c()}}}(),cssg.error={errors:[],has:function(){return!!this.errors.length},add:function(a){a instanceof Error||(a=new Error(a)),this.errors.push(a)},clear:function(){this.errors=[]},to_console:function(){this.has()}},cssg.cache={};var forSavePath=function(a){var b=a.split("_:");return b[0]+(b[1]?"_:"+b[1].split("|")[0]:"")},unifyPath=function(a){var b=cssg.shortPath(a),c=b.split("_:");return c[0]+(c[1]?"_:":"")},basePath=function(a){var b=a.split("|");return b[0]+"|"+b[1]},arrowsOptimizer=function(a){return a[0]===a[1]&&a[1]===a[2]&&a[2]===a[3]?a.splice(1):a[1]===a[3]&&(a[0]===a[2]?a.splice(2,2):a.splice(3,1)),a};cssg.shortPath=function(a){var b=a.split("|");return b.splice(0,2),b.join("|")},cssg.calcPair=function(a,b,c){var d,e,f,g,h=this,i=[],j={},k=[],l=this.get(a),m=unifyPath(a),n=forSavePath(a);switch(c&&(l=c.data,m=c.uPath,n=c.sPath),b||(b={}),b.browsers||(b.browsers=this.allBrArr),m){case"width":case"height":case"overflow":case"display":case"float":case"z-index":case"position":case"content":case"cursor":case"opacity":case"outline":i=[[m,this.un(l,!0)]];break;case"box-sizing":b.browsers.map(function(a){j[a]=h.addBrowserPrefix("box-sizing",a)}),i=[[j,this.un(l,!0)]];break;case"border|top|width":case"border|right|width":case"border|bottom|width":case"border|left|width":case"border|top|style":case"border|right|style":case"border|bottom|style":case"border|left|style":case"border|top|color":case"border|right|color":case"border|bottom|color":case"border|left|color":case"border-radius|top|left|vertical":case"border-radius|top|left|horizontal":case"border-radius|top|right|vertical":case"border-radius|top|right|horizontal":case"border-radius|bottom|left|vertical":case"border-radius|bottom|left|horizontal":case"border-radius|bottom|right|vertical":case"border-radius|bottom|right|horizontal":case"padding|top":case"padding|right":case"padding|bottom":case"padding|left":case"margin|top":case"margin|right":case"margin|bottom":case"margin|left":i=[[this.p2k(m),this.un(l,!0)]];break;case"positioning|top":case"positioning|right":case"positioning|bottom":case"positioning|left":i=[[m.split("|")[1],this.un(l,!0)]];break;case"text|color":case"text|line-height":case"text|font-style":case"text|font-size":case"text|font-variant":case"text|font-weight":case"text|text-decoration":case"text|text-align":case"text|text-transform":case"text|text-indent":case"text|letter-spacing":case"text|white-space":case"text|word-spacing":case"text|word-wrap":i=[[m.split("text|")[1],this.un(l,!0)]];break;case"text|text-overflow":i=[[h.getPrefixedObj(m.split("text|")[1],b.browsers),this.un(l,!0)]];break;case"text|font-family":var o="";switch(l.type){case"degaults":break;case"google":o='<link async href="http://fonts.googleapis.com/css?family='+encodeURI(l.family)+'" data-generated="http://enjoycss.com" rel="stylesheet" type="text/css"/>';break;case"adobe":l.family=l.family.replace(/ /gi,"-").toLowerCase(),o='<script type="text/javascript" script-name="'+encodeURI(l.family)+'" src="http://use.edgefonts.net/'+encodeURI(l.family)+'.js"></script>'}i=[["font-family",cssg.kvFontFamily(l)],["_html",o]];break;case"text":var p=["font-style","font-variant","font-weight","font-size","line-height","font-family"],q=[];p.map(function(b){var c=h.getPair(a+"|"+b),d=c[0];c[1]&&"_html"==c[1][0]&&i.push(["_html",c[1][1]]),q.push(d[1])});for(var r=!1,s=0;3>s;s++)if("normal"!=q[s]){r=!0;break}var t="normal"+this._sp;r&&(t=q[0]+this._sp+q[1]+this._sp+q[2]+this._sp);var u=t+q[3]+"/"+q[4]+this._sp+q[5];i.push(["font",u]);var v=["color","text-decoration","text-align","text-transform","text-indent","text-overflow","letter-spacing","white-space","word-spacing","word-wrap"];v.map(function(b){var c=h.getPair(a+"|"+b)[0];i.push(c)});break;case"box":var v=["width","height","padding","margin","positioning|top","positioning|right","positioning|bottom","positioning|left","overflow","display","float","z-index","box-sizing","position","opacity","cursor"];v.map(function(b){var c=h.getPair(a.replace("box","")+b)[0];i.push(c)});break;case"border|top":case"border|right":case"border|bottom":case"border|left":var w=h.getPair(a+"|width")[0][1],x=h.getPair(a+"|style")[0][1],y=fns.normalizeCSSFunctionParams(h.getPair(a+"|color")[0][1]);i=[[this.p2k(m),w+this._sp+x+this._sp+y]];break;case"border":!function(){var b,c=h.getValueByPath(a),d=function(){for(var a=[],b=[c[0][1],c[1][1],c[2][1],c[3][1]],d={equalCount:0,unique:null,diff:null},e=0;4>e;++e)for(var f=e+1;4>f;++f)a.push(b[e]===b[f]),b[e]===b[f]&&d.equalCount++;switch(d.equalCount){case 3:if(a[0]||a[1]){for(var g=0;3>g;++g)if(!a[g]){e=g+1;break}}else e=0;d.unique=c[3===e?e-1:e+1],d.diff=[c[e]];break;case 1:var h=[[2,3,0],[1,3,0],[1,2,0],[0,3,1],[0,2,1],[0,1,2]];a.forEach(function(a,b){var e=h[b];a&&(d.diff=[c[e[0]],c[e[1]]],d.unique=c[e[2]])})}return d},e=function(a,b){var c=a.split(" "),d=b.split(" "),e=["width","style","color"],f={diff:[],differenceCount:0};return c.forEach(function(a,b){a!==d[b]&&(f.diff=[e[b],d[b]],f.differenceCount++)}),f};if(h.isDefaultValueByPath(a))i=[[m,"none"]];else switch(c=[h.getPair(a+"|top")[0],h.getPair(a+"|right")[0],h.getPair(a+"|bottom")[0],h.getPair(a+"|left")[0]],b=d(),b.equalCount){case 6:i=[[m,c[0][1]]];break;case 3:case 1:i=[[m,b.unique[1]]],b.diff.forEach(function(a){var c=e(b.unique[1],a[1]);1===c.differenceCount&&(a=[a[0]+"-"+c.diff[0],c.diff[1]]),i.push(a)});break;case 0:case 2:i=c}}();break;case"border-radius|top|left":case"border-radius|top|right":case"border-radius|bottom|left":case"border-radius|bottom|right":var z,A=h.getPair(a+"|vertical")[0][1],B=h.getPair(a+"|horizontal")[0][1];b.browsers.map(function(a){j[a]="moz"==a?h.addBrowserPrefix(h.p2k(m).replace("top-","top").replace("bottom-","bottom"),a):h.addBrowserPrefix(h.p2k(m).replace("-radius","")+"-radius",a)}),z=A===B||"-"===A?B:B+" "+A,i=[[j,z]];break;case"border-radius":!function(c){var d=[],e=[],f=!0;[h.getPair(a+"|top|left")[0],h.getPair(a+"|top|right")[0],h.getPair(a+"|bottom|right")[0],h.getPair(a+"|bottom|left")[0]].forEach(function(a){var b=a[1].split(c._sp);d.push(b[0]),b[1]?(e.push(b[1]),b[0]!==b[1]&&(f=!1)):e.push(b[0])}),arrowsOptimizer(d),d=d.join(c._sp),f?e="":(arrowsOptimizer(e),e=" / "+e.join(c._sp)),i=[[h.getPrefixedObj("border-radius",b.browsers),d+e]]}(this);break;case"padding":case"margin":i=[[m,arrowsOptimizer([h.getPair(a+"|top")[0][1],h.getPair(a+"|right")[0][1],h.getPair(a+"|bottom")[0][1],h.getPair(a+"|left")[0][1]]).join(this._sp)]];break;case"positioning":d=h.getPair(a+"|top")[0],g=h.getPair(a+"|right")[0],e=h.getPair(a+"|bottom")[0],f=h.getPair(a+"|left")[0],i=[d,g,e,f];break;case"background|points":var C=!1,D=[],E=[],F=[],G=[],H=[],I=[];$.each(l,function(b,c){if(!c._inactive){var d=h.getPair(a+"|_:"+c._);d[0]&&D.push(d[0][1]),d[1]&&E.push(d[1][1]),d[2]&&F.push(d[2][1]),d[3]&&G.push(d[3][1]),d[4]&&H.push(d[4][1]),d[5]&&I.push(d[5][1]),"object"==typeof d[0][1]&&(C=!0)}}),C?(b.browsers.map(function(a){j[a]=[],D.map(function(b){j[a].push(b[a]||b)}),j[a]=h.quoteJoin(j[a])}),i=[["background",j]]):(J=h.quoteJoin(D),i=[["background",J?J:"none"]]),G.allValuesSame()&&(F.allValuesSame()&&(F=[F[0]]),E.allValuesSame()&&(E=[E[0]]),G.allValuesSame()&&(G=[G[0]]),H.allValuesSame()&&(H=[H[0]]),I.allValuesSame()&&(I=[I[0]])),E[0]&&i.push(["background-repeat",h.quoteJoin(E)]),F[0]&&i.push(["background-position",h.quoteJoin(F)]),G[0]&&i.push([h.getPrefixedObj("background-origin",b.browsers),h.quoteJoin(G)]),H[0]&&i.push([h.getPrefixedObj("background-clip",b.browsers),h.quoteJoin(H)]),I[0]&&i.push([h.getPrefixedObj("background-size",b.browsers),h.quoteJoin(I)]);break;case"background|points|_:":!l.type,-1!==l.type.indexOf("gradient")?(b.browsers.map(function(a){j[a]=h.kvPointGradient(l,a)}),i=[["background-image",j],["background-repeat",h.kvPointBackgroundRepeat(l)],["background-position",h.kvPointBackgroundPosition(l)],[h.getPrefixedObj("background-origin",b.browsers),h.kvPointBackgroundOrigin(l)],[h.getPrefixedObj("background-clip",b.browsers),h.kvPointBackgroundClip(l)],[h.getPrefixedObj("background-size",b.browsers),h.kvPointBackgroundSize(l)]]):"image"==l.type?i=[["background-image",h.url2cssValue(l.url)],["background-repeat",h.kvPointBackgroundRepeat(l)],["background-position",h.kvPointBackgroundPosition(l)],[h.getPrefixedObj("background-origin",b.browsers),h.kvPointBackgroundOrigin(l)],[h.getPrefixedObj("background-clip",b.browsers),h.kvPointBackgroundClip(l)],[h.getPrefixedObj("background-size",b.browsers),h.kvPointBackgroundSize(l)]]:fns.isColorStr(l.color)&&(i=[["background-color",h.rgba2cssValue(l.color)]]);
break;case"box-shadow|points":$.each(l,function(b,c){c._inactive||k.push(h.getPair(a+"|_:"+c._)[0][1])}),b.browsers.map(function(a){j[a]=h.addBrowserPrefix("box-shadow",a)});var J=h.quoteJoin(k);i=[[j,J?J:"none"]];break;case"box-shadow|points|_:":var K=h.kvPointBoxShadow(l);b.browsers.map(function(a){j[a]=h.addBrowserPrefix("box-shadow",a)}),i=[[j,K]];break;case"text-shadow|points":$.each(l,function(b,c){c._inactive||k.push(h.getPair(a+"|_:"+c._)[0][1])}),b.browsers.map(function(a){j[a]=h.addBrowserPrefix("text-shadow",a)});var J=h.quoteJoin(k);i=[[j,J?J:"none"]];break;case"text-shadow|points|_:":var K=h.kvPointTextShadow(l);b.browsers.map(function(a){j[a]=h.addBrowserPrefix("text-shadow",a)}),i=[[j,K]];break;case"transition|points":$.each(l,function(b,c){c._inactive||k.push(h.getPair(a+"|_:"+c._)[0][1])}),b.browsers.map(function(a){j[a]=h.addBrowserPrefix("transition",a)});var J=h.quoteJoin(k);i=[[j,J?J:"none"]];break;case"transition|points|_:":var K=h.kvPointTransition(l);b.browsers.map(function(a){j[a]=h.addBrowserPrefix("transition",a)}),i=[[j,K]];break;case"transform":var L=h.getPair(a+"|rotate")[0],M=h.getPair(a+"|scale")[0],N=h.getPair(a+"|translate")[0],O=h.getPair(a+"|skew")[0],P=h.getPair(a+"|origin")[0],Q=[L[1],M[1],N[1],O[1]];""==Q.join("")&&(Q=["none"]),i=[[h.getPrefixedObj("transform",b.browsers),Q.join(" ")],[h.getPrefixedObj("transform-origin",b.browsers),P[1]]];break;case"transform|rotate":case"transform|scale":case"transform|translate":case"transform|skew":var R=m.split("transform|")[1];K=h.kvTransformProperty(l,R),i=[[h.getPrefixedObj("transform",b.browsers),K]];break;case"transform|origin":K=h.kvTransformOrigin(l),i=[[h.getPrefixedObj("transform-origin",b.browsers),K]];break;case"transform|perspective-origin":K=h.kvPerspectiveOrigin(l),i=[[h.getPrefixedObj("perspective-origin",b.browsers),K]];break;case"transform|perspective":K=h.kvPerspective(l),i=[[h.getPrefixedObj("perspective",b.browsers),K]]}return!i[0],cssg.cache[n]=i,i},cssg.getPair=function(a){return cssg.cache[a]?cssg.cache[a]:this.calcPair(a)},cssg.clearCache=function(a){var b=cssg.shortPath(a),c=basePath(a),d=b.split("|"),e=c;d.map(function(a){e+="|"+a,delete cssg.cache[e]});for(var f in cssg.cache)0==f.indexOf(a)&&delete cssg.cache[f]},cssg.settings={standard:["display","box-sizing","float","z-index","width","height","position","content","cursor","opacity","positioning","margin","padding","overflow","outline","border","border-radius","text","background|points","box-shadow|points","text-shadow|points","transition|points","transform"],boxForContentState:["display","box-sizing","float","z-index","width","height","position","margin","padding","overflow","positioning","border-radius","text","transform"],contentStateWrapperStyle:{border:"1px dashed red"}},cssg.getOptionSupporting=function(a,b){var c=window.caniuse.data[a],d={hasTrouble:!1,not:[],notButHasSame:[],prefix:[],partial:[],full:[]};return $.each(b,function(a,b){var e,f;if(c&&c[a]&&c[a][b]){if(f=c[a][b],e=cssg.defaultBrowserProps[a].prefix,-1!==f.indexOf("n"))return void d.not.push(a);if(-1!==f.indexOf("p"))return void d.notButHasSame.push(a);if(-1!==f.indexOf("x")&&-1===d.prefix.indexOf(e)&&d.prefix.push(e),-1!==f.indexOf("a"))return void d.partial.push(a);d.full.push(a)}}),d.hasTrouble=d.full.length!==Object.keys(b).length,d.prefix.push("all"),d},cssg.clipboard={},cssg.copyState=function(a){var b=this,c=enjoyCSS.points[b.currentEnjoyId],d=fns.clone(c[a]);cssg.clipboard.state_data=d},cssg.pasteState=function(a,b){var c=this,d=enjoyCSS.points[c.currentEnjoyId],e=d[a].__state_name,f=d[a].__state_pseudo;cssg.clipboard.state_data.__state_name=e,cssg.clipboard.state_data.__state_pseudo=f,cssg.clipboard.state_data.status=!0,enjoyCSS.points[c.currentEnjoyId][a]=fns.clone(cssg.clipboard.state_data),cssg.clearCache(c.currentEnjoyId+"|"),c.updatePreview(c.generateCode(c.currentEnjoyId,{browsers:c.defaultBrowsers,tab:0})),b&&b()},cssg.copyPathData=function(a,b){var c=this,d=c.getClipboardTypeByPath(a);if(b){c.clipboard[d]={};for(var e=0;e<b.length;e++){var f=cssg.shortPath(b[e]);c.clipboard[d][f]=fns.clone(c.get(b[e]))}}else c.clipboard[d]=fns.clone(c.get(a)),c.clipboard[c.getCopyTypePropertyName(d)]=c.getTargetDataType(a)},cssg.getTargetDataType=function(a){var b=-1!=a.indexOf("|_:")?"single":"all";return b},cssg.getCopyTypePropertyName=function(a){return a+"_type"},cssg.getSourceDataType=function(a){var b=this;return b.clipboard[b.getCopyTypePropertyName(a)]},cssg.pastePathData=function(a,b,c,d){var e=this,f=e.getClipboardTypeByPath(a),g=fns.clone(e.clipboard[f]);if(c)for(var h=0;h<c.length;h++){var i=cssg.shortPath(c[h]),g=e.clipboard[f][i];e.change(c[h],g)}else switch(d){case"after_all":e.add(a,g,!1);break;case"after_current":e.add(a,g,!1,!0);break;case"replace_all":e.change(a,g);break;case"replace_current":e.change(a,g);break;default:e.change(a,g)}b&&b()},cssg.getClipboardTypeByPath=function(a){var b="",c=a.split("|"),d=c[2];return"transform"==d&&(d+="|"+c[3]),d+b},cssg.getPathTypeByPath=function(a){return a.split("|")[2]},cssg.hasPasteData=function(a,b){var c=this;if(b)return cssg.clipboard.state_data?!0:!1;var d=c.getClipboardTypeByPath(a);return c.clipboard[d]?!0:!1},cssg.defaultCssRules={"background-position":"0 0","background-size":"auto auto","background-repeat":"repeat","background-clip":"border-box","background-origin":"padding-box",border:["rgba(0,0,0,1)","black"],"border-color":["black","rgba(0,0,0,1)"],"border-left":"--l|border","border-left-color":"--l|border-color","border-right":"--l|border","border-right-color":"--l|border-color","border-top":"--l|border","border-top-color":"--l|border-color","border-bottom":"--l|border","border-bottom-color":"--l|border-color",outline:"none",bottom:["auto"],top:"--l|bottom",left:"--l|bottom",right:"--l|bottom","text-align":"left","text-decoration":"none","text-indent":"0","text-justify":"auto","text-outline":"none","text-overflow":"clip","text-transform":"none","vertical-align":"baseline","white-space":"normal","letter-spacing":["normal","0"],"word-spacing":["normal","0"],"word-break":"normal","word-wrap":"normal","line-height":"normal","font-size":"16_px",transform:["none","scale(1)","scaleX(1)","scaleY(1)","scaleZ(1)"],"transform-origin":"50% 50% 0","transform-style":"flat",transition:"all 0 ease 0"},cssg.defaultCssRules.uniqueProperties=["background-position","background-size","background-repeat","background-clip","background-origin"],cssg.defaultCssRules.before=cssg.defaultCssRules.after={margin:"0",padding:"0","border-radius":"0",height:"auto",width:"auto",display:"block",overflow:"visible","float":"none","z-index":"auto",cursor:"default",opacity:"1",position:"static",color:["black","#000000","rgba(0,0,0,1)"],content:["","normal"],background:"none","box-shadow":"none",transform:"none","transform-origin":"50% 50% 0","transform-style":"flat",transition:"none"},cssg.defaultCssRules.normal=fns.clone(cssg.defaultCssRules.before),cssg.defaultCssRules.normal["text-shadow"]="none",cssg.makeTemplatePreview=function(a,b){var c="/previews/"+b.id+"_"+b.revision+".html",d=$('<iframe class="preview_frame">').load(function(){d.contentWindow.centerPreview()}).attr("src",c).appendTo(a).get(0)},cssg.getCurrentTemplate=function(){var a=this,b={};b.point=fns.clone(enjoyCSS.points[a.currentEnjoyId]);var c=a.generateCode(a.currentEnjoyId,{browsers:a.defaultBrowsers,tab:0});return c.css[0].push(".element {"+cssg.backgroundPreviewCodeString()+"}"),b.code={css:c.css[0],html:[cssg.getNodeHtml()].concat(c.html[0])},b},cssg.undoStack=[],cssg.redoStack=[],cssg.canSaveUndo=!1,cssg.saveToStack=function(){},cssg.saveToUndo=function(){var a=this;if(a.canSaveUndo){a.redoStack=[];var b=fns.clone(enjoyCSS.points[a.currentEnjoyId]);a.undoStack.push(b),a.undoStack.length>1?a.hasChangesAfterSave=!0:a.hasChangesAfterSave-!1}},cssg.undo=function(){var a=this,b=fns.clone(a.undoStack.pop());a.redoStack.push(b),a.applyTemplate(fns.clone(a.undoStack[a.undoStack.length-1])),a.updatePreview(a.generateCode(a.currentEnjoyId,{browsers:a.defaultBrowsers,tab:0})),a.refreshBackground()},cssg.redo=function(){var a=this,b=fns.clone(a.redoStack.pop());a.undoStack.push(b),a.applyTemplate(fns.clone(b)),a.updatePreview(a.generateCode(a.currentEnjoyId,{browsers:a.defaultBrowsers,tab:0})),a.refreshBackground()},cssg.resetUndoRedo=function(){var a=this;a.undoStack=[],a.redoStack=[]},cssg.parser={SUPPORTED_PSEUDO:["active","hover","focus","before","after"],NOT_SUPPORTED_PROPERTY_VALUES:["inherit"],map:{content:"",display:"","float":"",zIndex:"z-index",position:"",boxSizing:"box-sizing",cursor:"",height:"",width:"",outline:"",opacity:"",overflowX:"[cache].overflowX",overflowY:"overflow",fontFamily:"text.font-family",fontSize:"text.font-size",lineHeight:"text.line-height",color:"text.color",fontWeight:"text.font-weight",fontStyle:"text.font-style",fontVariant:"text.font-variant",textDecoration:"text.text-decoration",textTransform:"text.text-transform",textAlign:"text.text-align",textIndent:"text.text-indent",textOverflow:"text.text-overflow",letterSpacing:"text.letter-spacing",wordSpacing:"text.word-spacing",whiteSpace:"text.white-space",textShadow:"text-shadow.points",boxShadow:"box-shadow.points",top:"positioning.top",right:"positioning.right",bottom:"positioning.bottom",left:"positioning.left",marginBottom:"margin.bottom",marginLeft:"margin.left",marginRight:"margin.right",marginTop:"margin.top",paddingBottom:"padding.bottom",paddingLeft:"padding.left",paddingRight:"padding.right",paddingTop:"padding.top",borderBottomColor:"border.bottom.color",borderBottomStyle:"border.bottom.style",borderBottomWidth:"border.bottom.width",borderLeftColor:"border.left.color",borderLeftStyle:"border.left.style",borderLeftWidth:"border.left.width",borderRightColor:"border.right.color",borderRightStyle:"border.right.style",borderRightWidth:"border.right.width",borderTopColor:"border.top.color",borderTopStyle:"border.top.style",borderTopWidth:"border.top.width",borderBottomLeftRadius:"border-radius.bottom.left",borderBottomRightRadius:"border-radius.bottom.right",borderTopLeftRadius:"border-radius.top.left",borderTopRightRadius:"border-radius.top.right",backgroundClip:"[cache].backgroundClip.points[].background-clip",backgroundColor:"[cache].backgroundColor",backgroundOrigin:"[cache].backgroundOrigin.points[].background-origin",backgroundPosition:"",backgroundPositionX:"[cache].backgroundPositionX.points[].background-position-x",backgroundPositionY:"[cache].backgroundPositionY.points[].background-position-y",backgroundRepeat:"[cache].backgroundRepeat.points[].background-repeat",backgroundRepeatX:"[cache].backgroundRepeatX",backgroundRepeatY:"[cache].backgroundRepeat.points[].background-repeat",backgroundSize:"[packed][cache].backgroundSize.points[]",backgroundImage:"[packed][cache].backgroundImage.points[]",background:"background.points",transitionDelay:"[cache].transition.points[].delay",transitionDuration:"[cache].transition.points[].duration",transitionProperty:"[cache].transition.points[].property",transitionTimingFunction:"[cache].transition.points[].timing",transition:"transition.points",transform:"[packed]transform",transformOriginX:"transform.origin.x",transformOriginY:"transform.origin.y",transformOriginZ:"transform.origin.z"},ratios:{angle:{deg:1,grad:.9,rad:180/Math.PI,turn:360}},consts:{radialGradient:{shape:["circle","ellipse"],size:["closest-corner","closest-side","farthest-corner","farthest-side"]},linearGradient:{sideOrCorner:{list:["left","right","top","bottom"],top:"0_deg",right:"90_deg",bottom:"180_deg",left:"270_deg"}},colors:{list:["black","green","silver","lime","gray","olive","white","yellow","maroon","navy","red","blue","purple","teal","fuchsia","aqua"],black:"#000000",green:"#008000",silver:"#C0C0C0",lime:"#00FF00",gray:"#808080",olive:"#808000",white:"#FFFFFF",yellow:"#FFFF00",maroon:"#800000",navy:"#000080",red:"#FF0000",blue:"#0000FF",purple:"#800080",teal:"#008080",fuchsia:"#FF00FF",aqua:"#00FFFF"}},initial:{color:"rgba(0,0,0,0)",borderBottomColor:"rgba(0,0,0,0)",borderLeftColor:"rgba(0,0,0,0)",borderRightColor:"rgba(0,0,0,0)",borderTopColor:"rgba(0,0,0,0)",borderBottomStyle:"solid",borderLeftStyle:"solid",borderRightStyle:"solid",borderTopStyle:"solid",borderBottomWidth:"0_px",borderLeftWidth:"0_px",borderRightWidth:"0_px",borderTopWidth:"0_px",fontWeight:"normal",fontStyle:"normal",gradientAngle:"180_deg",gradientPositionStart:"0_%",gradientPosition:"50_%",gradientPositionEnd:"100_%",transitionProperty:"all",transitionTime:"0_ms",transitionDelay:"0_ms",transitionDuration:"0_ms",transitionTimingFunction:"ease",radialGradientShape:"ellipse",radialGradientSize:"closest-corner",radialGradientPosition:"50_%",backgroundColor:"rgba(0,0,0,0)",backgroundClip:"border-box",backgroundOrigin:"padding-box",backgroundPosition:"auto auto",backgroundPositionX:"0_%",backgroundPositionY:"0_%",backgroundRepeat:"repeat",backgroundRepeatX:"repeat",backgroundRepeatY:"repeat",backgroundSize:"auto",backgroundImage:"none",backgroundImageUrl:"/bg-img/default/1_2.png",overflow:"visible",overflowX:"visible",overflowY:"visible",transformOriginX:"0_deg",transformOriginY:"0_deg",transformOriginZ:"0_deg"}},function(a){var b,c,d,e,f,g=a.parser,h=a.error,i=/^(-?\d+(?:.\d+)?)_?([a-zA-Z%]+)?$/,j=/(-?\d+(?:.\d+)?)_?([a-zA-Z%]+)/g,k=function(a){return!!a},l=function(a){return i.test(a)},m=function(a){return"undefined"!=typeof a},n=function(a){return-1!==a.indexOf("rgb")},o=function(a){return-1!==a.indexOf(";base64,")},p=function(a){return-1!==a.indexOf("url")},q=function(a){return"none"===a},r=function(a){return"initial"===a},s=function(a){return"transparent"===a},t=function(a){return-1===g.NOT_SUPPORTED_PROPERTY_VALUES.indexOf(a)},u=function(a){return a.split(", ")},v=function(a){return a.split(" ")},w=function(a){return a.replace(/(?:rgba?|color-stop|cubic-bezier|rotate|skew|scale|translate)\((.+?)\)/g,function(a){return a.replace(/ /g,"")}).replace(/(?:linear-gradient|repeating-linear-gradient|radial-gradient|repeating-radial-gradient)(?:\((.+?)[^\d]\),|\((.+?)\)$)/g,function(a){return a.replace(/, /g,"|")})},x=function(a,b){var c=g.initial;return k(b)&&m(b)&&t(b)&&!r(b)&&!s(b)||(m(c[a])?b=c[a]:h.add("cannot set initial value: "+a)),b},y=function(a){var b=g.consts.colors;return b.list.contains(a)?b[a]:n(a)?a:g.initial.color},z=function(a){return function(b){return u(b).map(function(b){return x(a,b)})}},A=function(a){return u(w(a))},B=function(a,b){return a.replace(b,"").replace(/^\(|\)$/g,"")},C=function(a,b,c){a[b]=c},D=function(a,b,c){var d,e,f,g=b.split("."),h=a,i=!1,j=!1;for(-1!==g[0].indexOf("[packed]")&&(j=!0,g[0]=g[0].replace("[packed]","")),d=1,e=g.length;e>=d;++d)f=g[d-1],i||h[f]||("points[]"===f?(f="points",i=!0,h[f]=h[f]||[]):h[f]={}),d===e?i?(j&&(h=h[f]),c.forEach(function(a,b){m(h[b])||(h[b]={_:fns.randId()}),j?h[b]=$.extend(h[b],a):t(a)&&(h[b][f]=a)})):h[f]=c:h=h[f]},E=function(a,b){return a+"_"+b},F=function(a){return a=a.match(i),{val:+a[1],unit:m(a[2])?a[2]:""}},G=function(a,b){return a=a.match(i),a[2]in b?+a[1]*b[a[2]]:(h.add("Not supported unit: "+a[2]+". Return 0"),0)},H=function(a){return G(a,g.ratios.angle)},I=function(a,b){return a=m(a)?H(a):0,b=m(b)?H(b):0,(a-b)%360+"_deg"},J=function(a,b){return a=m(a)?H(a):0,b=m(b)?H(b):0,(a+b)%360+"_deg"},K=function(a,b,c){return m(b)||m(c)?m(b)?m(c)?(b=F(b),c=F(c),b.unit===c.unit?E(b.val+c.val,b.unit):(h.add("Not supported unit: "+value[2]+". Return 0"),E(0,a))):b:c:E(0,a)},L=function(a,b,c){var d=function(a,b){for(var e in b)"undefined"==typeof a[e]?a[e]=b[e]:"[object Object]"===Object.prototype.toString.call(b[e])?d(a[e],b[e]):c&&Array.isArray(b[e])&&Array.isArray(a[e])&&(a[e]=a[e].concat(b[e]))};return d(a,b),a},M=function(a){var b,c,d=a.background.points,e=-1,f=[];for(b=0,c=d.length;c>b;++b)-1!==e?"color"===d[b].type&&f.push(b):"color"===d[b].type&&(e=b);for(b=f.length;b--;)d.splice(f[b],1);return-1!==e&&d.push(d.splice(e,1)[0]),a};c=function(a){var b=v(a);return{horizontal:b[0],vertical:1===b.length?"-":b[1]}},d={fontFamily:function(b){for(var c=a.defaultFonts,d=u(b)[0],e=c.length;e--;)if(-1!==d.indexOf(c[e].family))return{family:c[e].family,type:"defaults"};return{family:"Times New Roman",type:"defaults"}},boxShadow:function(a){return q(a)?[]:A(a).map(function(a){var b={},c={type:"outset",color:g.initial.color,blur:"0_px",spread:"0_px"},d=v(a).filter(function(a){return["inset","outset"].contains(a)?(b.type=a)&&!1:!0});switch(d.length){case 2:b.x=d[0],b.y=d[1];break;case 3:l(d[0])?(b.x=d[0],b.y=d[1],l(d[2])?b.blur=d[2]:b.color=d[2]):(b.color=d[0],b.x=d[1],b.y=d[2]);break;case 4:l(d[0])?(b.x=d[0],b.y=d[1],b.blur=d[2],l(d[3])?b.spread=d[3]:b.color=d[3]):(b.color=d[0],b.x=d[1],b.y=d[2],b.blur=d[3]);break;case 5:l(d[0])?(b.x=d[0],b.y=d[1],b.blur=d[2],b.spread=d[3],b.color=d[4]):(b.color=d[0],b.x=d[1],b.y=d[2],b.blur=d[3],b.spread=d[4])}return b._=fns.randId(),"color"in b&&(b.color=y(b.color)),L(b,c)})},textShadow:function(a){return q(a)?[]:A(a).map(function(a){var b={},c={color:g.initial.color,blur:"0_px"},d=v(a);switch(d.length){case 2:b.x=d[0],b.y=d[1];break;case 3:var e=l(d[0]);e?(b.x=d[0],b.y=d[1],l(d[2])?b.blur=d[2]:b.color=d[2]):(b.color=d[0],b.x=d[1],b.y=d[2]);break;case 4:l(d[0])?(b.x=d[0],b.y=d[1],b.blur=d[2],b.color=d[3]):(b.color=d[0],b.x=d[1],b.y=d[2],b.blur=d[3])}return b._=fns.randId(),"color"in b&&(b.color=y(b.color)),L(b,c)})},borderBottomLeftRadius:c,borderBottomRightRadius:c,borderTopLeftRadius:c,borderTopRightRadius:c,backgroundClip:z("backgroundClip"),backgroundOrigin:z("backgroundOrigin"),backgroundPositionX:z("backgroundPositionX"),backgroundPositionY:z("backgroundPositionY"),backgroundRepeatY:function(a,b){var c,d,e={repeatrepeat:"repeat","repeatno-repeat":"repeat-x","no-repeatrepeat":"repeat-y","no-repeatno-repeat":"no-repeat"};return c=u(b.backgroundRepeatX),d=u(a),c.map(function(a,b){return e[x("backgroundRepeat",a)+x("backgroundRepeat",d[b])]})},backgroundSize:function(a){var b=function(a){if(t(a)){var b=v(a),c=x("backgroundSize",b[0]);return{"background-size-x":c,"background-size-y":b[1]||c}}return{"background-size-x":g.initial.backgroundSize,"background-size-y":g.initial.backgroundSize}};return u(a).map(b)},backgroundImage:function(a){var b=function(a){var b={is_default:!1};return k(a)?(a=v(a),b.posX=x("radialGradientPosition",a[0]),b.posY=x("radialGradientPosition",a[1])):(b.posX=b.posY=g.initial.radialGradientPosition,b.is_default=!0),b},c=function(a){var c=a.split(/\s?at\s/),d=c[0],e=c[1],f={};if(k(d)){switch(d=v(d),d.length){case 1:g.consts.radialGradient.shape.contains(d[0])?(f.shape=d[0],f.size=g.initial.radialGradientSize):(f.shape=g.initial.radialGradientShape,f.size=d[0]);break;case 2:g.consts.radialGradient.shape.contains(d[0])?(f.shape=d[0],f.size=d[1]):(f.shape=d[1],f.size=d[0])}l(f.shape)&&(f.shape=g.initial.radialGradientShape),l(f.size)&&(f.size=g.initial.radialGradientSize)}else f.shape=g.initial.radialGradientShape,f.size=g.initial.radialGradientSize;return e=b(e),f.posX=e.posX,f.posY=e.posY,f},d=function(a){return a=v(a)[0],!(n(a)||m(g.consts.colors[a]))},e=function(a){return a=a.replace("to ",""),l(a)?!0:(a=v(a),n(a[0])?!1:1===a.length?g.consts.linearGradient.sideOrCorner.list.contains(a[0]):(h.add("Current not supported linear-gradient with contained keywords"),!1))},f=function(a){return a=a.replace("to ",""),l(a)?a:g.consts.linearGradient.sideOrCorner[a]},i=function(a){return a.replace(/^url\(|\)$/g,"")},j=function(a){a.replace(/(?:linear-gradient|repeating-linear-gradient|radial-gradient|repeating-radial-gradient)(\(.+?\),|\(.*?\)$)/g,function(a){return a.replace(/\, /g,",")});var h={},i=!1,j=a.replace(/(-(?:webkit|moz)-)?(linear-gradient|repeating-linear-gradient|radial-gradient|repeating-radial-gradient)\(.+$/,function(a,b,c){return i=!!b,h.type=c,(i?a.replace(b,"").replace(c,""):a.replace(c,"")).replace(/^\(|\)$/g,"")}).split("|");switch(h.type){case"linear-gradient":case"repeating-linear-gradient":e(j[0])?(h.angle=i?I("90_deg",f(j[0])):f(j[0]),j.shift()):h.angle=g.initial.gradientAngle;break;case"radial-gradient":case"repeating-radial-gradient":var k;i&&(k=b(j[0]),h.posX=k.posX,h.posY=k.posY,k.is_default||j.shift()),d(j[0])?(k=c(j[0]),h.shape=k.shape,h.size=k.size,h.posX=k.posX,h.posY=k.posY,j.shift()):(h.size=g.initial.radialGradientSize,h.shape=g.initial.radialGradientShape,h.posX=h.posY=g.initial.radialGradientPosition),h.angle="180_deg"}return h._scale="100_%",h.points=j.map(function(a,b){return a=a.split(" "),{color:y(a[0]),pos:x(0===b?"gradientPositionStart":b===j.length-1?"gradientPositionEnd":"gradientPosition",a[1])}}),h};return"none"===a?[]:-1!==a.indexOf("-webkit-gradient")?(h.add("Current not supported -webkit-gradient definition in background. Return empty background"),[]):(a=A(a),a=a.filter(function(a){return!r(a)}),a.map(function(a){var b={};return p(a)?(b.type="image",b.url=i(a),o(b.url)&&(h.add("Current not supported base64 image. Changed to default background-image"),b.url=g.initial.backgroundImageUrl)):b=j(a),b}))},background:function(a,b){var c,d=function(a){var b,d,e=[],f=0,g=a.length;for(b=0,d=c;d>b;++b)e.push(a[f]),++f===g&&(f=0);return e},e=function(a,b){Object.keys(b).forEach(function(c){c in a||(a[c]=b[c])})},f=e,h=function(a){var b=g.initial,c={_inactive:!1,"background-clip":b.backgroundClip,"background-origin":b.backgroundOrigin,"background-position-x":b.backgroundPositionX,"background-position-y":b.backgroundPositionY,"background-repeat":b.backgroundRepeat,"background-size-x":b.backgroundSize,"background-size-y":b.backgroundSize};return e(a,c),a},i=b.backgroundImage?b.backgroundImage.points:[];return c=i.length,["backgroundClip","backgroundOrigin","backgroundRepeat","backgroundSize","backgroundPositionX","backgroundPositionY"].forEach(function(a){b[a]&&b[a].points.length!==c&&(b[a].points=d(b[a].points))}),i=i.map(function(a,c){return["backgroundClip","backgroundOrigin","backgroundRepeat","backgroundSize","backgroundPositionX","backgroundPositionY"].forEach(function(d){b[d]&&f(a,b[d].points[c])}),h(a)}),k(b.backgroundColor)&&!r(b.backgroundColor)&&i.push({_:fns.randId(),color:y(b.backgroundColor),type:"color"}),i},overflowY:function(a,b){return b.overflowX!==a&&h.add("Now we cannot support different overflowX and overflowY, because overflow property set how overflowX"),a},transitionDelay:z("transitionTime"),transitionDuration:z("transitionTime"),transitionProperty:z("transitionProperty"),transitionTimingFunction:function(a){var b=function(a){return-1!==a.indexOf("cubic-bezier")},c=function(a){return a=a.match(/cubic-bezier\(([^,]+),([^,]+),([^,]+),([^,]+)\)/),[+a[1],+a[2],+a[3],+a[4]]},d=function(a){var b=["linear","ease","ease-in","ease-out","ease-in-out"],c=ui.presets.cubicBezier.data;if(b.contains(a))for(var d=0,e=c.length;e>d;++d)if(c[d].name===a)return c[d].val;return h.add("transition with not supported timing function"),[0,0,0,0]},e=[];return A(a).forEach(function(a){e.push(b(a)?c(a):d(a))}),e},transition:function(a,b){var c={property:"all",duration:"0_ms",timing:[.25,.25,.75,.75],delay:"0_ms"};return m(b.transition)?b.transition.points.map(function(a){return L(a,c)}):[]},transform:function(a){var b,c={},d=v(w(a)),e={rotateX:"rotate.x",rotateY:"rotate.y",rotateZ:"rotate.z",rotate:function(a,b){return b.z=J(b.z,a[0]),{pattern:"rotate",value:b}},scaleX:"scale.x",scaleY:"scale.y",scaleZ:"scale.z",scale:function(a,b){return b.x=(isNaN(+b.x)?1:+b.x)*+a[0],2===a.length&&(b.y=(isNaN(+b.y)?1:+b.y)*+a[1]),{pattern:"scale",value:b}},skewX:"skew.x",skewY:"skew.y",skewZ:"skew.z",skew:function(a,b){return b.x=J(b.x,a[0]),2===a.length&&(b.y=J(b.y,a[1])),{pattern:"skew",value:b}},translateX:"translate.x",translateY:"translate.y",translateZ:"translate.z",translate:function(a,b){return b.x=K("px",b.x,a[0]),2===a.length&&(b.y=K("px",b.y,a[1])),{pattern:"translate",value:b}}},f=Object.keys(e);return f.forEach(function(a){for(var f=d.length;f--;)if(b=d[f],-1!==b.indexOf(a+"(")){if($.isFunction(e[a])){var g=e[a](B(b,a).split(","),c[a]||{});D(c,g.pattern,g.value)}else D(c,e[a],B(b,a));break}}),c},unit:function(a){return a.replace(j,"$1_$2")}},f=function(b,c){var d,f=function(a,b,c,d){var e;return e=M(L(b,c,d)),e.__state_name=a,e.__state_pseudo="normal"===a?"":":"+a,("before"===a||"after"===a)&&(e.content='"#{content}"'.replace("#{content}","''"===e.content?"":e.content)),e.status=!0,e},g=function(a){var b=fns.clone(a),c={__settings:b.__settings};return delete b.__settings,Object.keys(b).forEach(function(b){c[a[b].__state_name]=a[b]}),c},h=function(b){var c=fns.clone(b),d={__settings:c.__settings};return delete c.__settings,a.getOrderedPointStates(c).forEach(function(a,b){d[b]=c[a]}),d},i=function(a){a.__settings.nodeTypeStates.block.hover=!0,a.__settings.nodeTypeStates.button.hover=!0,a.__settings.nodeTypeStates.input.hover=!0},j=function(a){a.__settings.nodeTypeStates.block.active=!0,a.__settings.nodeTypeStates.button.active=!0},k=function(a){a.__settings.nodeTypeStates.nodeType="input",a.__settings.nodeTypeStates.input.focus=!0},l=function(a){a.__settings.nodeTypeStates.block.after=!0},n=function(a){a.__settings.nodeTypeStates.block.before=!0},o=function(a,b){Object.keys(b).forEach(function(c){c in a||(a[c]=b[c])})},p=g(a.getDefaultBrowserPoint()),q={},r=b.normal,s={active:!0,hover:!0,focus:!0},t=["backgroundColor","background","boxShadow","textShadow","borderRadius","border","borderTop","borderRight","borderBottom","borderLeft"];for(var u in b)if(s[u])for(var v=b[u],w=0;w<t.length;w++){var x=t[w];v[x]||(v[x]=r[x])}switch(c){case"replace":q.__settings=p.__settings,q.__settings.text=a.getCurrentPoint().__settings.text,"normal"in b&&(q.normal=f("normal",e(b.normal),p.normal,!0)),"hover"in b&&(q.hover=f("hover",e(b.hover),q.normal),i(q)),"focus"in b&&(q.focus=f("focus",e(b.focus),q.normal),k(q)),"active"in b&&(j(q),q.active=f("active",e(b.active),m(q.hover)?q.hover:q.normal)),"before"in b&&(n(q),q.before=f("before",e(b.before),p.normal)),"after"in b&&(l(q),q.after=f("after",e(b.after),p.normal)),o(q,p);break;case"merge":d=g(a.getCurrentPoint()),q.__settings=d.__settings,"normal"in b&&(q.normal=f("normal",e(b.normal),d.normal,!0)),"focus"in b&&(q.focus=f("focus",e(b.focus),m(d.focus)?d.focus:q.normal),k(q)),"hover"in b&&(q.hover=f("hover",e(b.hover),m(d.hover)?d.hover:d.normal),i(q)),"active"in b&&(q.active=f("active",e(b.active),m(d.active)?d.active:m(q.hover)?q.hover:q.normal),j(q)),"before"in b&&(q.before=f("before",e(b.before),m(d.before)?d.before:p.normal),n(q)),"after"in b&&(q.after=f("after",e(b.after),m(d.after)?d.after:p.normal),l(q)),o(q,d);break;default:throw new Error("Unknow make point strategy")}return q=h(q)},e=function(a){var b=g.map,c=Object.keys(b),e={"[cache]":{}};return a.background="generated",a.transition="generated",c.forEach(function(c){var f,g=a[c];m(g)&&t(g)&&(f=b[c],g=x(c,d.unit(g)),""===f?C(e,c,g):(g=m(d[c])?d[c](g,e["[cache]"]):g,D(e,f,g)))}),delete e["[cache]"],e},g.__defineGetter__("pointSelector",function(){return b}),g.point=function(a,c){return b=a,"string"==typeof a&&(a=g.styles[a]),h.clear(),a=f(a,c),h.to_console(),a}}(window.cssg),function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=function(a,b){for(var c=0;c<a.length;++c)b.apply(a[c],[a[c],c,a])},p=a.parser,q=a.error,r=function(){b=$("<iframe />",{style:"width: 0; height: 0;"}).appendTo(document.body),d=b[0].contentWindow.CSSFontFaceRule,c=b[0].contentWindow.CSSStyleRule},s=function(){d=c=null,b.remove(),b=null},t={},u=a.selector,v=!1;j=function(a){return a},k=function(b){return a.allBrArr.forEach(function(a){b=b.replace("-"+a+"-","")}),b},l=function(a){return a=k(a),a.replace(/-[a-z]/g,function(a){return a.toUpperCase().replace("-","")})},m=function(a,c){var d;r(),-1===a.indexOf("{")&&(a=u+"{"+a+"}",v=!0),b.contents().find("head").append("<style>"+a+"</style>"),d=b.contents()[0].styleSheets[0],c(d.rules||d.cssRules),s()},n=function(a){var b=a.style,c={},d=[];return o(b,function(a){d.push(a);var e=l(a);e in c||(c[e]=b[a])}),c},h=function(a){return a.split(", ")},i=function(a){var b,c,d,e=p.SUPPORTED_PSEUDO,f={};return b=a.split("::"),c=b.slice(1),b=b[0].split(":"),d=b.slice(1),a=b[0],f.selector=a,c.length>0&&d.length>0?(f.errors="Currently not supported pseudo-element of pseudo-class",f):(0===c.length?0===d.length?f.pseudo="normal":1===d.length?e.contains(d[0])?f.pseudo=d[0]:f.errors="Currently not supported pseudo-class: "+d[0]:f.errors="Currently not supported several pseudo-classes: "+d.join(", "):1===c.length?e.contains(c[0])?f.pseudo=c[0]:f.errors="Currently not supported pseudo-element: "+c[0]:c.length&&(f.errors="Currently not supported several pseudo-elements: "+c.join(", ")),f)},f=function(a,b){h(a).forEach(function(a){var c;a=i(a),a.errors?q.add(a.errors):(a.selector in t||(t[a.selector]={}),a.pseudo in t[a.selector]||(t[a.selector][a.pseudo]={}),c=t[a.selector][a.pseudo],Object.keys(b).forEach(function(a){c[a]=b[a]}))})},g=function(){t={},v=!1},p.__defineGetter__("importedCSS",function(){return e}),p.__defineGetter__("styles",function(){return t}),p.__defineGetter__("selectors",function(){return Object.keys(t)}),p.__defineGetter__("hasStyles",function(){return this.selectors.some(function(a){return Object.keys(t[a]).some(function(b){return!!Object.keys(t[a][b]).length})})}),p.__defineGetter__("hasOnlyPlainStyle",function(){return v}),p.__defineGetter__("defaultSelectorName",function(){return u}),p.css=function(a){return e=a,g(),m(a,function(a){o(a,function(a){a instanceof d?(t.fontFace=t.fontFace||[],t.fontFace.push=n(a)):a instanceof c&&f(j(a.selectorText),n(a))})}),t},p.selector=function(){}}(window.cssg);var enjoyCSS={version:.01,baseId:"0_0",currentId:"0_0",autosavePointId:"__autosave",restorePointId:"__restore",defaultPointId:"__default",defaultBackgroundValues:{color:{type:"color",color:"rgba(255,255,255,1)"},colorpicker:"rgba(255,255,255,1)",gradient:{type:"linear-gradient",angle:"180_deg",points:[{pos:"0_%",color:"rgba(210,244,146,1)"},{pos:"100_%",color:"rgba(124,188,10,1)"}],_scale:"100_%","background-size-x":"auto","background-size-y":"auto","background-position-x":"50_%","background-position-y":"50_%","background-repeat":"repeat","background-origin":"padding-box","background-clip":"border-box",_:"e1389708384958RMfF"},image:{"background-clip":"border-box","background-origin":"padding-box","background-position-x":"50_%","background-position-y":"50_%","background-repeat":"repeat","background-size-x":"auto","background-size-y":"auto",type:"image",url:"/bg-img/default/3_3.png"},image_url:"/bg-img/default/3_3.png"},defaultSettings:{normal:{text:"Enjoy",nodeType:"block",attributes:{},className:"enjoy-css",selector:".enjoy-css",hideDefault:!0,background:{type:"color",color:"rgba(255,255,255,1)"},nodeTypeStates:{input:{hover:!1},block:{hover:!1},button:{hover:!1}}},normal_blank:{text:"Enjoy",nodeType:"block",attributes:{},className:"enjoy-css",selector:".enjoy-css",hideDefault:!0,background:{type:"color",color:"rgba(255,255,255,1)"},nodeTypeStates:{input:{hover:!1},block:{hover:!1},button:{hover:!1}}},normal_input:{text:"Enjoy",nodeType:"input",attributes:{},className:"enjoy-css",selector:".enjoy-css",hideDefault:!0,background:{type:"color",color:"rgba(255,255,255,1)"},nodeTypeStates:{input:{hover:!1},block:{hover:!1},button:{hover:!1}}},normal_block:{text:"Enjoy",nodeType:"block",attributes:{},className:"enjoy-css",selector:".enjoy-css",hideDefault:!0,background:{type:"color",color:"rgba(255,255,255,1)"},nodeTypeStates:{input:{hover:!1},block:{hover:!1},button:{hover:!1}}},normal_button:{text:"Enjoy",nodeType:"button",attributes:{},className:"enjoy-css",selector:".enjoy-css",hideDefault:!0,background:{type:"color",color:"rgba(255,255,255,1)"},nodeTypeStates:{input:{hover:!1},block:{hover:!1},button:{hover:!1}}}},defaultStates:{normal:{__state_name:"normal",__state_pseudo:"",display:"block","float":"none","z-index":"auto",position:"static","box-sizing":"content-box",overflow:"visible",cursor:"default",height:"auto",width:"auto",outline:"none",opacity:"1",text:{"font-family":{type:"defaults",family:"Times New Roman"},"font-size":"16_px","line-height":"normal",color:"rgba(0,0,0,0.9)","font-weight":"normal","font-style":"normal","font-variant":"normal","text-decoration":"none","text-transform":"none","text-align":"left","text-indent":"0_px","text-overflow":"clip","letter-spacing":"0_px","word-spacing":"0_px","white-space":"normal"},"text-shadow":{points:[]},positioning:{top:"auto",right:"auto",bottom:"auto",left:"auto"},margin:{top:"0_px",right:"0_px",bottom:"0_px",left:"0_px"},padding:{top:"0_px",right:"0_px",bottom:"0_px",left:"0_px"},border:{top:{width:"0_px",color:"rgba(0,0,0,1)",style:"solid"},right:{width:"0_px",color:"rgba(0,0,0,1)",style:"solid"},bottom:{width:"0_px",color:"rgba(0,0,0,1)",style:"solid"},left:{width:"0_px",color:"rgba(0,0,0,1)",style:"solid"}},"border-radius":{top:{left:{vertical:"-",horizontal:"0_px"},right:{vertical:"-",horizontal:"0_px"}},bottom:{left:{vertical:"-",horizontal:"0_px"},right:{vertical:"-",horizontal:"0_px"}}},"box-shadow":{points:[]},background:{points:[]},transition:{points:[]},transform:{rotate:{x:"0_deg",y:"0_deg",z:"0_deg"},scale:{x:"1",y:"1",z:"1"},translate:{x:"0_px",y:"0_px",z:"0_px"},skew:{x:"0_deg",y:"0_deg",z:"0_deg"},origin:{x:"50_%",y:"50_%",z:"0_%"},"perspective-origin":{x:"50_%",y:"50_%",z:"0_%"},perspective:{z:"0"}}},normal_input:{__state_name:"normal",__state_pseudo:"",width:"auto",height:"auto",display:"inline-block","float":"none","z-index":"auto",position:"static","box-sizing":"content-box",overflow:"visible",cursor:"default",text:{"font-family":{family:"Times New Roman",type:"defaults"},"font-size":"16_px","line-height":"normal",color:"rgba(0,142,198,1)","font-weight":"normal","font-style":"normal","font-variant":"normal","text-decoration":"none","text-transform":"none","text-align":"left","text-indent":"0_px","text-overflow":"clip","letter-spacing":"0_px","word-spacing":"0_px","white-space":"normal"},"text-shadow":{points:[{_:"e1388780897961aDvP",text_color:"black",color:"rgba(255,255,255,0.66)",blur:"0_px",y:"1_px",x:"1_px"}]},positioning:{top:"auto",right:"auto",bottom:"auto",left:"auto"},margin:{top:"0_px",right:"0_px",bottom:"0_px",left:"0_px"},padding:{top:"10_px",right:"20_px",bottom:"10_px",left:"20_px"},border:{top:{width:"1_px",color:"#b7b7b7",style:"solid"},right:{width:"1_px",color:"#b7b7b7",style:"solid"},bottom:{width:"1_px",color:"#b7b7b7",style:"solid"},left:{width:"1_px",color:"#b7b7b7",style:"solid"}},"border-radius":{top:{left:{vertical:"-",horizontal:"3_px"},right:{vertical:"-",horizontal:"3_px"}},bottom:{left:{vertical:"-",horizontal:"3_px"},right:{vertical:"-",horizontal:"3_px"}}},"box-shadow":{points:[{type:"inset",x:"2_px",y:"2_px",blur:"2_px",spread:"0_px",color:"rgba(0,0,0,0.2)",_:"e1388780305643CGyO"}]},background:{points:[{type:"color",color:"rgba(252,252,252,1)",_:"e1388781822964EAfp"}]},transition:{points:[{timing:[.42,0,.58,1],duration:"200_ms",delay:"0_ms",property:"all",_:"e1388780718896PnlL"}]},transform:{rotate:{x:"0_deg",y:"0_deg",z:"0_deg"},scale:{x:"1",y:"1",z:"1"},translate:{x:"0_px",y:"0_px",z:"0_px"},skew:{x:"0_deg",y:"0_deg",z:"0_deg"},origin:{x:"50_%",y:"50_%",z:"0_%"},"perspective-origin":{x:"50_%",y:"50_%",z:"0_%"},perspective:{z:"0"}}},normal_button:{transform:{perspective:{z:"0"},"perspective-origin":{z:"0_%",y:"50_%",x:"50_%"},origin:{z:"0_%",y:"50_%",x:"50_%"},skew:{z:"0_deg",y:"0_deg",x:"0_deg"},translate:{z:"0_px",y:"0_px",x:"0_px"},scale:{z:"1",y:"1",x:"1"},rotate:{z:"0_deg",y:"0_deg",x:"0_deg"}},transition:{points:[{_:"e1388780718896PnlL",property:"all",delay:"0_ms",duration:"300_ms",timing:[.42,0,.58,1]}]},background:{points:[{color:"#0199d9",type:"color",_:"e908390825550"}]},"box-shadow":{points:[{_:"e1388780305643CGyO",color:"rgba(0,0,0,0.2)",spread:"0_px",blur:"2_px",y:"2_px",x:"2_px",type:"outset"}]},"border-radius":{bottom:{right:{horizontal:"3_px",vertical:"-"},left:{horizontal:"3_px",vertical:"-"}},top:{right:{horizontal:"3_px",vertical:"-"},left:{horizontal:"3_px",vertical:"-"}}},border:{left:{style:"solid",color:"#018dc4",width:"1_px"},bottom:{style:"solid",color:"#018dc4",width:"1_px"},right:{style:"solid",color:"#018dc4",width:"1_px"},top:{style:"solid",color:"#018dc4",width:"1_px"}},padding:{left:"20_px",bottom:"10_px",right:"20_px",top:"10_px"},margin:{left:"0_px",bottom:"0_px",right:"0_px",top:"0_px"},positioning:{left:"auto",bottom:"auto",right:"auto",top:"auto"},"text-shadow":{points:[{x:"-1_px",y:"-1_px",blur:"0_px",color:"rgba(15,73,168,0.66)",text_color:"black",_:"e1388780897961aDvP"}]},text:{"white-space":"normal","letter-spacing":"0_px","word-spacing":"0_px","text-overflow":"clip","text-indent":"0_px","text-align":"left","text-transform":"none","text-decoration":"none","font-variant":"normal","font-style":"normal","font-weight":"normal",color:"rgba(255,255,255,0.9)","line-height":"normal","font-size":"16_px","font-family":{type:"defaults",family:"Times New Roman"}},cursor:"pointer",overflow:"visible","box-sizing":"content-box",position:"static","z-index":"auto","float":"none",display:"inline-block",height:"auto",width:"auto",__state_pseudo:"",__state_name:"normal"},normal_block:{__state_name:"normal",__state_pseudo:"",width:"160_px",height:"auto",display:"block","float":"none","z-index":"auto",position:"static","box-sizing":"content-box",overflow:"hidden",cursor:"default",text:{"font-family":{type:"defaults",family:"Times New Roman"},"font-size":"16_px","line-height":"1",color:"rgba(255,255,255,1)","font-weight":"normal","font-style":"normal","font-variant":"normal","text-decoration":"none","text-transform":"none","text-align":"center","text-indent":"0_px","text-overflow":"ellipsis","letter-spacing":"0_px","word-spacing":"0_px","white-space":"normal"},"text-shadow":{points:[{x:"1_px",y:"1_px",blur:"1_px",color:"rgba(0,0,0,0.2)",text_color:"black",_:"e1388786512083kiHl"}]},positioning:{top:"auto",right:"auto",bottom:"auto",left:"auto"},margin:{top:"0_px",right:"0_px",bottom:"0_px",left:"0_px"},padding:{top:"20_px",right:"20_px",bottom:"20_px",left:"20_px"},border:{top:{width:"0_px",color:"rgba(0,0,0,1)",style:"solid"},right:{width:"0_px",color:"rgba(0,0,0,1)",style:"solid"},bottom:{width:"0_px",color:"rgba(0,0,0,1)",style:"solid"},left:{width:"0_px",color:"rgba(0,0,0,1)",style:"solid"}},"border-radius":{top:{left:{vertical:"-",horizontal:"0_px"},right:{vertical:"-",horizontal:"0_px"}},bottom:{left:{vertical:"-",horizontal:"0_px"},right:{vertical:"-",horizontal:"0_px"}}},"box-shadow":{points:[{_:"e1388786765637cxQx",color:"rgba(0,0,0,0.3)",spread:"0_px",blur:"1_px",y:"1_px",x:"1_px",type:"outset"}]},background:{points:[{_:"e908390825550",type:"color",color:"#0199d9"}]},transition:{points:[]},transform:{rotate:{x:"0_deg",y:"0_deg",z:"0_deg"},scale:{x:"1",y:"1",z:"1"},translate:{x:"0_px",y:"0_px",z:"0_px"},skew:{x:"0_deg",y:"0_deg",z:"0_deg"},origin:{x:"50_%",y:"50_%",z:"0_%"},"perspective-origin":{x:"50_%",y:"50_%",z:"0_%"},perspective:{z:"0"}}},normal_blank:{__state_name:"normal",__state_pseudo:"",width:"auto",height:"auto",display:"block","float":"none","z-index":"auto",position:"static","box-sizing":"content-box",overflow:"visible",cursor:"default",text:{"font-family":{type:"defaults",family:"Times New Roman"},"font-size":"16_px","line-height":"1",color:"black","font-weight":"normal","font-style":"normal","font-variant":"normal","text-decoration":"none","text-transform":"none","text-align":"left","text-indent":"0_px","text-overflow":"ellipsis","letter-spacing":"0_px","word-spacing":"0_px","white-space":"normal"},"text-shadow":{points:[]},positioning:{top:"auto",right:"auto",bottom:"auto",left:"auto"},margin:{top:"0_px",right:"0_px",bottom:"0_px",left:"0_px"},padding:{top:"0_px",right:"0_px",bottom:"0_px",left:"0_px"},border:{top:{width:"0_px",color:"rgba(0,0,0,1)",style:"solid"},right:{width:"0_px",color:"rgba(0,0,0,1)",style:"solid"},bottom:{width:"0_px",color:"rgba(0,0,0,1)",style:"solid"},left:{width:"0_px",color:"rgba(0,0,0,1)",style:"solid"}},"border-radius":{top:{left:{vertical:"-",horizontal:"0_px"},right:{vertical:"-",horizontal:"0_px"}},bottom:{left:{vertical:"-",horizontal:"0_px"},right:{vertical:"-",horizontal:"0_px"}}},"box-shadow":{points:[]},background:{points:[]},transition:{points:[]},transform:{rotate:{x:"0_deg",y:"0_deg",z:"0_deg"},scale:{x:"1",y:"1",z:"1"},translate:{x:"0_px",y:"0_px",z:"0_px"},skew:{x:"0_deg",y:"0_deg",z:"0_deg"},origin:{x:"50_%",y:"50_%",z:"0_%"},"perspective-origin":{x:"50_%",y:"50_%",z:"0_%"},perspective:{z:"0"}}},after:{content:'""',width:"30_%",height:"100_%",position:"absolute",positioning:{top:"0_px",right:"0_px",bottom:"auto",left:"auto"},text:{"font-family":{type:"defaults",family:"Times New Roman"},"font-size":"16_px","line-height":"normal",color:"rgba(0,0,0,0.9)","font-weight":"normal","font-style":"normal","font-variant":"normal","text-decoration":"none","text-transform":"none","text-indent":"0_px","text-align":"left","text-overflow":"clip","letter-spacing":"0_px","word-spacing":"0_px","white-space":"normal"},border:{top:{width:"0_px",style:"solid"},right:{width:"0_px",style:"solid"},bottom:{width:"0_px",style:"solid"},left:{width:"0_px",style:"solid"}},"box-shadow":{points:[]}},before:{content:'""',width:"30_%",height:"100_%",position:"absolute",positioning:{top:"0_px",right:"auto",bottom:"auto",left:"0_px"},text:{"font-family":{type:"defaults",family:"Times New Roman"},"font-size":"16_px","line-height":"normal",color:"rgba(0,0,0,0.9)","font-weight":"normal","font-style":"normal","font-variant":"normal","text-decoration":"none","text-indent":"0_px","text-align":"left","text-overflow":"clip","letter-spacing":"0_px","word-spacing":"0_px","white-space":"normal"},border:{top:{width:"0_px",style:"solid"},right:{width:"0_px",style:"solid"},bottom:{width:"0_px",style:"solid"},left:{width:"0_px",style:"solid"}},"box-shadow":{points:[]}},browser:{text:{"font-size":"100_%",color:"rgba(0,0,0,1)"}}},points:{}},ui={updateHeaderButtons:function(){var a,b=$(".header_button__save"),c=$(".header_button__fork"),d="disabled_button";
0===router.sid?(a="Save",c.addClass(d)):(a="Update",c.removeClass(d)),b.text(a)},init:function(a){var b=this;if(b.baseId=a,$.each(this,function(a,c){"object"==typeof c&&"root"!=a&&(c.root=b,c.init&&"function"==typeof c.init&&c.init())}),$(window).on("beforeunload",function(a){if(cssg.hasUnsavedChanges()){var b="Have unsaved changes";return(a||window.event).returnValue=b,b}}),this.linker.compare(),$(document.body).popup({onOpen:function(){b.layout.disableHeaderButtons(),b.aside.hide()},onClose:function(){b.layout.enableHeaderButtons()}}),$(document.body).triggerEnjoy(),progress.loaded=!0,testimonials_popup.is_opened||progress.finish(function(){progress=null;var a=localStorage.getItem("first_open");a?testimonials_popup.hide():(enjoyhint_instance.runScript(),localStorage.setItem("first_open",!0)),$(".invisible").removeClass("invisible")}),""!=window.location.hash){var c="/",d=window.location.hash.split(c),e=d[0].replace("#",""),f=d[1];f&&setTimeout(function(){$(".panes #"+e+" .location_hash_control").eq(f).click()},0)}}};ui.length_units=["pt","pc","in","cm","mm","ex","px","em","%"],ui.excludeUnits=["pt","pc","in","cm","mm","ex"];for(var i=0;i<ui.excludeUnits.length;i++){var unit=ui.excludeUnits[i],index=ui.length_units.indexOf(unit);-1!=index&&ui.length_units.splice(index,1)}ui.namedControlsSettings={"z-index":{units:[":auto",""]},"letter-spacing":{units:[":normal"].concat(ui.length_units)},"line-height":{units:[":normal",""].concat(ui.length_units)},"text-indent":{units:[].concat(ui.length_units)},"text-overflow":{units:[":clip",":ellipsis"]},"white-space":{units:[":normal",":nowrap",":pre",":pre-line",":pre-wrap"]},"word-break":{units:[":normal",":break-all",":keep-all"]},"word-spacing":{units:[":normal"].concat(ui.length_units)},"word-wrap":{units:[":normal",":break-word"]},"font-size":{units:[].concat(ui.length_units)},"background-size":{units:[":auto",":cover",":contain"].concat(ui.length_units)},"background-position-x":{units:[":auto",":left",":right",":center"].concat(ui.length_units)},"background-position-y":{units:[":auto",":top",":bottom",":center"].concat(ui.length_units)},gradient_scale:{units:["%"]},"text-shadow-offset-x":{units:[].concat(ui.length_units)},"text-shadow-offset-y":{units:[].concat(ui.length_units)},"text-shadow-blur":{units:[].concat(ui.length_units)},"box-shadow-offset-x":{units:[].concat(ui.length_units)},"box-shadow-offset-y":{units:[].concat(ui.length_units)},"box-shadow-blur":{units:[].concat(ui.length_units)},"box-shadow-spread":{units:[].concat(ui.length_units)},padding:{units:[":auto"].concat(ui.length_units)},margin:{units:[":auto"].concat(ui.length_units)},positioning:{units:[":auto"].concat(ui.length_units)},"transition-delay":{units:["ms","s"]},"transition-duration":{units:["ms","s"]},"transform-origin-x":{units:[":left",":center",":right"].concat(ui.length_units)},"transform-origin-y":{units:[":top",":center",":bottom"].concat(ui.length_units)},"transform-origin-z":{units:[].concat(ui.length_units)},"transform-rotate-x":{units:["deg","rad"]},"transform-rotate-y":{units:["deg","rad"]},"transform-rotate-z":{units:["deg","rad"]},"transform-scale-x":{units:[""]},"transform-scale-y":{units:[""]},"transform-scale-z":{units:[""]},"transform-translate-x":{units:[].concat(ui.length_units)},"transform-translate-y":{units:[].concat(ui.length_units)},"transform-translate-z":{units:[].concat(ui.length_units)},"transform-skew-x":{units:["deg","rad"]},"transform-skew-y":{units:["deg","rad"]},"transform-skew-z":{units:["deg","rad"]},"transform-perspective-z":{units:["",":none"]},"transform-perspective-origin-x":{units:[":left",":center",":right"].concat(ui.length_units)},"transform-perspective-origin-y":{units:[":left",":center",":right"].concat(ui.length_units)}},ui.presets={},ui.presets.color={data:["rgb(0,0,0)","rgb(25,25,25)","rgb(50,50,50)","rgb(75,75,75)","rgb(100,100,100)","rgb(125,125,125)","rgb(150,150,150)","rgb(180,180,180)","rgb(200,200,200)","rgb(255,255,255)","#34495e","#9b59b6","#3498db","#1abc9c","#2ecc71","#f1c40f","#e67e22","#e74c3c","rgba(225,90,150,1)","#ecf0f1"],defaultStructure:{type:"color",color:"rgb(0,0,0)"}},ui.presets.texture={data:["/bg-img/default/1_2.png","/bg-img/default/3_4.png","/bg-img/default/3_6.png","/bg-img/default/7_3.png","/bg-img/default/7_4.png","/bg-img/default/8_6.png","/bg-img/default/9_1.png","/bg-img/default/10_6.png","/bg-img/default/11_5.png","/bg-img/default/11_6.png"],defaultStructure:{type:"image",url:"/bg-img/default/1_2.png","background-size-x":"auto","background-size-y":"auto","background-position-x":"50_%","background-position-y":"50_%","background-repeat":"repeat","background-origin":"padding-box","background-clip":"border-box"}},ui.presets.gradient={data:[[{color:"rgba(50,50,50,1)",pos:"0_%"},{color:"rgba(0,0,0,1)",pos:"100_%"}],[{color:"rgba(100,100,100,1)",pos:"0_%"},{color:"rgba(0,0,0,1)",pos:"100_%"}],[{color:"rgba(150,150,150,1)",pos:"0_%"},{color:"rgba(95,95,95,1)",pos:"50_%"},{color:"rgba(50,50,50,1)",pos:"51_%"},{color:"rgba(30,30,30,1)",pos:"100_%"}],[{color:"rgba(190,190,190,1)",pos:"0_%"},{color:"rgba(90,90,90,1)",pos:"50_%"},{color:"rgba(10,10,10,1)",pos:"51_%"},{color:"rgba(10,10,10,1)",pos:"100_%"}],[{color:"rgba(0,0,0,0)",pos:"0_%"},{color:"rgba(0,0,0,1)",pos:"100_%"}],[{color:"rgba(0,0,0,0)",pos:"0_%"},{color:"rgba(0,0,0,0.2)",pos:"50_%"},{color:"rgba(0,0,0,0.4)",pos:"51_%"},{color:"rgba(0,0,0,0.2)",pos:"100_%"}],[{color:"rgba(255,255,255,1)",pos:"0_%"},{color:"rgba(200,200,200,1)",pos:"100_%"}],[{color:"rgba(255,255,255,1)",pos:"0_%"},{color:"rgba(243,243,243,1)",pos:"50_%"},{color:"rgba(237,237,237,1)",pos:"51_%"},{color:"rgba(255,255,255,1)",pos:"100_%"}],[{color:"rgba(255,255,255,1)",pos:"0_%"},{color:"rgba(241,241,241,1)",pos:"50_%"},{color:"rgba(225,225,225,1)",pos:"51_%"},{color:"rgba(246,246,246,1)",pos:"100_%"}],[{color:"rgba(246,248,249,1)",pos:"0_%"},{color:"rgba(229,235,238,1)",pos:"50_%"},{color:"rgba(215,222,227,1)",pos:"51_%"},{color:"rgba(245,247,249,1)",pos:"100_%"}],[{color:"rgba(255,255,255,0)",pos:"0_%"},{color:"rgba(255,255,255,1)",pos:"100_%"}],[{color:"rgba(255,255,255,0)",pos:"0_%"},{color:"rgba(255,255,255,0.2)",pos:"50_%"},{color:"rgba(255,255,255,0.8)",pos:"51_%"},{color:"rgba(255,255,255,0.8)",pos:"100_%"}],[{color:"rgba(64,150,238,1)",pos:"0_%"},{color:"rgba(14,90,255,1)",pos:"100_%"}],[{color:"rgba(59,103,158,1)",pos:"0_%"},{color:"rgba(43,136,217,1)",pos:"50_%"},{color:"rgba(32,124,202,1)",pos:"51_%"},{color:"rgba(125,185,232,1)",pos:"100_%"}],[{color:"rgba(109,179,242,1)",pos:"0_%"},{color:"rgba(84,163,238,1)",pos:"50_%"},{color:"rgba(54,144,240,1)",pos:"51_%"},{color:"rgba(30,105,222,1)",pos:"100_%"}],[{color:"rgba(183,222,237,1)",pos:"0_%"},{color:"rgba(113,206,239,1)",pos:"50_%"},{color:"rgba(33,180,226,1)",pos:"51_%"},{color:"rgba(183,222,237,1)",pos:"100_%"}],[{color:"rgba(228,245,252,0.7)",pos:"0_%"},{color:"rgba(191,232,249,0.5)",pos:"50_%"},{color:"rgba(159,216,239,1)",pos:"51_%"},{color:"rgba(42,176,237,1)",pos:"100_%"}],[{color:"rgba(64,150,238,0.5)",pos:"0_%"},{color:"rgba(14,90,255,1)",pos:"100_%"}],[{color:"rgba(228,245,252,1)",pos:"0_%"},{color:"rgba(191,232,249,1)",pos:"50_%"},{color:"rgba(159,216,239,1)",pos:"51_%"},{color:"rgba(42,176,237,1)",pos:"100_%"}],[{color:"rgba(206,219,233,1)",pos:"0_%"},{color:"rgba(170,197,222,1)",pos:"17_%"},{color:"rgba(97,153,199,1)",pos:"50_%"},{color:"rgba(58,132,195,1)",pos:"51_%"},{color:"rgba(65,154,214,1)",pos:"59_%"},{color:"rgba(75,184,240,1)",pos:"71_%"},{color:"rgba(58,139,194,1)",pos:"84_%"},{color:"rgba(38,85,139,1)",pos:"100_%"}],[{color:"rgba(184,225,252,1)",pos:"0_%"},{color:"rgba(169,210,243,1)",pos:"10_%"},{color:"rgba(144,186,228,1)",pos:"25_%"},{color:"rgba(144,188,234,1)",pos:"37_%"},{color:"rgba(144,191,240,1)",pos:"50_%"},{color:"rgba(107,168,229,1)",pos:"51_%"},{color:"rgba(162,218,245,1)",pos:"83_%"},{color:"rgba(189,243,253,1)",pos:"100_%"}],[{color:"rgba(208,228,247,1)",pos:"0_%"},{color:"rgba(115,177,231,1)",pos:"24_%"},{color:"rgba(10,119,213,1)",pos:"50_%"},{color:"rgba(83,159,225,1)",pos:"79_%"},{color:"rgba(135,188,234,1)",pos:"100_%"}],[{color:"rgba(208,228,247,0.2)",pos:"0_%"},{color:"rgba(115,177,231,0.3)",pos:"24_%"},{color:"rgba(10,119,213,0.5)",pos:"50_%"},{color:"rgba(83,159,225,0.3)",pos:"79_%"},{color:"rgba(135,188,234,0.2)",pos:"100_%"}],[{color:"rgba(208,228,247,1)",pos:"0_%"},{color:"rgba(115,177,231,0.5)",pos:"24_%"},{color:"rgba(10,119,213,0.2)",pos:"50_%"},{color:"rgba(83,159,225,0.5)",pos:"79_%"},{color:"rgba(135,188,234,1)",pos:"100_%"}],[{color:"rgba(81,184,41,1)",pos:"0_%"},{color:"rgba(21,134,0,1)",pos:"100_%"}],[{color:"rgba(193,240,50,1)",pos:"0_%"},{color:"rgba(123,180,0,1)",pos:"100_%"}],[{color:"rgba(230,240,163,1)",pos:"0_%"},{color:"rgba(210,230,56,1)",pos:"50_%"},{color:"rgba(195,216,37,1)",pos:"51_%"},{color:"rgba(219,240,67,1)",pos:"100_%"}],[{color:"rgba(157,213,58,1)",pos:"0_%"},{color:"rgba(161,213,79,1)",pos:"50_%"},{color:"rgba(128,194,23,1)",pos:"51_%"},{color:"rgba(124,188,10,1)",pos:"100_%"}],[{color:"rgba(157,213,58,0.3)",pos:"0_%"},{color:"rgba(161,213,79,0.3)",pos:"50_%"},{color:"rgba(128,194,23,0.6)",pos:"51_%"},{color:"rgba(124,188,10,0.9)",pos:"100_%"}],[{color:"rgba(81,184,41,0.4)",pos:"0_%"},{color:"rgba(21,134,0,1)",pos:"100_%"}],[{color:"rgba(191,210,85,1)",pos:"0_%"},{color:"rgba(142,185,42,1)",pos:"50_%"},{color:"rgba(114,170,0,1)",pos:"51_%"},{color:"rgba(158,203,45,1)",pos:"100_%"}],[{color:"rgba(180,227,145,1)",pos:"0_%"},{color:"rgba(97,196,25,1)",pos:"50_%"},{color:"rgba(180,227,145,1)",pos:"100_%"}],[{color:"rgba(180,221,180,1)",pos:"0_%"},{color:"rgba(131,199,131,1)",pos:"17_%"},{color:"rgba(82,177,82,1)",pos:"33_%"},{color:"rgba(0,138,0,1)",pos:"67_%"},{color:"rgba(0,87,0,1)",pos:"83_%"},{color:"rgba(0,36,0,1)",pos:"100_%"}],[{color:"rgba(0,120,46,1)",pos:"0_%"},{color:"rgba(0,80,46,1)",pos:"100_%"}],[{color:"rgba(180,227,145,0.3)",pos:"0_%"},{color:"rgba(97,196,25,0.9)",pos:"50_%"},{color:"rgba(180,227,145,0.3)",pos:"100_%"}],[{color:"rgba(180,227,145,0.9)",pos:"0_%"},{color:"rgba(97,196,25,0.2)",pos:"50_%"},{color:"rgba(180,227,145,0.9)",pos:"100_%"}],[{color:"rgba(250,198,149,1)",pos:"0_%"},{color:"rgba(245,171,102,1)",pos:"47_%"},{color:"rgba(239,141,49,1)",pos:"100_%"}],[{color:"rgba(249,198,103,1)",pos:"0_%"},{color:"rgba(247,150,33,1)",pos:"100_%"}],[{color:"rgba(252,234,187,1)",pos:"0_%"},{color:"rgba(252,205,77,1)",pos:"50_%"},{color:"rgba(248,181,0,1)",pos:"51_%"},{color:"rgba(251,223,147,1)",pos:"100_%"}],[{color:"rgba(255,168,76,1)",pos:"0_%"},{color:"rgba(255,123,13,1)",pos:"100_%"}],[{color:"rgba(248,80,50,0.3)",pos:"0_%"},{color:"rgba(241,111,92,0.3)",pos:"50_%"},{color:"rgba(246,41,12,0.4)",pos:"51_%"},{color:"rgba(240,47,23,0.6)",pos:"71_%"},{color:"rgba(231,56,39,0.6)",pos:"100_%"}],[{color:"rgba(255,168,76,0.5)",pos:"0_%"},{color:"rgba(255,123,13,1)",pos:"100_%"}],[{color:"rgba(254,204,177,1)",pos:"0_%"},{color:"rgba(241,116,50,1)",pos:"50_%"},{color:"rgba(234,85,7,1)",pos:"51_%"},{color:"rgba(251,149,94,1)",pos:"100_%"}],[{color:"rgba(255,183,107,1)",pos:"0_%"},{color:"rgba(255,167,61,1)",pos:"50_%"},{color:"rgba(255,124,0,1)",pos:"51_%"},{color:"rgba(255,127,4,1)",pos:"100_%"}],[{color:"rgba(248,80,50,1)",pos:"0_%"},{color:"rgba(241,111,92,1)",pos:"50_%"},{color:"rgba(246,41,12,1)",pos:"51_%"},{color:"rgba(240,47,23,1)",pos:"71_%"},{color:"rgba(231,56,39,1)",pos:"100_%"}],[{color:"rgba(243,197,189,1)",pos:"0_%"},{color:"rgba(232,108,87,1)",pos:"50_%"},{color:"rgba(234,40,3,1)",pos:"51_%"},{color:"rgba(255,102,0,1)",pos:"75_%"},{color:"rgba(199,34,0,1)",pos:"100_%"}],[{color:"rgba(252,234,187,0.5)",pos:"0_%"},{color:"rgba(252,205,77,0.7)",pos:"50_%"},{color:"rgba(248,181,0,0.7)",pos:"51_%"},{color:"rgba(251,223,147,0.5)",pos:"100_%"}],[{color:"rgba(252,234,187,0.9)",pos:"0_%"},{color:"rgba(252,205,77,0.2)",pos:"50_%"},{color:"rgba(248,181,0,0.2)",pos:"51_%"},{color:"rgba(251,223,147,0.9)",pos:"100_%"}],[{color:"rgba(255,93,177,1)",pos:"0_%"},{color:"rgba(239,1,124,1)",pos:"100_%"}],[{color:"rgba(255,50,162,1)",pos:"0_%"},{color:"rgba(255,0,132,1)",pos:"100_%"}],[{color:"rgba(251,131,250,1)",pos:"0_%"},{color:"rgba(233,60,236,1)",pos:"100_%"}],[{color:"rgba(229,112,231,1)",pos:"0_%"},{color:"rgba(200,94,199,1)",pos:"47_%"},{color:"rgba(168,73,163,1)",pos:"100_%"}],[{color:"rgba(252,236,252,0.5)",pos:"0_%"},{color:"rgba(251,166,225,0.5)",pos:"50_%"},{color:"rgba(253,137,215,0.8)",pos:"51_%"},{color:"rgba(255,124,216,1)",pos:"100_%"}],[{color:"rgba(255,50,162,0.5)",pos:"0_%"},{color:"rgba(255,0,132,0.8)",pos:"100_%"}],[{color:"rgba(252,236,252,1)",pos:"0_%"},{color:"rgba(251,166,225,1)",pos:"50_%"},{color:"rgba(253,137,215,1)",pos:"51_%"},{color:"rgba(255,124,216,1)",pos:"100_%"}],[{color:"rgba(203,96,179,1)",pos:"0_%"},{color:"rgba(193,70,161,1)",pos:"50_%"},{color:"rgba(168,0,119,1)",pos:"51_%"},{color:"rgba(219,54,164,1)",pos:"100_%"}],[{color:"rgba(203,96,179,1)",pos:"0_%"},{color:"rgba(173,18,131,1)",pos:"50_%"},{color:"rgba(222,71,172,1)",pos:"100_%"}],[{color:"rgba(239,197,202,1)",pos:"0_%"},{color:"rgba(210,75,90,1)",pos:"50_%"},{color:"rgba(186,39,55,1)",pos:"51_%"},{color:"rgba(241,142,153,1)",pos:"100_%"}],[{color:"rgba(239,197,202,0.4)",pos:"0_%"},{color:"rgba(210,75,90,0.6)",pos:"50_%"},{color:"rgba(186,39,55,0.6)",pos:"51_%"},{color:"rgba(241,142,153,0.4)",pos:"100_%"}],[{color:"rgba(203,96,179,0.8)",pos:"0_%"},{color:"rgba(173,18,131,0.2)",pos:"50_%"},{color:"rgba(222,71,172,0.9)",pos:"100_%"}],[{color:"rgba(255,48,25,1)",pos:"0_%"},{color:"rgba(207,4,4,1)",pos:"100_%"}],[{color:"rgba(252,134,187,1)",pos:"0_%"},{color:"rgba(252,105,77,1)",pos:"50_%"},{color:"rgba(248,81,0,1)",pos:"51_%"},{color:"rgba(251,123,147,1)",pos:"100_%"}],[{color:"rgba(255,104,177,1)",pos:"0_%"},{color:"rgba(255,16,50,1)",pos:"50_%"},{color:"rgba(255,0,7,1)",pos:"51_%"},{color:"rgba(255,40,94,1)",pos:"100_%"}],[{color:"rgba(169,3,41,1)",pos:"0_%"},{color:"rgba(143,2,34,1)",pos:"44_%"},{color:"rgba(109,0,25,1)",pos:"100_%"}],[{color:"rgba(255,48,25,0.5)",pos:"0_%"},{color:"rgba(207,4,4,1)",pos:"100_%"}],[{color:"rgba(255,104,177,0.1)",pos:"0_%"},{color:"rgba(255,16,50,0.3)",pos:"50_%"},{color:"rgba(255,0,7,0.5)",pos:"51_%"},{color:"rgba(255,40,94,0.8)",pos:"100_%"}]],defaultPoints:[{color:"rgba(0,0,0,0)",pos:"0_%"},{color:"rgba(0,0,0,1)",pos:"100_%"}],defaultStructure:{"linear-gradient":{type:"linear-gradient",angle:"180_deg",points:[],_scale:"100_%","background-size-x":"auto","background-size-y":"auto","background-position-x":"50_%","background-position-y":"50_%","background-repeat":"repeat","background-origin":"padding-box","background-clip":"border-box"},"repeating-linear-gradient":{type:"repeating-linear-gradient",angle:"180_deg",points:[],_scale:"100_%","background-size-x":"auto","background-size-y":"auto","background-position-x":"50_%","background-position-y":"50_%","background-repeat":"repeat","background-origin":"padding-box","background-clip":"border-box"},"radial-gradient":{type:"radial-gradient",posX:"50_%",posY:"50_%",size:"closest-side",shape:"ellipse",points:[],_scale:"100_%","background-size-x":"auto","background-size-y":"auto","background-position-x":"50_%","background-position-y":"50_%","background-repeat":"repeat","background-origin":"padding-box","background-clip":"border-box"},"repeating-radial-gradient":{type:"repeating-radial-gradient",posX:"50_%",posY:"50_%",size:"closest-side",shape:"circle",points:[],_scale:"100_%","background-size-x":"auto","background-size-y":"auto","background-position-x":"50_%","background-position-y":"50_%","background-repeat":"repeat","background-origin":"padding-box","background-clip":"border-box"}}},ui.presets.cubicBezier={data:[{val:[.25,.25,.75,.75],name:"linear"},{val:[.25,.1,.25,1],name:"ease"},{val:[.42,0,1,1],name:"ease-in"},{val:[0,0,.58,1],name:"ease-out"},{val:[.42,0,.58,1],name:"ease-in-out"},{val:[.55,.085,.68,.53],name:"easeInQuad     "},{val:[.55,.055,.675,.19],name:"easeInCubic    "},{val:[.895,.03,.685,.22],name:"easeInQuart    "},{val:[.755,.05,.855,.06],name:"easeInQuint    "},{val:[.47,0,.745,.715],name:"easeInSine     "},{val:[.95,.05,.795,.035],name:"easeInExpo     "},{val:[.6,.04,.98,.335],name:"easeInCirc     "},{val:[.6,-.28,.735,.04],name:"easeInBack     "},{val:[.25,.46,.45,.94],name:"easeOutQuad    "},{val:[.215,.61,.355,1],name:"easeOutCubic   "},{val:[.165,.84,.44,1],name:"easeOutQuart   "},{val:[.23,1,.32,1],name:"easeOutQuint   "},{val:[.39,.575,.565,1],name:"easeOutSine    "},{val:[.19,1,.22,1],name:"easeOutExpo    "},{val:[.075,.82,.165,1],name:"easeOutCirc    "},{val:[.175,.885,.32,1.275],name:"easeOutBack    "},{val:[.455,.03,.515,.955],name:"easeInOutQuad  "},{val:[.645,.045,.355,1],name:"easeInOutCubic "},{val:[.77,0,.175,1],name:"easeInOutQuart "},{val:[.86,0,.07,1],name:"easeInOutQuint "},{val:[.445,.05,.55,.95],name:"easeInOutSine  "},{val:[1,0,0,1],name:"easeInOutExpo  "},{val:[.785,.135,.15,.86],name:"easeInOutCirc  "},{val:[.68,-.55,.265,1.55],name:"easeInOutBack  "},{val:[.68,-.75,.265,1.75],name:"easeInOutBack2 "}],defaultStructure:"ease-in-out",getBezierName:function(a){for(var b=0;b<this.data.length;b++)if(a[0]==this.data[b].val[0]&&a[1]==this.data[b].val[1]&&a[2]==this.data[b].val[2]&&a[3]==this.data[b].val[3])return this.data[b].name;return"custom"}},ui.presets.boxShadow={data:{outsetShadow:[{type:"outset",x:"5_px",y:"5_px",blur:"8_px",spread:"2_px",color:"rgba(0,0,0,0.4)"},{type:"outset",x:"4_px",y:"4_px",blur:"6_px",spread:"1_px",color:"rgba(0,0,0,0.4)"},{type:"outset",x:"3_px",y:"3_px",blur:"4_px",spread:"0_px",color:"rgba(0,0,0,0.4)"},{type:"outset",x:"2_px",y:"2_px",blur:"2_px",spread:"0_px",color:"rgba(0,0,0,0.3)"},{type:"outset",x:"1_px",y:"1_px",blur:"1_px",spread:"0_px",color:"rgba(0,0,0,0.3)"},{type:"outset",x:"4_px",y:"4_px",blur:"8_px",spread:"2_px",color:"rgba(0,0,0,0.2)"},{type:"outset",x:"4_px",y:"4_px",blur:"7_px",spread:"2_px",color:"rgba(0,0,0,0.2)"},{type:"outset",x:"3_px",y:"3_px",blur:"6_px",spread:"1_px",color:"rgba(0,0,0,0.2)"},{type:"outset",x:"2_px",y:"2_px",blur:"5_px",spread:"0_px",color:"rgba(0,0,0,0.2)"},{type:"outset",x:"1_px",y:"1_px",blur:"4_px",spread:"0_px",color:"rgba(0,0,0,0.2)"}],insetShadow:[{type:"inset",x:"1_px",y:"1_px",blur:"0_px",spread:"0_px",color:"rgba(0,0,0,0.5)"},{type:"inset",x:"2_px",y:"2_px",blur:"2_px",spread:"0_px",color:"rgba(0,0,0,0.5)"},{type:"inset",x:"3_px",y:"3_px",blur:"4_px",spread:"0_px",color:"rgba(0,0,0,0.5)"},{type:"inset",x:"4_px",y:"4_px",blur:"6_px",spread:"1_px",color:"rgba(0,0,0,0.5)"},{type:"inset",x:"5_px",y:"5_px",blur:"8_px",spread:"2_px",color:"rgba(0,0,0,0.5)"},{type:"inset",x:"4_px",y:"4_px",blur:"8_px",spread:"2_px",color:"rgba(0,0,0,0.2)"},{type:"inset",x:"4_px",y:"4_px",blur:"7_px",spread:"2_px",color:"rgba(0,0,0,0.2)"},{type:"inset",x:"3_px",y:"3_px",blur:"6_px",spread:"1_px",color:"rgba(0,0,0,0.2)"},{type:"inset",x:"2_px",y:"2_px",blur:"5_px",spread:"0_px",color:"rgba(0,0,0,0.2)"},{type:"inset",x:"1_px",y:"1_px",blur:"4_px",spread:"0_px",color:"rgba(0,0,0,0.2)"}],outsetGlow:[{type:"outset",x:"0_px",y:"0_px",blur:"9_px",spread:"4_px",color:"rgba(0,0,0,0.5)"},{type:"outset",x:"0_px",y:"0_px",blur:"6_px",spread:"2_px",color:"rgba(0,0,0,0.5)"},{type:"outset",x:"0_px",y:"0_px",blur:"2_px",spread:"2_px",color:"rgba(0,0,0,0.5)"},{type:"outset",x:"0_px",y:"0_px",blur:"2_px",spread:"1_px",color:"rgba(0,0,0,0.5)"},{type:"outset",x:"0_px",y:"0_px",blur:"1_px",spread:"0_px",color:"rgba(0,0,0,0.5)"}],insetGlow:[{type:"inset",x:"0_px",y:"0_px",blur:"9_px",spread:"4_px",color:"rgba(0,0,0,0.5)"},{type:"inset",x:"0_px",y:"0_px",blur:"6_px",spread:"2_px",color:"rgba(0,0,0,0.5)"},{type:"inset",x:"0_px",y:"0_px",blur:"2_px",spread:"2_px",color:"rgba(0,0,0,0.5)"},{type:"inset",x:"0_px",y:"0_px",blur:"2_px",spread:"1_px",color:"rgba(0,0,0,0.5)"},{type:"inset",x:"0_px",y:"0_px",blur:"1_px",spread:"0_px",color:"rgba(0,0,0,0.5)"}]}},ui.presets.textShadow={data:{outsetShadow:[{x:"1_px",y:"1_px",blur:"0_px",color:"rgba(0,0,0,0.25)"},{x:"1_px",y:"1_px",blur:"2_px",color:"rgba(0,0,0,0.5)"},{x:"2_px",y:"2_px",blur:"2_px",color:"rgba(0,0,0,0.5)"},{x:"4_px",y:"4_px",blur:"6_px",color:"rgba(0,0,0,0.5)"}],insetShadow:[{x:"1_px",y:"1_px",blur:"0_px",color:"rgba(255,255,255,0.2)",text_color:"rgb(87, 87, 87)"},{x:"-1_px",y:"-1_px",blur:"0_px",color:"rgba(255,255,255,0.2)",text_color:"rgb(87, 87, 87)"},{x:"0_px",y:"0_px",blur:"2_px",color:"rgba(255,255,255, 0.5)",text_color:"rgb(87, 87, 87)"},{x:"0_px",y:"0_px",blur:"20_px",color:"rgba(255,255,255, 0.5)",text_color:"rgb(87, 87, 87)"}],outsetGlow:[{x:"0_px",y:"0_px",blur:"9_px",color:"rgba(255,255,86,0.7)"},{x:"0_px",y:"0_px",blur:"9_px",color:"rgba(20,255,20,0.7)"},{x:"4_px",y:"0_px",blur:"9_px",color:"rgba(86,170,255,0.9)"},{x:"0_px",y:"0_px",blur:"1_px",color:"rgba(255,86,86,0.9)"}]}},ui.controls={init:function(){var a=this;$.each(this,function(b,c){"object"==typeof c&&"root"!=b&&(c.root=a.root,c.init&&"function"==typeof c.init&&c.init())})},add:function(a,b,c){var d=this;$.isArray(a)||(a=[a]),$.isArray(b)||(b=[b]),$.isArray(c)||(c=[c]);var e=[];return a.map(function(a,f){function g(a,b){var c="enjoy__hide",d=(b.toggleContainer,b.toggleContainer.get(0)),e=d.classList;e.add(c);var f=!1;m=a.html(i.settings.html_open).on("click",function(){e.toggle(c);var b=f?i.settings.html_open:i.settings.html_close;a.html(b),f=!f})}var h=$("<span/>",{"class":"control"}).appendTo(b[f].container),i=b[f]||{},j=c[f]||function(){},k=function(a,b){j(a,b)};i&&i["class"]&&h.addClass(i["class"]);var l,m,n={},o=i.control;switch("undefined"!=typeof i.value&&(l=i.value),"undefined"==typeof i.value&&(l=cssg.get(o)),o&&(n["data-control"]=o),i.name&&(n["data-name"]=i.name),i.baseId&&(n["data-enjoyid"]=i.baseId),i.linked&&(n["data-linked"]=i.linked),i.linker&&(n["data-linker"]=i.linker),"undefined"!=typeof i.state&&(n["data-state"]=i.state),i.name&&d.root.namedControlsSettings[i.name]&&(i.options=$.extend(i.options,d.root.namedControlsSettings[i.name],!0)),a){case"range":i.options||(i.options={}),i.options.min=i.min,i.options.max=i.max,m=$("<span/>",n).appendTo(h),d.root.controls.numinput.aplyTo(m,{value:l,options:i.options},k);break;case"button":i.settings&&(i.settings["class"]&&(n["class"]=i.settings["class"]),i.settings.html&&(n.html=i.settings.html)),m=$("<span />",n),m.click($.isFunction(i.onClick)?i.onClick:function(){}),m.appendTo(h.addClass("enjoy__button_control"));break;case"tooltip":m=$("<span/>",n).addClass("enjoy__control_tooltip__span").addClass(i.button["class"]||"").html(i.button.html||""),m.tooltip({settings:i.settings,onOpen:$.isFunction(i.onOpen)?i.onOpen:function(){},onClose:$.isFunction(i.onClose)?i.onClose:function(){}}),m.appendTo(h.addClass("enjoy__control_tooltip"));break;case"slider":m=$("<span/>",n).appendTo(h),d.root.controls.slider.aplyTo(m,{value:l,options:i.options},k);break;case"selectbox":m=$("<span/>",n).appendTo(h),d.root.controls.selectbox.aplyTo(m,{value:l,options:i.options},k);break;case"grid":m=d.root.controls.grid.aplyTo(h,{cells:i.cells,onSelect:i.onSelect});break;case"input":m=$("<span/>",n).appendTo(h),d.root.controls.input.aplyTo(m,{value:l,options:i.options,textarea:i.textarea,validation:i.validation},k);break;case"colorpicker":m=$("<span/>",n).appendTo(h),d.root.controls.colorpicker.aplyTo(m,{value:l,color_only:!0},k);break;case"color":m=$("<span/>",n).appendTo(h),d.root.controls.colorpicker.aplyTo(m,{value:l},k);break;case"gradient":m=$("<span/>",n).appendTo(h),d.root.controls.gradient.aplyTo(m,{value:l},k);break;case"image":m=$("<span/>",n).appendTo(h),d.root.controls.image.aplyTo(m,{value:l},k);break;case"font":m=$("<span/>",n).appendTo(h),d.root.controls.font.aplyTo(m,{value:l},k);break;case"timing":m=$("<span/>",n).appendTo(h),d.root.controls.timing.aplyTo(m,{value:l},k);break;case"chooser":m=$("<span/>",n).appendTo(h),d.root.controls.chooser.aplyTo(m,{value:l,options:i.options,unselectValue:i.unselectValue,unselectable:i.unselectable},k);break;case"checkbox":h.addClass("control_checkbox"),m=$("<span/>",n).appendTo(h),d.root.controls.checkbox.aplyTo(m,{value:l,options:i.options},k);break;case"custom":m=h;break;case"more":m=g(h.addClass("control_text control_more"),i.settings);break;case"text":m=h.addClass("control_text").append('<span class="text">'+i.html+"</span>");break;case"sort_space":m=h.addClass("control_sort_space").html("&nbsp;");break;case"space":m=h.addClass("control_space control_button").html("&nbsp;");break;case"helper":m=h.addClass("control_helper"),d.root.controls.helper.aplyTo(m,{html:i.html});break;case"settings":var p=function(){for(var a=i.options.length;a--;)if("paste"===i.options[a].id){ui.layout.pasteHowTooltip(o)&&(i.options[a].tooltip=!0,i.options[a].content=ui.layout.createPasteTypeTooltip(o));break}q&&(q.trigger("closeMenu"),q.unbind()),q=d.root.controls.settings.aplyTo(m,{options:i.options,enableResetBtn:i.enableResetBtn},k),q.on("item_click",function(a,b){q.trigger("closeMenu"),d.root.layout.codeButtonHandler(b,o)}),q.on("menu_open",function(){var a=!cssg.hasPasteData(i.control),b=cssg.get(o),c=!1;b.type&&"color"==b.type&&(c=!0),q.trigger("setItemDisabled",["duplicate",c]),q.trigger("setItemDisabled",["paste",a])})};h.addClass("control_button control_settings"),m=$('<span class="hover_red icon icon_cog"/>',n).appendTo(h),m.attr("title","Options"),m.changePath=function(a){o=a,p()};var q=!1;p();break;case"settings_state":h.addClass("control_button control_settings"),m=$('<span class="hover_red icon icon_cog"/>',n).appendTo(h);var q=d.root.controls.settings.aplyTo(m,{options:i.options},k);q.on("item_click",function(a,b){switch(q.trigger("closeMenu"),b){case"copy":cssg.copyState(i.state);break;case"paste":cssg.pasteState(i.state,function(){d.root.panels.refreshAll(i.state),d.root.layout.switchState(i.state)});break;case"reset":cssg.resetState(i.state),d.root.panels.refreshAll(i.state),d.root.layout.switchState(i.state)}}),q.on("menu_open",function(){var a=!cssg.hasPasteData(!0,!0);q.trigger("setItemDisabled",["paste",a])});break;case"icon":m=h.addClass("enjoy_icon");break;case"remove":m=h.addClass("button control_button").attr("title","remove").append('<span class="hover_red icon icon_remove-2"></span>');break;case"inactive":m=h.addClass("button control_button control_inactive").append('<span class="icon icon_eye hover_gray" title="make inactive"></span><span class="icon icon_eye-disabled hover_gray"  title="make active"></span>');break;case"sort":m=h.addClass("button sort_button").attr("title","Drag & Drop to sort");break;case"linker":m=h.attr("data-linked",i.linked).attr("data-state",i.state).append('<div class="linker button"></div>');break;case"code":"tooltip"===i.type?(m=h.addClass("control_button control_code").attr("title","Get CSS code"),d.add("tooltip",{container:m,button:{"class":"hover_red icon icon_css3"},settings:{"class":"codeview__tooltip",content:function(){return ui.codeview.getTooltipCodeBlock(o)},horizontal:!0},onOpen:function(){$(".preproc_less_btn").add($(".preproc_sass_btn")).hide(),fns.async(function(){fns.selectTextByNode(ui.codeview.getCodeBlocks().css.pre[0])},110)}}),m.changePath=function(a){o=a}):(m=h.addClass("control_button control_code").attr("title","Get CSS").html('<span class="hover_red icon icon_css3"></span>').on("click",function(){d.root.codeview.show(o)}),m.changePath=function(a){o=a})}switch(a){case"color":case"colorpicker":case"gradient":case"font":case"timing":var r={hach_control:"location_hash_control"};h.find("> span").addClass(r.hach_control).click(function(){var a=0,b=this;h.closest(".acc_pane").find("."+r.hach_control).each(function(c){b==this&&(a=c)});var c="/",e=null;if(""!=window.location.hash&&(e=window.location.hash.split(c)),e){d.root.aside.isOpened?e[1]=a:e.length>1&&e.splice(1,1),window.location.hash=e.join(c);var f=enjoyCSS.points[cssg.currentEnjoyId].__settings;f.location_hash=window.location.hash}})}e.push(m)}),1==e.length?e[0]:e}},ui.controls.helper={init:function(){},aplyTo:function(a,b){return a.helper({html:b.html}),a}},ui.controls.input={init:function(){},cache:{},addToCache:function(a,b,c){a&&b&&(this.cache[a]?this.cache[a][b]||(this.cache[a][b]=[]):(this.cache[a]={},this.cache[a][b]=[]),this.cache[a][b].push(c))},aplyTo:function(a,b,c){a.input({textarea:b.textarea,settings:b.options,validation:b.validation,onChange:function(b){a.data("v",b),a.trigger("change")}}),a.on("change",function(){a.trigger("save"),a.trigger("change_linked")}),a.on("set",function(b,c){a.data("v",c),a.input("set",c)}),a.on("save",function(){var b=$(this),d=a.data("control"),e=b.data("v");cssg.change(d,e),"function"==typeof c&&c(e)});var d=this.cache;return a.on("change_linked",function(){var b=$(this),c=b.data("linked"),e=b.data("state");d[e]&&d[e][c]&&d[e][c].forEach(function(c){var d=$(c);d.get(0)!=a.get(0)&&(d.trigger("set",b.data("v")),d.trigger("save"))})}),a.trigger("set",b.value),this.addToCache(a.data("state"),a.data("linked"),a),a}},ui.controls.slider={init:function(){},aplyTo:function(a,b,c){return a.slider({settings:b.options,onChange:function(b){a.data("v",b),a.trigger("change")}}),a.on("change",function(){a.trigger("save"),a.trigger("change_linked")}),a.on("set",function(b,c){a.data("v",c),a.slider("set",c)}),a.on("save",function(){var b=$(this),d=a.data("control"),e=b.data("v");cssg.change(d,e),"function"==typeof c&&c(e)}),a.on("change_linked",function(){var a=$(this),b=a.data("linked"),c=a.data("state"),d=$('.linked [data-linked="'+b+'"][data-state="'+c+'"]');d.length&&$.each(d,function(b,c){var d=$(c);d.trigger("set",a.data("v")),d.trigger("save")})}),a.trigger("set",b.value),a}},ui.controls.numinput={init:function(){},aplyTo:function(a,b,c){$(this);return a.numinput({settings:b.options,onChange:function(b){a.data("v",b),a.trigger("change")}}),a.on("change",function(){a.trigger("save"),a.trigger("change_linked")}),a.on("set",function(b,c){a.data("v",c),a.numinput("set",c)}),a.on("save",function(){var b=$(this),d=a.data("control"),e=b.data("v");cssg.change(d,e),"function"==typeof c&&c(e)}),a.on("change_linked",function(){var a=$(this),b=a.data("linked"),c=a.data("state"),d=$('.linked [data-linked="'+b+'"][data-state="'+c+'"]');d.length&&$.each(d,function(b,c){var d=$(c);d.trigger("set",a.data("v")),d.trigger("save")})}),a.trigger("set",b.value),a}},ui.controls.chooser={init:function(){},aplyTo:function(a,b,c){var d=fns.randId(),e=!b.unselectable;return b.options&&b.options.length&&($(a).addClass("enjoy_chooser enjoy_radio_chooser"),jQuery.each(b.options,function(f,g){var h=jQuery("<input>",{id:d+"_"+f,type:"radio",name:d,value:g.val}).appendTo(a);jQuery("<label>",{"data-type":g.val,"for":d+"_"+f,html:g.text}).appendTo(a).on("click",function(d){return h[0].checked&&e?(h[0].checked=!1,d.stopPropagation(),d.preventDefault(),b.unselectValue?(cssg.change(a.data("control"),b.unselectValue),"function"==typeof c&&c(b.unselectValue)):cssg.remove(a.data("control")),!1):void 0})})),a.on("set",function(a,b){var c=$(this);c.data("v",b),c.find("input").prop("checked",!1),c.find("input[value='"+b+"']").prop("checked",!0)}),a.on("save",function(){var b=$(this),d=a.data("control"),e=b.data("v");cssg.change(d,e),"function"==typeof c&&c(e)}),a.on("change_linked",function(){var a=$(this),b=a.data("linked"),c=a.data("state"),d=$('.linked [data-linked="'+b+'"][data-state="'+c+'"]');d.length&&$.each(d,function(b,c){var d=$(c);d.trigger("set",a.data("v")),d.trigger("save")})}),a.find("input[type=radio]").on("change",function(){var b=$(this);b.trigger("set",a.find("input[type=radio]:checked").val()),b.trigger("save"),b.trigger("change_linked")}),b.value?a.trigger("set",b.value):e||a.find("input:first").prop("checked",!0),a}},ui.controls.checkbox={init:function(){},aplyTo:function(a,b,c){return a.checkbox({settings:b.options,onChange:function(b){a.data("v",b),a.trigger("change")}}),a.on("change",function(){a.trigger("save"),a.trigger("change_linked")}),a.on("set",function(b,c){a.data("v",c),a.checkbox("set",c)}),a.on("value",function(){return a.data("v")}),a.on("save",function(){var b=$(this),d=a.data("control"),e=b.data("v");cssg.change(d,e),"function"==typeof c&&c(e)
}),a.on("change_linked",function(){var a=$(this),b=a.data("linked"),c=a.data("state"),d=$('.linked [data-linked="'+b+'"][data-state="'+c+'"]');d.length&&$.each(d,function(b,c){var d=$(c);d.trigger("set",a.data("v")),d.trigger("save")})}),a.trigger("set",b.value),a}},ui.controls.colorpicker={init:function(){},aplyTo:function(a,b,c){var d=this;$(a).addClass("enjoy_chooser enjoy_preview_chooser");var e=$('<span class="enjoy_preview_chooser_indicator">');return a.append(e).append($('<span class="enjoy_arrow_icon" />')),a.on("click",function(c){c.preventDefault(),c.stopPropagation(),e.addClass("active");var f="background";b.color_only&&(f="color"),d.root.aside.toggle(c,f,{control:a,value_type:"color"});var g=$(this).data("v");b.color_only||d.root.aside[f].set(g,"color"),d.root.aside.color.set(g,function(c){a.trigger("set",c),a.trigger("save"),a.trigger("change_linked"),b.color_only||d.root.aside.background.set(c,"color")});var h=$(a).data("linked");$('.linked [data-linked="'+h+'"] .enjoy_color_chooser').addClass("active")}),a.on("set",function(a,b){var c=$(this),d=b;c.data("v",d),e.css("backgroundColor",cssg.rgba2cssValue(d))}),a.on("save",function(){var b=$(this),d=a.data("control"),e=b.data("v");cssg.change(d,e),"function"==typeof c&&c(e)}),a.on("change_linked",function(){var a=$(this),b=a.data("linked"),c=a.data("state"),d=$('.linked [data-linked="'+b+'"][data-state="'+c+'"]');d.length&&$.each(d,function(b,c){var d=$(c);d.trigger("set",a.data("v")),d.trigger("save")})}),a.trigger("set",b.value),a}},ui.controls.selectbox={init:function(){},aplyTo:function(a,b,c){return a.selectbox({options:b.options,onChange:function(b){a.data("v",b),a.trigger("change")}}),a.on("change",function(){a.trigger("save"),a.trigger("change_linked")}),a.on("set",function(b,c){a.data("v",c),a.selectbox("set",c)}),a.on("save",function(){var b=$(this),d=a.data("control"),e=b.data("v");cssg.change(d,e),"function"==typeof c&&c(e)}),a.on("change_linked",function(){var a=$(this),b=a.data("linked"),c=a.data("state"),d=$('.linked [data-linked="'+b+'"][data-state="'+c+'"]');d.length&&$.each(d,function(b,c){var d=$(c);d.trigger("set",a.data("v")),d.trigger("save")})}),a.trigger("set",b.value),a}},ui.controls.timing={init:function(){},aplyTo:function(a,b,c){var d=this;return a.timing({settings:b.options,onChange:function(b){a.data("v",b),a.trigger("change")}}),a.on("click",function(b){b.preventDefault(),b.stopPropagation(),d.root.aside.toggle(b,"timing"),d.root.aside.timing.set($(this).data("v"),function(b){a.trigger("set",[b]),a.trigger("save"),a.trigger("change_linked")})}),a.on("set",function(b,c){a.data("v",c),a.timing("set",c)}),a.on("save",function(){var b=$(this),d=a.data("control"),e=b.data("v");cssg.change(d,e),"function"==typeof c&&c(e)}),a.on("change_linked",function(){var a=$(this),b=a.data("linked"),c=a.data("state"),d=$('.linked [data-linked="'+b+'"][data-state="'+c+'"]');d.length&&$.each(d,function(b,c){var d=$(c);d.trigger("set",a.data("v")),d.trigger("save")})}),a.trigger("set",[b.value]),a}},ui.controls.gradient={init:function(){},aplyTo:function(a,b,c){var d=this;$(a).addClass("enjoy_chooser enjoy_preview_chooser");{var e=$('<span class="enjoy_preview_chooser_indicator ">').appendTo(a);$('<span class="enjoy_arrow_icon icon_caret-left">').appendTo(a)}return a.on("click",function(b){b.preventDefault(),b.stopPropagation(),e.addClass("active"),d.root.aside.toggle(b,"background",{control:a,value_type:"gradient"});var c=$(this).data("v");d.root.aside.background.set(c,"gradient"),d.root.aside.gradient.set(c,function(b){a.trigger("set",b),a.trigger("save"),d.root.aside.background.set(b,"gradient")})}),a.on("set",function(a,b){var c=$(this);c.data("v",b),$.each(cssg.allBrArr,function(a,c){var d=cssg.kvPointGradient(b,c);e.css("backgroundImage",d)})}),a.on("save",function(){var b=$(this),d=a.data("control"),e=b.data("v");cssg.change(d,e),"function"==typeof c&&c(e)}),a.on("change_linked",function(){var a=$(this),b=a.data("linked"),c=a.data("state"),d=$('.linked [data-linked="'+b+'"][data-state="'+c+'"]');d.length&&$.each(d,function(b,c){var d=$(c);d.trigger("set",a.data("v")),d.trigger("save")})}),a.trigger("set",b.value),a}},ui.controls.image={init:function(){},aplyTo:function(a,b,c){var d=this;$(a).addClass("enjoy_chooser enjoy_preview_chooser");{var e=$('<span class="enjoy_preview_chooser_indicator ">').appendTo(a);$('<span class="enjoy_arrow_icon icon_caret-left">').appendTo(a)}return a.on("click",function(b){b.preventDefault(),b.stopPropagation(),e.addClass("active"),d.root.aside.toggle(b,"background",{control:a,value_type:"image"});var c=$(this).data("v");d.root.aside.background.set(c,"image"),d.root.aside.image.set(c,function(b){a.trigger("set",b),a.trigger("save"),d.root.aside.background.set(b,"image")})}),a.on("set",function(a,b){var c=$(this);c.data("v",b),b=fns.clone(b),e.css("backgroundImage",cssg.url2cssValue(b.url))}),a.on("save",function(){var b=$(this),d=a.data("control"),e=b.data("v");cssg.change(d,e),"function"==typeof c&&c(e)}),a.on("change_linked",function(){var a=$(this),b=a.data("linked"),c=a.data("state"),d=$('.linked [data-linked="'+b+'"][data-state="'+c+'"]');d.length&&$.each(d,function(b,c){var d=$(c);d.trigger("set",a.data("v")),d.trigger("save")})}),a.trigger("set",b.value),a}},ui.controls.font={init:function(){},aplyTo:function(a,b,c){var d=this;$(a).addClass("enjoy_chooser enjoy_preview_chooser");{var e=$('<span class="enjoy_font">').appendTo(a);$('<div class="enjoy_arrow_icon"></div>').appendTo(a)}return a.on("click",function(b){b.preventDefault(),b.stopPropagation(),e.addClass("active"),d.root.aside.toggle(b,"font"),d.root.aside.font.set($(this).data("v"),function(b){a.trigger("set",b),a.trigger("save")},!0)}),a.on("set",function(a,b){var c=$(this);switch(c.data("v",b),b=fns.clone(b),b.type){case"google":$("<link>",{href:"http://fonts.googleapis.com/css?family="+b.family,rel:"stylesheet",type:"text/css"}).appendTo("head");break;case"adobe":b.family=b.family.toLowerCase().replace(/ /g,"-"),$("<script>",{src:"http://use.edgefonts.net/"+b.family+".js"}).appendTo("head")}e.css("font-family",cssg.kvFontFamily(b)).html(b.family)}),a.on("save",function(){var b=$(this),d=a.data("control"),e=b.data("v");cssg.change(d,e),"function"==typeof c&&c(e)}),a.on("change_linked",function(){var a=$(this),b=a.data("linked"),c=a.data("state"),d=$('.linked [data-linked="'+b+'"][data-state="'+c+'"]');d.length&&$.each(d,function(b,c){var d=$(c);d.trigger("set",a.data("v")),d.trigger("save")})}),a.trigger("set",b.value),a}},ui.controls.settings={init:function(){},aplyTo:function(a,b){return a.settings_button({options:b.options,enableResetBtn:b.enableResetBtn,onChange:function(b){a.data("v",b),a.trigger("change")}}),a.on("setItemDisabled",function(b,c,d){a.settings_button("setDisabled",c,d)}),a.on("closeMenu",function(){a.settings_button("close")}),a}},ui.controls.grid={init:function(){},aplyTo:function(a,b){$(this);return a.grid({cells:b.cells,onSelect:b.onSelect||function(){}}),a}},ui.linker={init:function(){var a=this;$.each(this,function(b,c){"object"==typeof c&&"root"!=b&&(c.root=a.root,c.init&&"function"==typeof c.init&&c.init())})},compare:function(){var a=this;$("[data-linker][data-state]").off("change").on("change",function(){var b=$(this),c=b.data("state"),d=b.data("linker"),e=b.data("v");d.split(" ").map(function(b){e?a.markAsLinked(c,b,!1):a.markAsUnlinked(c,b,!1)})}),$("[data-linked][data-state]").map(function(b,c){var d=$(c),e=d.data("state"),f=d.data("linked"),g=d.data("v");"undefined"==typeof a._linkedIndicators&&(a._linkedIndicators={}),"undefined"==typeof a._linkedIndicators[e]&&(a._linkedIndicators[e]={}),"undefined"==typeof a._linkedIndicators[e][f]&&(a._linkedIndicators[e][f]=!0),a._linkedIndicators[e][f]=g+""==a._linkedIndicators[e][f]+""||a._linkedIndicators[e][f]===!0?g+"":!1}),$.each(a._linkedIndicators,function(b,c){$.each(c,function(c,d){d?"-"!==d&&a.markAsLinked(b,c,!0):a.markAsUnlinked(b,c,!0)})}),a._linkedIndicators={}},markAsLinked:function(a,b,c){var d=$('[data-linked="'+b+'"][data-state="'+a+'"]');if(d.closest(".control").addClass("linked"),c){var e=$('[data-linker*="'+b+'"][data-state="'+a+'"]');e.trigger("set",!0)}else d.first().trigger("change_linked"),d.last().trigger("change_linked")},markAsUnlinked:function(a,b,c){var d=this,e=$('[data-linked="'+b+'"][data-state="'+a+'"]');if(e.closest(".control").removeClass("linked"),c){var f=$('[data-linker*="'+b+'"][data-state="'+a+'"]');f&&f.data("v")===!0&&f.data("linker").split(" ").map(function(b){d.markAsUnlinked(a,b,!1)}),f.trigger("set",!1)}}},ui.codeview={hasHTML:!1,hasCSS:!1,init:function(){var a=this;$.each(this,function(b,c){"object"==typeof c&&"root"!=b&&(c.root=a.root,c.init&&"function"==typeof c.init&&c.init())});var b=a.root;a.currentChoosedOptions={hideDefaultRules:cssg.getSettings().hideDefault,browsers:cssg.defaultBrowsers,tab:2},a.codeView=$("<div/>",{"class":"codeview"}).on("click",function(a){a.stopPropagation()}),a.codeSettings=$("<div>",{"class":"codeview_settings"}).appendTo(a.codeView),a.codeSettingsBrowser=$("<div>",{"class":"codeview_settings_browser"}).html("<div class='codeview_browsers_label'>We'll add only required prefixes<br> for browsers you gonna choose,<br> based on data from <a href='http://caniuse.com' target='_blank'>caniuse.com</a></div><div class='codeview_browsers'></div>").appendTo(a.codeSettings),a.codeSettingsBrowser.find(".codeview_browsers").browsers({caniuse:window.caniuse,browsers:cssg.defaultBrowserProps,onChange:function(b){a.currentChoosedOptions.browsers=b,a.show(a.currentPath,a.currentChoosedOptions)}}).browsers("set",cssg.defaultBrowsers),a.codeDefaultStyles=$("<div>",{"class":"codeview_settings_default_styles"}).html("<div class='codeview_default_styles_checkbox'></div><div class='codeview_default_styles_label'>Hide default rules</div>").appendTo(a.codeSettingsBrowser),a.codeBlock=$("<div />",{"class":"codeview__code"}).appendTo(a.codeView),a.codeBlocks={},$.each(["html","css"],function(b,c){var d,e=a.codeBlocks[c]={};d=e.wrapper=$("<div/>",{"class":"codeview_wrapper codeview__"+c,"data-title":c.toUpperCase()}).appendTo(a.codeBlock),e.copy=$("<a/>",{"class":"button codeview_button codeview_button_copy icon_copy"}).html("Copy to clipboard").appendTo(d);var f=c.toUpperCase();if("css"==c){var f=$('<div class="preproc_btns">');$.each(["css","less","scss"],function(b,c){var d=$('<div class="preproc_btn preproc_'+c+'_btn">').html(c.toUpperCase()).appendTo(f).click(function(){c="css"==c?!1:c,a.updateCode(cssg.getCurrentPointId(),a.currentChoosedOptions,c),f.find(".preproc_btn").removeClass("active"),$(this).addClass("active")});"css"==c&&d.addClass("active")})}e.title=$("<div/>",{"class":"codeview_title"}).appendTo(d).append(f),e.pre=$("<pre/>",{"class":"codeview_pre code_font"}).appendTo(d)});var c=a.codeDefaultStyles.find(".codeview_default_styles_checkbox"),d=b.controls.add("checkbox",{container:c,"class":"codeview__hide_default"},function(b){cssg.setHideDefault(b),a.currentChoosedOptions.hideDefaultRules=cssg.getSettings().hideDefault,a.show(a.currentPath,a.currentChoosedOptions)});d.trigger("set",cssg.getSettings().hideDefault),a.codeDefaultStyles.find(".codeview_default_styles_label").on("click",function(){c.find("input").trigger("click")}),ZeroClipboard.config({swfPath:EnjoyCSS.settings.ZeroClipboard.moviePath}),a.clip=new ZeroClipboard({}),a.clip.on("noflash",function(){}),a.clip.on("aftercopy",function(){$("body").triggerEnjoy("toggle","Copied")})},show:function(a,b){this.codeView.append(this.codeBlock);var c=this;$("body").popup("isOpened")||($("body").popup("open",{obj:c.codeView,route_params:router.params_by_path("code",a)}),$(".preproc_css_btn").addClass("active"),$(".preproc_less_btn").add($(".preproc_sass_btn")).show().removeClass("active")),c.updateCode(a,b)},getTooltipCodeBlock:function(){var a,b=$("<div />",{"class":"codeview__default_css",html:"Default CSS"}),c=$("<div />",{"class":"codeview__tooltip_content"}),d=$("<span />",{text:"Advanced settings","data-tooltip-click-fire-event":"close"}).click(function(){ui.codeview.show(a)});return c.append($("<div />",{"class":"codeview__tooltip_advanced_settings"}).append(d)),function(d){return c.detach(),b.detach(),a=d,this.updateCode(a),this.hasCSS?c.prepend(this.codeBlock):b}}(),getCodeBlocks:function(){return this.codeBlocks},updateCode:function(a,b,c){var d,e=this,f={html:[],css:[]},g=[];e.currentPath=a,a=a.split("|"),d=a.pop().split(","),d.forEach(function(b){g.push(a.concat([b]).join("|"))}),g.forEach(function(a){var c,d,g;if(b=b||e.currentChoosedOptions,-1===a.indexOf("|")){c=fns.clone(cssg.generateCode(a,b));for(var h=0;h<c.css[0].length;h++){var i=c.css[0][h];-1!=i.indexOf(cssg.parentSelector)&&c.css[0].splice(h,1)}d=c.html,d=Object.keys(d).map(function(a){return d[a][0]}),g=[],d.forEach(function(a){g.contains(a)||g.push(a)}),f.html.push(cssg.getNodeHtml()+g.join("")),f.css.push(c.css[0].join(""))}else c={html:[],css:[]},2==a.split("|").length?cssg.settings.standard.map(function(d){var e=cssg.pathToCodeArr(a+"|"+d,b);c.html=c.html.concat(e.html),c.css=c.css.concat(e.css)}):c=cssg.pathToFullCode(a,b),c.css=c.css.filter(function(a){return-1!=a.indexOf("perspective")?!1:!0}),f.html.push($.trim(c.html.join(""))),f.css.push($.trim(c.css.join("")))}),f.html=f.html.filter(function(a){return!!a}),Array.isArray(f.html)&&(f.html=$.trim(f.html.join("\n"))),f.css=f.css.filter(function(a){return!!a}),Array.isArray(f.css)&&(f.css=$.trim(f.css.join("\n"))),c&&(f.css=cssg.getPreprocCode(c,b)),e.hasHTML=!!f.html,e.hasCSS=!!f.css,e.codeBlocks.html.wrapper[e.hasHTML?"removeClass":"addClass"]("hide"),$.each(["html","css"],function(a,b){e.codeBlocks[b].pre.text(f[b]),fns.async(function(){Rainbow.color(f[b],b,function(a){e.codeBlocks[b].pre.html(a),e.codeBlocks[b].copy.attr({"data-clipboard-text":f[b]}),e.clip.clip(e.codeBlocks[b].copy[0]),fns.selectTextByNode(e.codeBlocks.css.pre[0])})},100)})}},ui.layout={init:function(){var a=this;this.defineContainers(),$.each(this,function(b,c){"object"==typeof c&&"root"!=b&&(c.root=a.root,c.init())}),this.currentState=0,this.addHandlers(),cssg.initFrames(),cssg.sortViews(),cssg.canSaveUndo=!0},defineContainers:function(){var a=this;this.container=$("#layout"),this.viewsLayout=$("#views_layout");var b=cssg.getLayoutType();a.changePreviewsLayout(b),this.viewsBlock=this.viewsLayout.find(".views");for(var c=cssg.getStatesCount(),d=0;c>d;d++){var e=$('<div class="view state'+d+'_view state_view">				<div class="view_options">				</div>				<div class="view_icons">				</div>				<iframe></iframe>				</div>');this.viewsBlock.append(e)}},addHandlers:function(){var a=this;this.views=this.viewsLayout.find(".view"),this.views.each(function(b){$(this).unbind("mousedown").on("mousedown",function(){a.switchState(b)}),$(this).find("iframe").contents().find("body").unbind().click(function(){a.switchState(b),$("body").click()}),$(this).find("iframe").load(function(){$(this).contents().find("body").unbind().click(function(){a.switchState(b),$("body").click()})});var c=$(this).find(".view_icons").empty(),d=cssg.getStatePath(b);a.root.controls.add("code",{container:c,control:d,value:!0}),a.root.controls.add("settings_state",{container:c,state:b,control:!1,value:!0,options:[{id:"copy",label:"Copy"},{id:"paste",label:"Paste",disabled:!0},{id:"reset",label:"Reset"}]})})},changePreviewsLayout:function(a){var b=this;cssg.setLayoutType(a);var c=b.viewsLayout.find(".views"),d=["vertical","horizontal","mixed"],e="preview_layout_";$.each(d,function(a,b){c.removeClass(e+b)}),c.addClass(e+a)},initPreviewBackgroundControls:function(){var a=this;a.root.layout.previews_background_group.find(".preview_background__text, .preview_background__image").remove();var b=cssg.currentEnjoyId+"|__settings|background",c=cssg.get(b);a.root.controls.add("text",{container:a.root.layout.previews_background_group,html:"Preview background","class":"preview_background__text"});var d="image",e=b+"";switch(c.type){case"color":d=c.type,e=b+"|color";break;case"linear-gradient":d="gradient",e=b+""}a.root.controls.preview_bg_control=ui.controls.add(d,{container:a.root.layout.previews_background_group,"class":"preview_background__image",control:e},function(){cssg.refreshBackground()})},switchState:function(a){this.currentState=a,this.root.panels.changeStatePanel(a),$(".state_view").removeClass("active_view"),$(".state"+a+"_view").addClass("active_view"),$(".accordion_header_state_name").html(cssg.getStatePreviewTitle(a))},disableHeaderButtons:function(){this.changeHeaderControlState(!1)},enableHeaderButtons:function(){this.changeHeaderControlState(!0)},undoRedoButtonsState:function(){var a=$(".header_button_undo"),b=$(".header_button_redo");cssg.undoStack.length>1?a.removeClass("undo_disabled"):a.addClass("undo_disabled"),cssg.redoStack.length>0?b.removeClass("undo_disabled"):b.addClass("undo_disabled")},toUndo:function(){var a=this;cssg.saveToUndo(),a.undoRedoButtonsState()},disableAnimation:function(a){var b=$("body");a?b.addClass("disable_animation"):b.removeClass("disable_animation")},changeHeaderControlState:function(a){var b=$(".header_right a,.header_center a");a?b.removeClass("disabled"):b.addClass("disabled")},pasteHowTooltip:function(a){return-1!==["background","box-shadow","text-shadow","transition"].indexOf(cssg.getPathTypeByPath(a))},createPasteTypeTooltip:function(a){function b(a,b){return"paste_"+a+"_"+b}var c=cssg.getTargetDataType(a),d="all"===c?"all":"current",e=this.root.panels.getPanelClassNameByPath(a),f=this.root.panels[e],g=cssg.getStateIndexByPath(a),h=function(b){cssg.pastePathData(a,function(){f.refresh(g)},!1,b+"_"+d)},i=$("<div>",{"class":"popup_paste"}),j="after",k="replace",l=$("<div>",{"data-tooltip-click-fire-event":"close","class":"paste_btn paste_left_btn paste_"+d}).addClass(b(j,d)).click(function(){h(j)}),m=$("<div>",{"data-tooltip-click-fire-event":"close","class":"paste_btn paste_right_btn paste_"+d}).addClass(b(k,d)).click(function(){h(k)});return i.append($("<div />").append($("<div />",{"class":"popup_paste__label",text:j})).append($("<div />",{"class":"popup_paste__label",text:k}))).append($("<div />").append(l).append(m)),i},codeButtonHandler:function(a,b){var c=this,d=cssg.getPathTypeByPath(b),e=cssg.getStateIndexByPath(b),f=c.root.panels.getPanelClassNameByPath(b),g=c.root.panels[f],h=!1;switch(d){case"box":case"text":case"transform":h=c.root.panels.getStatePanelPathes(e,g)}switch(a){case"copy":cssg.copyPathData(b,h);break;case"paste":switch(d){case"background":case"box-shadow":case"text-shadow":case"transition":var i=(cssg.getSourceDataType(d),cssg.getTargetDataType(b)),j="current";return"all"==i&&(j="all"),c.root.layout.createPasteTypePopup(j,function(a){cssg.pastePathData(b,function(){g.refresh(e)},!1,a+"_"+j)})}cssg.pastePathData(b,function(){g.refresh(e)},h);break;case"code":c.root.codeview.show(b);break;case"reset":var b=[b];h&&(b=h),cssg.reset(b),c.root.panels.refreshAll();break;case"duplicate":cssg.copyPathData(b);var j="current";cssg.pastePathData(b,function(){g.refresh(e)},!1,"after_"+j)}},saveRequest:function(a){var b="",c={},d=a.sid||0,e="function"==typeof a.success?a.success:function(){};a.data&&(c.data=a.data),d?(b="/structure/update",c.sid=d):b="/structure/save",$.ajax({type:"post",url:b,data:c,dataType:"json",beforeSend:function(){$("body").triggerEnjoy("open","Saving...")},success:function(a){return a.error?(alert(a.error),void $("body").triggerEnjoy("close")):(router.refresh(a),$(".header_button_code").attr("href",router.share_url_code),$(".header_button_templates").attr("href",router.share_url_gallery),d||ui.updateHeaderButtons(),$("footer").socialSharing("refresh"),e(),void $("body").triggerEnjoy("close"))},error:function(a){}})}},ui.layout.tabs={tabs:{text:{title:"Text",path:"text"},background:{title:"Background",path:"background|points"},box:{title:"Size, position, offset",path:"box"},boxShadow:{title:"Box shadows",path:"box-shadow|points"},textShadow:{title:"Text shadows",path:"text-shadow|points"},border:{title:"Border and radius",path:"border,border-radius"},transition:{title:"Transitions",path:"transition|points"},transform:{title:"Transforms",path:"transform"}},init:function(){var a=this;a.root.tabs_btns={};var b=this.tabs,c=["width","height","padding","margin","overflow","display","float","z-index","box-sizing","position","opacity","cursor"];c.id="box";var d=["positioning|top","positioning|right","positioning|bottom","positioning|left"];d.id="positioning";var e=["border","border-radius","border,border-radius"];$("body").on("stylechange",function(b,f){Array.isArray(f)||(f=[f]);for(var g,h,i,j,k=a.$accordion[0].panelHeaders,l=f.length;l--;)g=f[l],h=cssg.splitPath(g,!0),i=h.propertyCamelCase,e.contains(h.property)?(i="border",j=cssg.isDefaultValueByPath(cssg.joinPath([h.pointId,h.state,"border"]))&&cssg.isDefaultValueByPath(cssg.joinPath([h.pointId,h.state,"border-radius"]))):c.contains(h.property)||h.property===c.id||h.property===d.id?(i=c.id,j=c.every(function(a){return cssg.isDefaultValueByPath(cssg.joinPath([h.pointId,h.state,a]))}),j&&(j=d.every(function(a){return cssg.isDefaultValueByPath(cssg.joinPath([h.pointId,h.state,a]))}))):j=cssg.isDefaultValueByPath(h.propertyFullPath),k[i][j?"addClass":"removeClass"]("hide_code_button")});var f=$("<div>",{"class":"acc_wrapper"}).appendTo($(".panes"));a.$accordion=f,f.accordion({tabs:b,history:!0,onTabRender:function(c,d){var e=cssg.getStatePath(0)+"|"+b[c].path,f=a.root.controls.add("code",{type:"tooltip",container:d,control:e}),g=[{id:"copy",label:"Copy"},{id:"paste",label:"Paste",disabled:!0}];switch(c){case"box":case"text":case"border":case"transform":g.push({id:"reset",label:"Reset"});break;default:g.push({id:"reset",label:"Delete All"})}var h=a.root.controls.add("settings",{container:d,control:e,options:g});a.root.tabs_btns[c]={code:f,settings:h,path:b[c].path}},onTabClick:function(){}}),this.refreshCodeButtonsVisible();var g=enjoyCSS.points[cssg.currentEnjoyId].__settings;if(g.location_hash&&""==window.location.hash&&(window.location.hash=g.location_hash),""!=window.location.hash){var h="/",i=window.location.hash.split(h),j=i[0].replace("#","");f.accordion("open",j),g.location_hash=window.location.hash}},refreshCodeButtonsVisible:function(){var a=this,b=cssg.currentEnjoyId,c=ui.layout.currentState||0;$("body").trigger("stylechange",[Object.keys(a.$accordion[0].panelHeaders).map(function(d){return cssg.joinPath(b,c,a.tabs[d].path)})])}},ui.layout.options={init:function(){this.viewOptions=$(".view_options_list")}},ui.panels={init:function(){var a=this;a.statesCount=cssg.getStatesCount(),$.each(this,function(b,c){if("object"==typeof c&&"root"!=b){c.root=a.root,c.nhaStates={},c.form=$("<form/>",{"class":"nha_panel"}).appendTo("#"+b),c.mover=$("<div/>",{"class":"nha_mover"}).appendTo(c.form);for(var d=0;d<a.statesCount;d++){var e=cssg.getStateName(d),f={heightChanged:function(){},container:$("<fieldset/>",{"data-content":e,"class":"nha_column state"+d+"_nha_column"}).appendTo(c.mover)};c.nhaStates[d]=f}c.init()}}),a.root.layout.switchState(0)},initStatePanels:function(a){$.each(this,function(b,c){if("object"==typeof c&&"root"!=b&&c.mover){var d=cssg.getStateName(a),e={heightChanged:function(){},container:$("<fieldset/>",{"data-content":d,"class":"nha_column state"+a+"_nha_column"}).appendTo(c.mover)};c.nhaStates[a]=e,c.initState(a)}})},recalcNhaPanelsPosition:function(a){for(var b=this,c=0;c<b.statesCount;c++)a.nhaStates[c]&&a.nhaStates[c].container.css("top",c*(100/b.statesCount)+"%")},selectedState:0,changeStatePanel:function(a){var b=this,c=0;a=a||a==c?a:b.selectedState,b.selectedState=a,$.each(b,function(b,c){c.mover&&($.each(c.nhaStates,function(a,b){b.container.removeClass("active_column")}),c.nhaStates[a].container.addClass("active_column"))});for(var d in b.root.tabs_btns){var e=b.root.tabs_btns[d],f=cssg.getStatePath(a)+"|"+e.path;e.code.changePath(f),e.settings.changePath(f)}ui.layout.tabs.refreshCodeButtonsVisible()},createStatePanels:function(a){var b=this;b.statesCount=cssg.getStatesCount();var c=cssg.getStateIndexByName(a);b.initStatePanels(c)},recalcNhaPanelsHeight:function(){},addGroup:function(a){var b=$("<ul/>",{"class":"group "+(a["class"]||"")}).appendTo(a.container);return a.items_with_border_bottom&&b.addClass("items_with_border_bottom"),b.on("update",function(){a.sortable&&b.sortable("destroy").sortable({handle:".sort_button",items:".section_sortable"}).off("sortupdate").on("sortupdate",function(b,c){cssg.swapPointsByIndex(a.path,c.sIndex,c.dIndex)}),b.trigger("checkEmpty")}),b.on("checkEmpty",function(){1===b.find("> li.section").length?b.addClass("group_no_items"):b.removeClass("group_no_items")}),b},addSection:function(a){var b=this,c=a["class"]||"",d=$("<li/>",{"class":"section "+c}),e=a.container.find(".section_header");a.before?e.get(0)?d.insertAfter(e):d.prependTo(a.container):d.appendTo(a.container);var f={container:d,state:a.state,baseId:b.root.baseId};if(a.sortable===!0){{b.root.controls.add("sort",f)}d.addClass("section_sortable")}else"disabled"===a.sortable&&b.root.controls.add("sort_space",f);if(a.inactivable===!0){var g=a.path+"|_inactive",h=cssg.get(g);h&&d.addClass("section_inactive");var i=b.root.controls.add("inactive",f);i.addClass("control_inactive"),i.on("mousedown",function(){var a=cssg.get(g);a?(cssg.change(g,!1),d.removeClass("section_inactive")):(cssg.change(g,!0),d.addClass("section_inactive")),$(this).addClass("hoverignore")}),i.on("mouseleave",function(){$(this).removeClass("hoverignore")})}else"disabled"===a.removable&&b.root.controls.add("space",f);return d.on("remove_section",function(){cssg.remove(a.path),d.addClass("section_to_remove"),setTimeout(function(){d.remove(),a.container.trigger("checkEmpty")},500)}),a.path&&d.attr("data-path",a.path),a.removable===!0?b.root.controls.add("remove",f).on("click",function(){d.trigger("remove_section")}):"disabled"===a.removable&&b.root.controls.add("space",f),a.settings&&(this.root.controls.add("settings",{container:d,control:a.path,options:[{id:"copy",label:"Copy"},{id:"paste",label:"Paste",disabled:!0},{id:"duplicate",label:"Duplicate"}]}),this.root.controls.add("code",{type:"tooltip",container:d,control:a.path})),a.animate&&(d.addClass("section_just_added"),setTimeout(function(){d.removeClass("section_just_added")},100)),d},refreshAll:function(a){var b=this;b.statesCount=cssg.getStatesCount(),b.clearNhaStates();for(var c=0;c<b.statesCount;c++)b.initStatePanels(c);if($.each(this,function(c,d){if("object"==typeof d&&"root"!=c&&d.refresh)if(a)d.refresh(a);else for(var e=0;e<b.statesCount;e++)d.refresh(e)}),b.changeStatePanel(0),b.root.layout.addHandlers(),b.root.layout.initPreviewBackgroundControls(),""!=window.location.hash){var d="/",e=window.location.hash.split(d),f=e[0].replace("#",""),g=e[1];g&&setTimeout(function(){$(".panes #"+f+" .location_hash_control").eq(g).click()},0)}},clearNhaStates:function(){$.each(this,function(a,b){"object"==typeof b&&"root"!=a&&b.mover&&(b.nhaStates={},b.mover.empty())})},rerenderStatePanel:function(a,b){var c=b.nhaStates[a];c.container.empty(),b.initState(a)},refreshStatePanelControls:function(a){var b=a.container,c=b.find("[data-control]");c.each(function(){var a=$(this),b=a.attr("data-control"),c=cssg.get(b);a.trigger("set",c)})},getStatePanelPathes:function(a,b){var c=b.nhaStates[a],d=c.container,e=d.find("[data-control]"),f=[];return e.each(function(){var a=$(this),b=a.attr("data-control");f.push(b)}),f},getPanelClassNameByPath:function(a){var b=cssg.getPathTypeByPath(a),c=b;switch(-1!=b.indexOf("transform")&&(b="transform"),b){case"box-shadow":c="boxShadow";break;case"text-shadow":c="textShadow";break;case"border-radius":c="border"}return c},addSectionHeader:function(a){return $("<li/>",{"class":"section section_header "+(a["class"]||"")}).appendTo(a.container)},addSectionFooter:function(a){return $("<li/>",{"class":"section section_footer "+a["class"]||""}).appendTo(a.container)},_button:function(a){var b=a.type;return this.root.controls.add("tooltip",{container:a.to,"class":"panels__add_button_control",button:{"class":"hover_green icon_plus-2 panels__add_button",html:"add "+b},settings:{content:a.content,vertical:!0,centered:"undefined"==typeof a.centered?!0:a.centered},onOpen:a.onOpen,onClose:a.onClose})},addButtons:function(a){var b,c,d=a.container,e=$("<span />",{"class":"panels__add_buttons"});delete a.container;for(c in a)b=a[c],this[c]=this._button({to:e,type:b.type,content:b.content,centered:b.centered});e.appendTo(d)}},ui.panels.common={init:function(){var a=this;$.each(a.nhaStates,function(b){a.initState(b)})},initState:function(a){var b=this;b._tmp_linked_indicator={width:!0,color:!0,style:!0,radius:!0};var c=b.nhaStates[a];c.sectionsContainer=$("#common_pane .state"+a+"_nha_column"),c.propContainer=$("<div/>",{"class":"common_prop_container"}).appendTo(c.sectionsContainer),c.propSectionHeader=$("<div/>",{"class":"section common_section section_header"}).appendTo(c.propContainer),$("<span/>",{"class":"control prop_title_common_control"}).html("").appendTo(c.propSectionHeader),$("<span/>",{"class":"control common-width-control"}).html("Width").appendTo(c.propSectionHeader),$("<span/>",{"class":"control common-style-control"}).html("Style").appendTo(c.propSectionHeader),$("<span/>",{"class":"control common-color-control"}).html("Color").appendTo(c.propSectionHeader),c.radiusContainer=$("<div/>",{"class":"common_radius_container"}).appendTo(c.sectionsContainer),c.radiusSectionHeader=$("<div/>",{"class":"section common_section section_header"}).appendTo(c.radiusContainer),$("<span/>",{"class":"control radius_title_common_control"}).html("").appendTo(c.radiusSectionHeader),$("<span/>",{"class":"control common-radius-control"}).html("Radius").appendTo(c.radiusSectionHeader),c.propSectionFooter=$("<div/>",{"class":"section common_section section_footer"}).appendTo(c.propContainer),$("<span/>",{"class":"control prop_title_common_control"}).html("").appendTo(c.propSectionFooter),$("<span/>",{"class":"control common-width-control"}).html('<div class="linker button"></div>').appendTo(c.propSectionFooter),$("<span/>",{"class":"control common-style-control"}).html('<div class="linker button"></div>').appendTo(c.propSectionFooter),$("<span/>",{"class":"control common-color-control"}).html('<div class="linker button"></div>').appendTo(c.propSectionFooter),c.radiusSectionFooter=$("<div/>",{"class":"section common_section section_footer"}).appendTo(c.radiusContainer),$("<span/>",{"class":"control radius_title_common_control"}).html("").appendTo(c.radiusSectionFooter),$("<span/>",{"class":"control common-radius-control"}).html('<div class="linker button"></div>').appendTo(c.radiusSectionFooter)},_markAsLinked:function(a,b){var c=this,d=$("#common_pane .state"+a+"_nha_column").find(".common_main_section, .section_footer").find(".common-"+b+"-control");d.addClass("linked"),d.find(".linker").attr("title","Make values changing separately").off("click").on("click",function(){c._markAsUnlinked(a,b)})},_markAsUnlinked:function(a,b){var c=this,d=$("#common_pane .state"+a+"_nha_column").find(".common_main_section, .section_footer").find(".common-"+b+"-control");d.removeClass("linked"),d.find(".linker").attr("title","Have the same value for all column").off("click").on("click",function(){c._markAsLinked(a,b),d.find("[data-control]").first().trigger("change_linked")})},addSection:function(a,b){var c=this,d=$("<div/>",{"class":"section common_main_section"}).appendTo(c.nhaStates[a].radiusContainer);$("<span/>",{"class":"control radius_title_common_control common_icon prop-icon-"+b.radius}).attr("title",b.radius.split("-radius")[0].split("common-")[1]).appendTo(d);var e=$("<span/>",{"class":"control common-radius-control"}).appendTo(d),f=$("<input/>",{type:"range",value:"0","data-control":b.radius,"data-state":a,"data-enjoyid":c.root.baseId,"data-linked":"common-radius-"+a}).appendTo(e),g=cssg.get(c.root.baseId,a,b.radius);c._tmp_linked_indicator.radius=g===c._tmp_linked_indicator.radius||c._tmp_linked_indicator.radius===!0?g:!1,this.root.controls.range.aplyTo(f,{value:g,min:settings[b.radius][0],max:settings[b.radius][1]});
var d=$("<div/>",{"class":"section common_main_section"}).appendTo(c.nhaStates[a].propContainer);$("<span/>",{"class":"control prop_title_common_control common_icon prop-icon-"+b.width}).attr("title",b.style.split("-style")[0].split("common-")[1]).appendTo(d);var h=$("<span/>",{"class":"control common-width-control"}).appendTo(d),i=$("<input/>",{type:"range",value:"0","data-control":b.width,"data-state":a,"data-enjoyid":c.root.baseId,"data-linked":"common-width-"+a}).appendTo(h),g=cssg.get(c.root.baseId,a,b.width);c._tmp_linked_indicator.width=g===c._tmp_linked_indicator.width||c._tmp_linked_indicator.width===!0?g:!1,this.root.controls.range.aplyTo(i,{value:g,min:settings[b.width][0],max:settings[b.width][1]});var j=(fns.randId(),$("<span/>",{"class":"control common-style-control"}).appendTo(d)),k=$("<span/>",{"class":"type-chooser common-type-chooser chooser","data-control":b.style,"data-state":a,"data-enjoyid":c.root.baseId,"data-linked":"common-style-"+a}).appendTo(j);k.html(' <input type="radio" name="'+b.style+a+'" value="solid"  id="'+b.style+a+'-solid" /><label for="'+b.style+a+'-solid" ><span class="bsolid" ></span></label ><input type="radio" name="'+b.style+a+'" value="dashed" id="'+b.style+a+'-dashed"/><label for="'+b.style+a+'-dashed"><span class="bdashed"></span></label ><input type="radio" name="'+b.style+a+'" value="dotted" id="'+b.style+a+'-dotted"/><label for="'+b.style+a+'-dotted"><span class="bdotted"></span></label ><input type="radio" name="'+b.style+a+'" value="double" id="'+b.style+a+'-double"/><label for="'+b.style+a+'-double"><span class="bdouble"></span></label>');var g=cssg.get(c.root.baseId,a,b.style);c._tmp_linked_indicator.style=g===c._tmp_linked_indicator.style||c._tmp_linked_indicator.style===!0?g:!1,this.root.controls.chooser.aplyTo(k,{value:g});var l=$("<span/>",{"class":"control linked common-color-control"}).appendTo(d),m=$("<span/>",{"class":"color-chooser chooser"}).appendTo(l),n=$("<span/>",{"data-control":b.color,"data-state":a,"data-enjoyid":c.root.baseId,"data-linked":"common-color-"+a}).appendTo(m),g=cssg.get(c.root.baseId,a,b.color);return c._tmp_linked_indicator.color=g==c._tmp_linked_indicator.color+""||c._tmp_linked_indicator.color===!0?g+"":!1,this.root.controls.colorpicker.aplyTo(n,{value:g}),c._tmp_linked_indicator}},ui.panels.box={init:function(){var a=this;$.each(a.nhaStates,function(b){a.initState(b)})},initState:function(a){var b,c=this,d=c.nhaStates[a],e=cssg.currentEnjoyId+"|"+a,f=function(b,d){var f=[[0,1,2],[0,1,2],[0,1,2]],g={};return g.table=$("<div>",{"class":"box_table box_table_"+d}).appendTo(b),f.map(function(b,f){g["row"+f]=$("<div>",{"class":"box_row box_row"+f}).appendTo(g.table),b.map(function(b,h){g["cell"+f+h]=$("<div>",{"class":"box_cell box_cell"+h+" box_cell"+f+h}).appendTo(g["row"+f]),(1!=f||1!=h)&&g["cell"+f+h].addClass("box_cell_"+d);var i=!1;if(0===f&&1===h?i="top":1===f&&0===h?i="left":1===f&&2===h?i="right":2===f&&1===h&&(i="bottom"),i){var j={name:d,state:a,container:g["cell"+f+h],baseId:c.root.baseId,"class":"box_control",control:e+"|"+d+"|"+i};("padding"===d||"margin"===d)&&(j.linked=d),c.root.controls.add("range",j,function(){n(m)})}})}),g};d.group3=this.root.panels.addGroup({container:d.container,state:a,"class":"box_group box_group3"});var b=this.root.panels.addSection({container:d.group3});this.root.controls.add("text",{container:b,html:"Size"}),this.root.controls.add("range",{container:b,"class":"box_control box_width_control",min:0,control:e+"|width"}),this.root.controls.add("text",{container:b,"class":"box_separator",html:"/"}),this.root.controls.add("range",{container:b,"class":"box_control box_height_control",min:0,control:e+"|height"}),d.group1=this.root.panels.addGroup({container:d.container,state:a,"class":"box_group box_group1"});var g=f(d.group1,"positioning"),h=f(g.cell11,"margin"),i=f(h.cell11,"padding"),j=d.group1.find(".box_cell_positioning"),k=d.group1.find(".box_cell_margin"),l=d.group1.find(".box_cell_padding"),m=!1;j.mouseenter(function(){m="positioning",n("positioning")}).mouseleave(function(){m=!1,n(!1,!0)}),k.mouseenter(function(){m="margins",n("margins")}),l.mouseenter(function(){m="paddings",n("paddings")});var n=function(b,c){var d=cssg.getAllIndents(a),e=cssg.getIndentLines(a),f={paddings:"hsla(197, 100%, 83%, 0.77)",margins:"hsla(114, 100%, 83%, 0.77)",positioning:"hsla(38, 100%, 83%, 0.77)"};if(c)for(var g in e){var h=e[g];h.attr("stroke-width","0")}else{var i=d[b];for(var g in i){var h=e[g],j="";switch(g){case"top":case"bottom":j="y";break;case"left":case"right":j="x"}var k=d[b+"_position"][g];h.attr(j+"1",k).attr(j+"2",k).attr("stroke",f[b]).attr("stroke-width",d[b][g])}}};g.cell00.html('<span class="box_label">position</span>'),h.cell00.html('<span class="box_label">margin</span>'),i.cell00.html('<span class="box_label">padding</span>'),d.group0=this.root.panels.addGroup({container:d.container,state:a,items_with_border_bottom:!0,"class":"items box_group box_group0"}),d.group2=this.root.panels.addGroup({container:d.container,state:a,items_with_border_bottom:!0,"class":"items box_group box_group2"}),b=this.root.panels.addSection({container:d.group0}),this.root.controls.add("text",{container:b,html:"Display"}),c.gradientShape=this.root.controls.add("selectbox",{container:b,control:e+"|display","class":"box_control box_display_control",options:[{val:"block",chooserHtml:"block",dropdownHtml:'<span class="label">block</span><span        class="selectbox-dropdown-icon selectbox-dropdown-icon-display-block"></span>'},{val:"inline-block",chooserHtml:"inline-block",dropdownHtml:'<span class="label">inline-block</span><span class="selectbox-dropdown-icon selectbox-dropdown-icon-display-inline-block"></span>'},{val:"inline",chooserHtml:"inline",dropdownHtml:'<span class="label">inline</span><span       class="selectbox-dropdown-icon selectbox-dropdown-icon-display-inline"></span>'}]}),b=this.root.panels.addSection({container:d.group0}),this.root.controls.add("text",{container:b,html:"Position"}),c.gradientShape=this.root.controls.add("selectbox",{container:b,control:e+"|position","class":"box_control box_position_control",options:[{val:"static",chooserHtml:"static",dropdownHtml:'<span class="label">static</span><span      class="selectbox-dropdown-icon selectbox-dropdown-icon-position-static"></span>'},{val:"relative",chooserHtml:"relative",dropdownHtml:'<span class="label">relative</span><span    class="selectbox-dropdown-icon selectbox-dropdown-icon-position-relative"></span>'},{val:"absolute",chooserHtml:"absolute",dropdownHtml:'<span class="label">absolute</span><span    class="selectbox-dropdown-icon selectbox-dropdown-icon-position-absolute"></span>'},{val:"fixed",chooserHtml:"fixed",dropdownHtml:'<span class="label">fixed</span><span       class="selectbox-dropdown-icon selectbox-dropdown-icon-position-fixed"></span>'}]}),b=this.root.panels.addSection({container:d.group0}),this.root.controls.add("text",{container:b,html:"Box-sizing"}),this.root.controls.add("selectbox",{container:b,"class":"box_control box_sizing_control",control:e+"|box-sizing",unselectable:!0,options:[{val:"content-box",chooserHtml:"content-box",dropdownHtml:'<span class="label">content-box</span><span  class="selectbox-dropdown-icon selectbox-dropdown-icon-box-sizing-border-box"></span>'},{val:"border-box",chooserHtml:"border-box",dropdownHtml:'<span class="label">border-box</span><span   class="selectbox-dropdown-icon selectbox-dropdown-icon-box-sizing-content-box"></span>'}]}),b=this.root.panels.addSection({container:d.group0}),this.root.controls.add("text",{container:b,html:"Overflow"}),this.root.controls.add("selectbox",{container:b,"class":"box_control box_overflow_control",control:e+"|overflow",unselectable:!0,options:[{val:"visible",chooserHtml:"visible",dropdownHtml:'<span class="label">visible</span><span   class="selectbox-dropdown-icon selectbox-dropdown-icon-visibility-visible"></span>'},{val:"scroll",chooserHtml:"scroll",dropdownHtml:'<span class="label">scroll</span><span    class="selectbox-dropdown-icon selectbox-dropdown-icon-visibility-scroll"></span>'},{val:"hidden",chooserHtml:"hidden",dropdownHtml:'<span class="label">hidden</span><span    class="selectbox-dropdown-icon selectbox-dropdown-icon-visibility-hidden"></span>'},{val:"auto",chooserHtml:"auto",dropdownHtml:'<span class="label">auto</span><span      class="selectbox-dropdown-icon selectbox-dropdown-icon-visibility-auto"></span>'}]}),b=this.root.panels.addSection({container:d.group2}),this.root.controls.add("text",{container:b,html:"Float"}),this.root.controls.add("selectbox",{name:"float",container:b,"class":"box_control box_float_control",control:e+"|float",unselectable:!0,options:[{val:"none",chooserHtml:"none",dropdownHtml:'<span class="label">none</span><span   class="selectbox-dropdown-icon selectbox-dropdown-icon-float-none"></span>'},{val:"left",chooserHtml:"left",dropdownHtml:'<span class="label">left</span><span   class="selectbox-dropdown-icon selectbox-dropdown-icon-float-left"></span>'},{val:"right",chooserHtml:"right",dropdownHtml:'<span class="label">right</span><span  class="selectbox-dropdown-icon selectbox-dropdown-icon-float-right"></span>'}]}),b=this.root.panels.addSection({container:d.group2}),this.root.controls.add("text",{container:b,html:"z-index"}),this.root.controls.add("range",{container:b,"class":"box_control box_zIndex_control",control:e+"|z-index",name:"z-index"}),b=this.root.panels.addSection({container:d.group2}),this.root.controls.add("text",{container:b,html:"Cursor"}),c.gradientShape=this.root.controls.add("selectbox",{container:b,control:e+"|cursor","class":"box_control box_cursor_control",options:[{val:"default",chooserHtml:"default",dropdownHtml:"default"},{val:"pointer",chooserHtml:"pointer",dropdownHtml:"pointer"},{val:"progress",chooserHtml:"progress",dropdownHtml:"progress"},{val:"crosshair",chooserHtml:"crosshair",dropdownHtml:"crosshair"}]}),b=this.root.panels.addSection({container:d.group2}),this.root.controls.add("text",{container:b,"class":"",html:"Opacity"}),this.root.controls.add("slider",{container:b,"class":"box_control box_opacity_control",control:e+"|opacity",options:{min:0,max:1,round:2}}),b=this.root.panels.addSection({container:h.cell02}),this.root.controls.add("text",{container:b,"class":"border_options_control",html:"Lock"}),this.root.controls.add("checkbox",{container:b,"class":"border_options_control",linker:"margin",state:a}),b=this.root.panels.addSection({container:i.cell02}),this.root.controls.add("text",{container:b,"class":"border_options_control",html:"Lock"}),this.root.controls.add("checkbox",{container:b,"class":"border_options_control",linker:"padding",state:a})},addSection:function(a,b){var c=this,d=c.nhaStates[a],e=this.root.baseId+"|"+a,f=this.root.panels.addSection({container:d.group1}),g={container:f,state:a,baseId:c.root.baseId};this.root.controls.add("icon",jQuery.extend({"class":"box_mpicon_control",title:b.padding+", "+b.margin},g)),this.root.controls.add("range",jQuery.extend({"class":"box_control box_padding_control",linked:"padding",control:e+"|padding|"+b.padding},g)),this.root.controls.add("range",jQuery.extend({"class":"box_control box_margin_control",linked:"margin",control:e+"|margin|"+b.margin},g))},refresh:function(a){var b=this;$.each(b.nhaStates,function(c,d){a&&c!=a||b.root.panels.refreshStatePanelControls(d)})}},ui.panels.boxShadow={init:function(){var a=this;this.drawPresets(),$.each(a.nhaStates,function(b){a.initState(b)})},initState:function(a){var b=this,c=b.nhaStates[a],d=cssg.currentEnjoyId+"|"+a+"|box-shadow|points";c.group=this.root.panels.addGroup({container:c.container,state:a,path:d,items_with_border_bottom:!0,sortable:!0});var e=this.root.panels.addSectionHeader({container:c.group});b.root.controls.add("sort_space",{container:e,html:"","class":""}),b.root.controls.add("space",{container:e,html:"","class":""}),b.root.controls.add("space",{container:e,html:"","class":""}),b.root.controls.add("text",{container:e,html:"color","class":"box_shadow_color_control"}),b.root.controls.add("text",{container:e,html:"offset X","class":"box_shadow_text_control"}),b.root.controls.add("text",{container:e,html:"offset Y","class":"box_shadow_text_control"}),b.root.controls.add("text",{container:e,html:"blur","class":"box_shadow_text_control"}),b.root.controls.add("text",{container:e,html:"spread","class":"box_shadow_text_control"}),b.root.controls.add("text",{container:e,html:"type","class":"box_shadow_type_control"}),b.addAddMoreButton(a),$.each(cssg.get(d),function(c,d){b.addSection(a,d,!1)}),c.group.trigger("update"),c.heightChanged()},refresh:function(a){var b=this;b.root.panels.rerenderStatePanel(a,b)},addSection:function(a,b,c){var d=this,e=d.nhaStates[a],f=cssg.currentEnjoyId+"|"+a+"|box-shadow|points|_:"+b._,g=this.root.panels.addSection({container:e.group,path:f,"class":"box_shadow_section",sortable:!0,removable:!0,inactivable:!0,settings:!0,state:a,animate:c,before:c}),h={container:g,state:a,baseId:cssg.currentEnjoyId};d.root.controls.add("colorpicker",jQuery.extend({"class":"box_shadow_color_control",control:f+"|color"},h)),d.root.controls.add("range",jQuery.extend({"class":"box_shadow_offsetx_control",control:f+"|x",name:"box-shadow-offset-x"},h)),d.root.controls.add("range",jQuery.extend({"class":"box_shadow_offsety_control",control:f+"|y",name:"box-shadow-offset-y"},h)),d.root.controls.add("range",jQuery.extend({"class":"box_shadow_blur_control",min:0,control:f+"|blur",name:"box-shadow-blur"},h)),d.root.controls.add("range",jQuery.extend({"class":"box_shadow_spread_control",control:f+"|spread",name:"box-shadow-spread"},h));var i=["inset","outset"];this.root.controls.add("selectbox",{container:g,"class":"box_shadow_type_control",control:f+"|type",options:i.map(function(a){return{val:a,chooserHtml:'<div class="box_shadow_icon enjoy_icon box_shadow_icon_type_'+a+'"></div>',dropdownHtml:'<div class="box_shadow_icon enjoy_icon box_shadow_icon_type_'+a+'"></div>'}})}),c&&(e.group.trigger("update"),e.heightChanged())},addAddMoreButton:function(a){ui.panels.addButtons({container:this.nhaStates[a].container,buttonAddBoxShadow:{type:"box shadow",content:this.boxShadowPatterns}})},drawPresets:function(){var a=this;a.boxShadowPatterns=$("<div/>",{"class":"box_shadow_patterns"});var b={outsetShadow:"Outer Shadow",insetShadow:"Inner Shadow",outsetGlow:"Outer Glow",insetGlow:"Inner Glow"};$.each(b,function(b,c){{var d=$("<div/>",{"class":"box_shadow_patterns_group"}).appendTo(a.boxShadowPatterns);$("<h3/>",{"class":"box_shadow_patterns_header"}).appendTo(d).html(c)}$.each(a.root.presets.boxShadow.data[b],function(b,c){var e=$("<div>",{"class":"box_shadow_preset_item","data-tooltip-click-fire-event":"close"}),f=$("<div>",{"class":"box_shadow_preset_item_core","data-tooltip-click-fire-event":"close"}).appendTo(e),g=cssg.kvPointBoxShadow(c);$.each(cssg.allBrArr,function(a,b){f.css(cssg.addBrowserPrefix("box-shadow",b),g)}),e.appendTo(d),e.on("click",function(){var b=a.root.layout.currentState,d=fns.clone(c),e=cssg.addBefore(cssg.currentEnjoyId+"|"+b+"|box-shadow|points",d);a.addSection(b,e,!0),$("body").popup("close")})})})}},ui.panels.background={init:function(){var a=this;this.drawPresets(),$.each(a.nhaStates,function(b){a.initState(b)})},initState:function(a){var b=this,c=b.nhaStates[a],d=cssg.currentEnjoyId+"|"+a+"|background|points";c.group=this.root.panels.addGroup({container:c.container,state:a,path:d,items_with_border_bottom:!0,sortable:!0});var e=this.root.panels.addSectionHeader({container:c.group});b.root.controls.add("sort_space",{container:e,html:"","class":""}),b.root.controls.add("space",{container:e,html:"","class":""}),b.root.controls.add("space",{container:e,html:"","class":""}),b.root.controls.add("text",{container:e,html:"type","class":"background_color_control"}),b.root.controls.add("text",{container:e,html:"repeat","class":"background_repeat_control"}),b.root.controls.add("text",{container:e,html:"width","class":"background_size_text_control_w"}),b.root.controls.add("text",{container:e,html:"height","class":"background_size_text_control_h"}),b.root.controls.add("text",{container:e,html:"x","class":"background_position_text_control_x"}),b.root.controls.add("text",{container:e,html:"y","class":"background_position_text_control_y"}),b.addAddMoreButton(a),$.each(cssg.get(d),function(c,d){b.addSection(a,d,!1)}),c.group.trigger("update"),c.heightChanged()},getControlByPath:function(a,b){var c=this;return $('[data-control="'+b+'"]',c.nhaStates[a].container)},refresh:function(a){var b=this;b.root.panels.rerenderStatePanel(a,b)},removeSection:function(a){$('.section[data-path="'+a+'"]').trigger("remove_section")},addSection:function(a,b,c){var d=this,e=d.nhaStates[a],f=cssg.currentEnjoyId+"|"+a+"|background|points|_:"+b._,g=this.root.panels.addSection({container:e.group,path:f,"class":"background_section",sortable:"color"==b.type?"disabled":!0,removable:!0,inactivable:!0,settings:!0,state:a,before:c&&"color"!==b.type,animate:c}),h={container:g,state:a,baseId:this.root.baseId},i="",j=f,k="";if(-1!==b.type.indexOf("gradient")?(i="gradient",k="Gradient"):"color"==b.type?(i="color",k="Color",j+="|color"):"image"==b.type&&(i="image",k="Image",j+=""),this.root.controls.add(i,jQuery.extend({"class":"background_gradient_control",control:j},h)),"color"!=b.type){var l=["repeat","repeat-x","repeat-y","no-repeat"];d.gradientType=this.root.controls.add("selectbox",jQuery.extend({"class":"background_repeat_control",control:f+"|background-repeat",options:l.map(function(a){return{val:a,chooserHtml:'<div class="background_icon enjoy_icon background_icon_'+a+'"></div>',dropdownHtml:'<div class="background_icon enjoy_icon background_icon_'+a+'"></div>'}})},h)),this.root.controls.add(["range","text","range"],[jQuery.extend({"class":"background_size_control_w",name:"background-size",control:f+"|background-size-x"},h),jQuery.extend({html:'<span class="text_prefixlabel">/</span>'},h),jQuery.extend({"class":"background_size_control_h",name:"background-size",control:f+"|background-size-y"},h)]),this.root.controls.add(["range","text","range"],[jQuery.extend({"class":"background_position_control_x",name:"background-position-x",control:f+"|background-position-x"},h),jQuery.extend({html:'<span class="text_prefixlabel">/</span>'},h),jQuery.extend({"class":"background_position_control_y",name:"background-position-y",control:f+"|background-position-y"},h)])}return c&&(e.group.trigger("update"),e.heightChanged()),g},addAddMoreButton:function(a){ui.panels.addButtons({container:this.nhaStates[a].container,buttonAddColor:{type:"color",content:this.colorPatterns,centered:!1},buttonAddImage:{type:"image",content:this.imagePatterns},buttonAddGradient:{type:"gradient",content:this.gradientPatterns,centered:!1}})},drawPresets:function(){var a=this,b=$("<div/>",{"class":"background_color_patterns"}),c=$("<div/>",{"class":"background_texture_patterns"}),d=$("<div/>",{"class":"background_gradient_patterns"}),e=$("<div/>",{"class":"background_add_preset_btn button button1","data-tooltip-click-fire-event":"close"});$.each(this.root.presets.texture.data,function(b,d){var e=$("<div>",{"class":"background_pattern_item"}),f=$("<div>",{"class":"background_pattern_item_core","data-tooltip-click-fire-event":"close"}).appendTo(e);f.css("backgroundImage",cssg.url2cssValue(d)),e.appendTo(c),e.on("click",function(){var b=a.root.layout.currentState,c=fns.clone(a.root.presets.texture.defaultStructure);c.url=fns.clone(d);var e=cssg.addBefore(a.root.baseId+"|"+b+"|background|points",c),f=a.addSection(b,e,!0);f.find(".enjoy_preview_chooser").click()})});e.clone().html("Add custom image").click(function(){var b=a.root.layout.currentState,c=fns.clone(a.root.presets.texture.defaultStructure),d=cssg.addBefore(a.root.baseId+"|"+b+"|background|points",c),e=a.addSection(b,d,!0);e.find(".enjoy_preview_chooser").click()}).appendTo(c);$.each(this.root.presets.color.data,function(c,d){var e=$("<div>",{"class":"background_pattern_item"}),f=$("<div>",{"class":"background_pattern_item_core","data-tooltip-click-fire-event":"close"}).appendTo(e);f.css("backgroundColor",cssg.rgba2cssValue(d)),e.appendTo(b),e.on("click",function(){var b=a.root.layout.currentState,c=fns.clone(a.root.presets.color.defaultStructure);c.color=fns.clone(d);$.each(cssg.get(a.root.baseId+"|"+b+"|background|points"),function(c,d){"color"==d.type&&a.removeSection(a.root.baseId+"|"+b+"|background|points|_:"+d._)});var e=cssg.add(a.root.baseId+"|"+b+"|background|points",c),f=a.addSection(b,e,!0);f.find(".enjoy_preview_chooser").click()})});e.clone().html("Add custom color").click(function(){var b=a.root.layout.currentState,c=fns.clone(a.root.presets.color.defaultStructure);$.each(cssg.get(a.root.baseId+"|"+b+"|background|points"),function(c,d){"color"==d.type&&a.removeSection(a.root.baseId+"|"+b+"|background|points|_:"+d._)});var d=cssg.add(a.root.baseId+"|"+b+"|background|points",c),e=a.addSection(b,d,!0);e.find(".enjoy_preview_chooser").click()}).appendTo(b);$.each(this.root.presets.gradient.data,function(b,c){var e=$("<div>",{"class":"background_pattern_item"}),f=$("<div>",{"class":"background_pattern_item_core","data-tooltip-click-fire-event":"close"}).appendTo(e),g=fns.clone(a.root.presets.gradient.defaultStructure["linear-gradient"]);g.points=fns.clone(c),g.angle="-135_deg";var h=cssg.kvPointGradient(g);$.each(cssg.allBrArr,function(a,b){f.css("backgroundImage",cssg.addBrowserPrefix(h,b))}),e.appendTo(d),e.on("click",function(){var b=a.root.layout.currentState,d=fns.clone(a.root.presets.gradient.defaultStructure["linear-gradient"]);d.points=fns.clone(c);var e=cssg.addBefore(a.root.baseId+"|"+b+"|background|points",d),f=a.addSection(b,e,!0);f.find(".enjoy_preview_chooser").click()})});e.clone().html("Add custom gradient").click(function(){var b=a.root.layout.currentState,c=fns.clone(a.root.presets.gradient.defaultStructure["linear-gradient"]);c.points=fns.clone(a.root.presets.gradient.defaultPoints);var d=cssg.addBefore(a.root.baseId+"|"+b+"|background|points",c),e=a.addSection(b,d,!0);e.find(".enjoy_preview_chooser").click()}).appendTo(d);this.colorPatterns=b,this.imagePatterns=c,this.gradientPatterns=d}},ui.panels.border={init:function(){var a=this;$.each(a.nhaStates,function(b){a.initState(b)})},allowElliptic:function(a,b){var c=a.find(".border_radius_control_vertical"),d=a.find(".border_radius_control_separator");b===!0?(c.map(function(a,b){var c=$(b).parent().find(".border_radius_control_horizontal .enjoy_chooser").data("v");$(b.firstChild).trigger("set",c).trigger("save")}),c.add(d).css("visibility","visible")):b===!1&&(c.map(function(a,b){$(b.firstChild).trigger("set","-").trigger("save")}),c.add(d).css("visibility","hidden"))},states_data:{},conrols_ids:{border:["width","color","style"],"border-radius":["horizontal","separator","vertical"]},initControl:function(a,b,c){var d=this,e=d.states_data[b],f="",g="",h="",i=[],j=e.pathPrefix;switch(a){case"width":case"color":case"style":var f="border",i=e.border_sides,g=j+"|"+f+"|"+i[0]+"|",h=g+a;break;case"horizontal":case"vertical":var f="border-radius",i=e["border-radius_sides"],g=j+"|"+f+"|"+i[0]+"|",h=g+a}var k={container:c,state:b,baseId:d.root.baseId},l=[{val:"solid",chooserHtml:'<span class="bsolid" ></span>',dropdownHtml:'<span class="bsolid" ></span>'},{val:"dashed",chooserHtml:'<span class="bdashed" ></span>',dropdownHtml:'<span class="bdashed" ></span>'},{val:"dotted",chooserHtml:'<span class="bdotted" ></span>',dropdownHtml:'<span class="bdotted" ></span>'},{val:"double",chooserHtml:'<span class="bdouble" ></span>',dropdownHtml:'<span class="bdouble" ></span>'}];switch(a){case"width":var m=jQuery.extend({"class":"border_width_control",min:0,control:h},k);return d.root.controls.add("range",m,function(a){d.changeBorderPathes(e.border_sides,f,"width",a,j)});case"color":var m=jQuery.extend({"class":"border_color_control",control:h},k);return d.root.controls.add("colorpicker",m,function(a){d.changeBorderPathes(e.border_sides,f,"color",a,j)});case"style":var m=jQuery.extend({"class":"border_style_control",control:h,options:l},k);return d.root.controls.add("selectbox",m,function(a){d.changeBorderPathes(e.border_sides,f,"style",a,j)});case"horizontal":var m=jQuery.extend({"class":"border_radius_control border_radius_control_horizontal",min:0,linked:"border-radius-horizontal",control:h},k);return d.root.controls.add("range",m,function(a){d.changeBorderPathes(e["border-radius_sides"],f,"horizontal",a,j)});case"vertical":var m=jQuery.extend({"class":"border_radius_control border_radius_control_vertical",min:0,linked:"border-radius-vertical",control:h},k);return d.root.controls.add("range",m,function(a){d.changeBorderPathes(e["border-radius_sides"],f,"vertical",a,j)});case"separator":var m=jQuery.extend({"class":"border_radius_control_separator",html:'<span class="text_prefixlabel">/<span>'},k);return d.root.controls.add("text",m,function(){})}},initState:function(a){var b=this,c=b.nhaStates[a],d=cssg.currentEnjoyId+"|"+a;b.states_data[a]={};var e=b.states_data[a];e.controls={},e.pathPrefix=d;var f=function(a){return'<div class="border_cell border_cell_'+a+'"></div>'},g=[[{},{content:f("top"),id:"top"},{}],[{content:f("left"),id:"left"},{content:f("all"),unselect_all:!0,id:"all",selected:!0},{content:f("right"),id:"right"}],[{},{content:f("bottom"),id:"bottom"},{}]],h=function(c,f,g){var h=b.conrols_ids[g],i=e.controls;e[g+"_sides"]=b.getSidesFromIds(c,g),e.controls.width||f.empty();var j=d+"|"+g+"|"+e[g+"_sides"][0]+"|";$.each(h,function(c,d){var e=j+d;i[d]?(i[d].data("control",e),i[d].trigger("set",cssg.get(e))):i[d]=b.initControl(d,a,f)}),"border-radius"!=g||e.controls.ellipticCheckbox||(e.controls.ellipticCheckbox=b.root.controls.add("checkbox",{container:f,"class":"border_options_control border_radius_eliptic_control"},function(a){b.allowElliptic(f,a)}),b.adaptInterface(a),b.root.controls.add("text",{container:f,"class":"border_radius_eliptic_control",html:"Elliptic radius"}))};c.group_borders_grid=this.root.panels.addGroup({container:c.container,state:a,"class":"border_group border_group_borders_grid"}),c.group_borders_controls=this.root.panels.addGroup({container:c.container,state:a,"class":"border_group border_group_borders_controls"});var i=this.root.panels.addSection({container:c.group_borders_controls});this.root.controls.add("grid",{container:c.group_borders_grid,cells:g,onSelect:function(a){h(a,i,"border")}});var j=[[{content:f("top_left"),id:"top|left"},{},{content:f("top_right"),id:"top|right"}],[{},{content:f("all_r"),unselect_all:!0,selected:!0,id:"all"},{}],[{content:f("bottom_left"),id:"bottom|left"},{},{content:f("bottom_right"),id:"bottom|right"}]];c.group_radius_grid=this.root.panels.addGroup({container:c.container,state:a,"class":"border_group border_group_radius_grid"}),c.group_radius_controls=this.root.panels.addGroup({container:c.container,state:a,"class":"border_group border_group_radius_controls"});var k=this.root.panels.addSection({container:c.group_radius_controls});this.root.controls.add("grid",{container:c.group_radius_grid,cells:j,onSelect:function(a){h(a,k,"border-radius")}}),c.heightChanged()},changeBorderPathes:function(a,b,c,d,e){$.each(a,function(a,f){var g=e+"|"+b+"|"+f+"|"+c;cssg.change(g,d)})},getSidesFromIds:function(a,b){var c=[],a=a.join(",");if("all"==a)switch(b){case"border":c=["left","right","top","bottom"];break;case"border-radius":c=["top|left","top|right","bottom|left","bottom|right"]}else c=a.split(",");return c},initElliptic:function(a,b){var c=this,d=c.states_data[b],e=a.find(".border_radius_control_vertical"),f=a.find(".border_radius_control_separator"),g=!0,h=cssg.currentEnjoyId+"|"+b,i=c.getSidesFromIds(["all"],"radius"),j="border-radius",k=h+"|"+j,l=cssg.get(k);$.each(i,function(a,b){var c=b.split("|"),d=c[0],e=c[1],f="-"==l[d][e].vertical;g=g&&f}),g?(e.add(f).css("visibility","hidden"),d.controls.ellipticCheckbox.trigger("set",!1)):(e.add(f).css("visibility","visible"),d.controls.ellipticCheckbox.trigger("set",!0))},adaptInterface:function(a){var b=this;$.each(b.nhaStates,function(c,d){a&&c!=a||b.initElliptic(d.container,c)})},refresh:function(a){var b=this;$.each(b.nhaStates,function(c,d){a&&c!=a||b.root.panels.refreshStatePanelControls(d)}),b.adaptInterface(a)}},ui.panels.text={init:function(){var a=this;$.each(a.nhaStates,function(b,c){a._init_state=b,a.initState(b,c)})},add_selectbox:function(a){"icon"===a["with"]&&this.root.controls.add("icon",{container:a.to,"class":"text__icon text__icon_"+a.property}),this.root.controls.add("selectbox",{container:a.to,"class":"control_chooser text__control text__control_"+a.property,control:this.currentPathPrefix+"|"+a.property,options:a.options.map(function(b){return"text"===a.type?{val:b,chooserHtml:b,dropdownHtml:b}:{val:b,chooserHtml:'<div class="text__icon enjoy_icon text__icon_'+a.property+"_"+b+'"></div>',dropdownHtml:'<div class="text__icon enjoy_icon text__icon_'+a.property+"_"+b+'"></div>'}})})},add:function(a){this.root.controls.add("icon",{container:a.to,"class":"text__icon text__icon_"+a.property}),this.root.controls.add("range",{container:a.to,"class":"text__control text__control_"+a.property,control:this.currentPathPrefix+"|"+a.property,name:a.property})},initState:function(a){var b=this,c=b.nhaStates[a],d=cssg.currentEnjoyId+"|"+a+"|text",e={};this.currentPathPrefix=d,c.group0=this.root.panels.addGroup({container:c.container,"class":"text_panel_container",state:a,path:!1,items_with_border_bottom:!0,sortable:!1});var f=this.root.panels.addSection({container:c.group0,"class":"normal_settings_section"}),g=f,h=this.root.panels.addSection({container:c.group0,"class":"advanced_settings_section"});this.root.controls.add("colorpicker",jQuery.extend({container:f,"class":"text__color_control",control:d+"|color"},e)),this.root.controls.add("font",jQuery.extend({container:f,"class":"text_font_family_control",control:d+"|font-family",value:cssg.getValueByPath(d+"|font-family")},e)),this.add({to:g,property:"font-size"}),this.add({to:g,property:"line-height"}),this.root.controls.add("chooser",{container:f,"class":"text__font_weight_control",control:d+"|font-weight",options:[{val:"bold",text:""}],unselectValue:"normal"}),this.root.controls.add("chooser",{container:f,"class":"text__font_style_control",control:d+"|font-style",options:[{val:"italic",text:""}],unselectValue:"normal"}),this.add_selectbox({to:g,type:"html",property:"text-decoration",options:["none","underline","line-through","overline"]}),this.add_selectbox({to:g,type:"html",property:"text-align",options:["left","center","right","justify"]}),this.add({to:h,property:"word-spacing"}),this.add({to:h,property:"letter-spacing"}),this.add({to:h,property:"text-indent"}),this.add_selectbox({"with":"icon",to:h,type:"text",property:"text-overflow",options:["clip","ellipsis"]}),this.add_selectbox({"with":"icon",to:h,type:"text",property:"white-space",options:["normal","nowrap","pre","pre-line","pre-wrap"]}),c.heightChanged()},refreshTextareaHeight:function(){},refresh:function(a){var b=this;$.each(b.nhaStates,function(c,d){a&&c!=a||b.root.panels.refreshStatePanelControls(d)})}},ui.panels.textShadow={init:function(){var a=this;this.drawPresets(),$.each(a.nhaStates,function(b){a.initState(b)})},initState:function(a){var b=this,c=b.nhaStates[a],d=cssg.currentEnjoyId+"|"+a+"|text-shadow|points";c.group=this.root.panels.addGroup({container:c.container,state:a,path:d,items_with_border_bottom:!0,sortable:!0});var e=this.root.panels.addSectionHeader({container:c.group});b.root.controls.add("sort_space",{container:e,html:"","class":""}),b.root.controls.add("space",{container:e,html:"","class":""}),b.root.controls.add("space",{container:e,html:"","class":""}),b.root.controls.add("text",{container:e,html:"color","class":"text_shadow_color_control"}),b.root.controls.add("text",{container:e,html:"offset X","class":"text_shadow_text_control"}),b.root.controls.add("text",{container:e,html:"offset Y","class":"text_shadow_text_control"}),b.root.controls.add("text",{container:e,html:"blur","class":"text_shadow_text_control"}),b.addAddMoreButton(a),$.each(cssg.get(d),function(c,d){b.addSection(a,d,!1)
}),c.group.trigger("update"),c.heightChanged()},refresh:function(a){var b=this;b.root.panels.rerenderStatePanel(a,b)},addSection:function(a,b,c){var d=this,e=d.nhaStates[a],f=d.root.baseId+"|"+a+"|text-shadow|points|_:"+b._,g=this.root.panels.addSection({container:e.group,path:f,"class":"text_shadow_section",sortable:!0,removable:!0,inactivable:!0,settings:!0,state:a,animate:c}),h={container:g,state:a,baseId:d.root.baseId};d.root.controls.add("colorpicker",jQuery.extend({"class":"text_shadow_color_control",control:f+"|color"},h)),d.root.controls.add("range",jQuery.extend({"class":"text_shadow_offsetx_control",control:f+"|x",name:"text-shadow-offset-x"},h)),d.root.controls.add("range",jQuery.extend({"class":"text_shadow_offsety_control",control:f+"|y",name:"text-shadow-offset-y"},h)),d.root.controls.add("range",jQuery.extend({"class":"text_shadow_blur_control",min:0,control:f+"|blur",name:"text-shadow-blur"},h)),c&&(e.group.trigger("update"),e.heightChanged())},addAddMoreButton:function(a){ui.panels.addButtons({container:this.nhaStates[a].container,buttonAddTextShadow:{type:"text shadow",content:this.textShadowPatterns}})},drawPresets:function(){var a=this;a.textShadowPatterns=$("<div/>",{"class":"text_shadow_patterns"});var b={outsetShadow:"Outer Shadow",insetShadow:"Inner Shadow",outsetGlow:"Outer Glow"};$.each(b,function(b){var c=$("<div/>",{"class":"text_shadow_patterns_group"}).appendTo(a.textShadowPatterns);$.each(a.root.presets.textShadow.data[b],function(b,d){var e=$("<div>",{"class":"text_shadow_preset_item"}),f=$("<div>",{"class":"text_shadow_preset_item_core","data-tooltip-click-fire-event":"close"}).html("Text Shadow").appendTo(e),g=cssg.kvPointTextShadow(d);$.each(cssg.allBrArr,function(a,b){var c=d;f.css(cssg.addBrowserPrefix("text-shadow",b),g),c.text_color&&f.css("color",c.text_color),c.bg_color&&f.css("background-color",c.bg_color)}),e.appendTo(c),e.on("click",function(){var b=a.root.layout.currentState,c=fns.clone(d),e=cssg.addBefore(a.root.baseId+"|"+b+"|text-shadow|points",c);a.addSection(b,e,!0),$("body").popup("close")})})})}},ui.panels.transition={_getPathPrefix:function(a){return cssg.currentEnjoyId+"|"+a+"|transition|points"},init:function(){var a=this;$.each(a.nhaStates,function(b){a.initState(b)})},initState:function(a){var b=this,c=b.nhaStates[a],d=b._getPathPrefix(a);c.group=this.root.panels.addGroup({container:c.container,state:a,path:d,items_with_border_bottom:!0,sortable:!0});var e=this.root.panels.addSectionHeader({container:c.group});b.root.controls.add("sort_space",{container:e,html:"","class":""}),b.root.controls.add("space",{container:e,html:"","class":""}),b.root.controls.add("space",{container:e,html:"","class":""}),b.root.controls.add("text",{container:e,html:"property","class":"transition_property_control"}),b.root.controls.add("text",{container:e,html:"transition curve","class":"transition_timing_control"}),b.root.controls.add("text",{container:e,html:"duration","class":"transition_delay_control"}),b.root.controls.add("text",{container:e,html:"start delay","class":"transition_duration_control"}),b.addAddMoreButton(a),$.each(cssg.get(d),function(c,d){b.addSection(a,d,!1)}),c.group.trigger("update"),c.heightChanged()},refresh:function(a){var b=this;b.root.panels.rerenderStatePanel(a,b)},addSection:function(a,b,c){var d=this,e=d.nhaStates[a],f=d._getPathPrefix(a)+"|_:"+b._,g=this.root.panels.addSection({container:e.group,path:f,"class":"transition_section",sortable:!0,removable:!0,settings:!0,inactivable:!0,state:a}),h=["--group--           ","all                 ","--group--text       ","color               ","font-size           ","font-weight         ","letter-spacing      ","line-height         ","text-indent         ","text-shadow         ","vertical-align      ","word-spacing        ","--group--background ","background          ","background-color    ","background-image    ","background-position ","background-size","--group--box-shadow","box-shadow","--group--text-shadow","text-shadow","--group--border     ","border              ","border-color        ","border-type         ","border-width        ","border-radius","--group--box        ","height              ","width               ","padding             ","margin              ","top","right","bottom","left","z-index","opacity             ","--group--transform","perspective","perspective-origin","transform","transform-origin"],i=[];for(var j in h)"function"!=typeof h[j]&&i.push({val:$.trim(h[j]),chooserHtml:$.trim(h[j]),dropdownHtml:$.trim(h[j])});var k={container:g,state:a,baseId:this.root.baseId};this.root.controls.add("selectbox",{container:g,control:f+"|property","class":"transition_property_control",options:i}),this.root.controls.add("timing",jQuery.extend({"class":"transition_timing_control",control:f+"|timing",name:"transition-timing"},k)),this.root.controls.add("range",jQuery.extend({name:"transition-duration","class":"transition_duration_control",control:f+"|duration",min:0},k)),this.root.controls.add("range",jQuery.extend({name:"transition-delay","class":"transition_delay_control",control:f+"|delay",min:0,options:{units:["ms"]}},k)),c&&(e.group.trigger("update"),e.heightChanged())},addAddMoreButton:function(a){var b=this,c=$("<span />",{"class":"hover_green icon_plus-2 panels__add_button",text:"add transition"}).click(function(){var a={timing:[.42,0,.58,1],duration:"200_ms",delay:"10_ms",property:"all"},c=b.root.layout.currentState;a=cssg.add(b._getPathPrefix(c),a),b.addSection(c,a,!0)});this.root.controls.add("button",{container:b.nhaStates[a].container,"class":"panels__add_buttons",settings:{html:c,"class":"panels__add_button_control"}})}},ui.panels.transform={init:function(){var a=this;$.each(a.nhaStates,function(b){a.initState(b)})},initState:function(a){var b=this,c=b.nhaStates[a],d=b.getStatePathPrefix(a);c.transform3d=$("<div>",{"class":"transform3d_container"}).appendTo(c.container),c.transform3d.transform3d({onChange:function(a){e(a)}}),c.controls={},c.disableReactOnChange=!1;var e=function(a){c.disableReactOnChange=!0,c.controls.rotate[1].trigger("set",a.rotate.x).trigger("save"),c.controls.rotate[3].trigger("set",a.rotate.y).trigger("save"),c.controls.rotate[5].trigger("set",a.rotate.z).trigger("save"),c.disableReactOnChange=!1};c.group0=this.root.panels.addGroup({container:c.container,state:a,items_with_border_bottom:!0,"class":"transform_group transform_group0"});var f=function(e,f){$.each(f,function(e,f){var g=b.root.panels.addSection({container:c.group0,"class":"transform_section",path:d+"|transform|"+f,settings:!0});b.root.controls.add("text",{"class":"transform__title",container:g,html:f});var h={container:g,state:a,baseId:b.root.baseId},i=[],j=[],k=[],l=d+"|transform|"+f;$.each(["x","y","z"],function(c,d){if(!("skew"==f&&"z"==d||"perspective-origin"==f&&"z"==d||"perspective"==f&&("x"==d||"y"==d))){var e=l+"|"+d,g="transform-"+f+"-"+d,m="perspective"==f?0:Math.NEGATIVE_INFINITY;i.push("text"),i.push("range"),j.push(jQuery.extend({html:'<span class="text_prefixlabel">'+d+"</span>"},h)),j.push(jQuery.extend({"class":"transform_control",min:m,name:g,control:e},h)),k.push(function(){}),k.push(function(){b.updatePreview(a)})}}),c.controls[f]=b.root.controls.add(i,j,k)})};f("Transform",["rotate","scale","translate","skew","origin"]),b.adaptInterface(a),c.heightChanged()},updatePreview:function(a){var b=this,c=b.nhaStates[a],d=b.getStatePathPrefix(a);if(!c.disableReactOnChange){var e=d+"|transform",f=cssg.get(e);c.transform3d.transform3d("set",f)}},getStatePathPrefix:function(a){return cssg.currentEnjoyId+"|"+a},adaptInterface:function(a){var b=this;$.each(b.nhaStates,function(c){a&&c!=a||b.updatePreview(c)})},refresh:function(a){var b=this;$.each(b.nhaStates,function(c,d){a&&c!=a||b.root.panels.refreshStatePanelControls(d)}),b.adaptInterface(a)}},ui.aside={init:function(){var a=this;a.container=$("aside"),a.currentAttachedPanel=!1,$.each(this,function(b,c){"object"==typeof c&&"root"!=b&&(c.root=a.root,c.panel=$("<div/>",{"class":"aside_panel aside_panel_"+b}).appendTo(a.container),c.content=$("<div/>",{"class":"aside_content"}).appendTo(c.panel),c.close=$("<a/>",{"class":"aside_close_button  icon_cancel"}).attr("title","Close "+c.title).on("click",function(){a.hide()}).appendTo(c.panel),c.init(),setTimeout(function(){c.panel.detach()},0))}),$("aside").on("click",function(a){a.stopPropagation()}),$("body").on("click",function(b){$(b.target).hasClass("background_add_preset_btn")||$(b.target).hasClass("background_pattern_item_core")||0!=$(b.target).closest(".enjoy__tooltip").length||a.hide()})},detachCurrent:function(){var a=this;a.currentAttachedPanel&&a.currentAttachedPanel.detach()},hideHeader:function(){var a=this;a.header&&(a.header.removeClass("aside_header_visible"),setTimeout(function(){a.header.remove(),a.header=!1},500))},showHeader:function(a){var b=this;b.header||(b.header=$("<div/>",{"class":"aside_header"}).appendTo("body")),b.header.html(a),setTimeout(function(){b.header.addClass("aside_header_visible")},10)},isOpened:!1,hide:function(){var a=this;setTimeout(function(){a.detachCurrent()},300),a.hideHeader(),$("body").removeClass("aside_visible"),$(".indicator").removeClass("active"),a[a.current_aside_type]&&a[a.current_aside_type].onClose&&a[a.current_aside_type].onClose(),this.isOpened=!1;var b="/",c=[];""!=window.location.hash&&(c=window.location.hash.split(b)),c&&c[1]&&c.splice(1,1),window.location.hash=c.join(b);var d=enjoyCSS.points[cssg.currentEnjoyId].__settings;d.location_hash=window.location.hash},show:function(a,b){var c=this;c.current_aside_type=a,c.detachCurrent(),c.currentAttachedPanel=this[a].panel.appendTo(c.container),$("body").addClass("aside_visible"),c.showHeader(this[a].title),this[a].onOpen&&this[a].onOpen(b),this.isOpened=!0},toggle:function(){var a=null;return function(b,c,d){$("body").hasClass("aside_visible")&&a===b.target?this.hide():(a=b.target,this.show(c,d))}}()},ui.aside.background={title:"Background",tabbar_settings:{color:{label:"Color"},gradient:{label:"Gradient"},image:{label:"Image"}},init:function(){var a=this,b=[];for(var c in a.tabbar_settings)b.push({val:c,text:a.tabbar_settings[c].label});var d="input",e=this.root.controls.add("chooser",{container:a.content,unselectable:!0,"class":"enjoy_tabs",options:b,value:d},function(b){a.tabbarChangePanel(b),cssg.refreshBackground()}),f=$("<div>",{"class":"aside_background_visible_port"}),g=$("<div>",{"class":"aside_background_panels"}).css("width",100*b.length+"%"),h=[],i={},j=100/b.length;$.each(b,function(a,b){var c=$("<div>",{"class":"aside_background_tabbar_panel"}).css("width",j+"%");h.push(c),i[b.val]={panel:c,pos:a}}),g.append(h),f.append(g),a.content.append(f),f.height(a.content.height()),a.type_chooser=e,a.type_sections=g,a.panels_hash=i,a.panel_width_in_percents=j,a.control_data={value_type:"color"},a.type_chooser.trigger("set",a.control_data.value_type)},tabbarChangePanel:function(a){var b=this;if(a!=b.control_data.value_type){var c=b.panels_hash[a],d=c.pos,e=b.panel_width_in_percents*d;if(b.type_sections.find(">div").not(c.panel).addClass("transparent"),c.panel.removeClass("transparent"),b.type_sections.css({"-webkit-transform":"translateX(-"+e+"%)",transform:"translateX(-"+e+"%)"}),b.type_chooser.trigger("set",a),b.control_data.control){var f=b.control_data.control;b.control_data.value_type=a,f.get(0).className="",f.html("").unbind();var g=f.data("control").replace("|color","").replace("|url",""),h=a,i=cssg.get(g)._,j=fns.clone(cssg.getDefaultBgValue(a));j._=i,cssg.change(g,j);var k=a;"color"==a&&(h="colorpicker",k=h,g+="|color"),f.data("control",g),b.bg_data[a]||(b.bg_data[a]=fns.clone(cssg.getDefaultBgValue(k))),("gradient"==a||"image"==a)&&(b.bg_data[a]._=i);var l=b.bg_data[a];if(cssg.change(g,l),b.root.controls[h].aplyTo(f,{value:l},function(){cssg.refreshBackground()}),-1==g.indexOf("settings")){var m=g.split("|")[1];b.root.panels.background.refresh(m),f=b.root.panels.background.getControlByPath(m,g),b.dont_clear_data=!0,f.trigger("click"),b.dont_clear_data=!1}b.root.aside[a].set(l,function(c){f.trigger("set",c),f.trigger("save"),b.bg_data[a]=c,"color"==a&&f.trigger("change_linked")})}}},initTabbarPanels:function(a,b){var c=this;c.allControls||(c.allControls={});c.allControls[a]={};var d=(c.allControls[a],c.root.aside[a]);d.pickerSection&&d.pickerSection[0].updateUserColors(),d.aside_controls&&$.each(d.aside_controls,function(a,c){b.append(c)})},set:function(a,b){var c=this;c.bg_data[b]=a},onOpen:function(a){var b=this;b.dont_clear_data||(b.bg_data={}),b.control_data={value_type:!1};for(var c in b.panels_hash)b.initTabbarPanels(c,b.panels_hash[c].panel);b.tabbarChangePanel(a.value_type),b.control_data=a,setTimeout(function(){},500)},onClose:function(){var that=this;if(that.bg_data.color){var rgba_str=fns.convertColorToFormat(that.bg_data.color,"rgba"),picker_color=fns.getPickerColorFromStr(rgba_str).value,userColorsList=localStorage.getItem("userColors"),is_exist=!1;userColorsList=userColorsList?eval("("+userColorsList+")"):[],userColorsList.length>26&&userColorsList.shift(),$.each(userColorsList,function(a,b){b.string==rgba_str&&(is_exist=!0)}),is_exist||(userColorsList.push({string:rgba_str,value:picker_color}),localStorage.setItem("userColors",JSON.stringify(userColorsList)))}enjoyhint_instance.trigger("color_choosed")},changed:function(){var a=this,b=a.currentData;a.currentOnChange(b)}},ui.aside.gradient={title:"gradient picker",init:function(){var a=current=this;current.group=this.root.panels.addGroup({container:a.content,sortable:!1}),a.gradientTypeSection=this.root.panels.addSection({container:current.group}),a.gradientTypeLabel=this.root.controls.add("text",{container:a.gradientTypeSection,html:"Type","class":"gradient_label"}),a.gradientType=this.root.controls.add("selectbox",{container:a.gradientTypeSection,"class":"gradient_type",options:[{val:"linear-gradient",chooserHtml:"linear",dropdownHtml:'<span class="label">linear</span><span           class="selectbox-dropdown-icon selectbox-dropdown-icon-gr-type-lin"></span>'},{val:"repeating-linear-gradient",chooserHtml:"repeating-linear",dropdownHtml:'<span class="label">repeating-linear</span><span class="selectbox-dropdown-icon selectbox-dropdown-icon-gr-type-rlin"></span>'},{val:"radial-gradient",chooserHtml:"radial",dropdownHtml:'<span class="label">radial</span><span           class="selectbox-dropdown-icon selectbox-dropdown-icon-gr-type-rad"></span>'},{val:"repeating-radial-gradient",chooserHtml:"repeating-radial",dropdownHtml:'<span class="label">repeating-radial</span><span class="selectbox-dropdown-icon selectbox-dropdown-icon-gr-type-rrad"></span>'}]},function(b){a.currentData.type=b,a.currentData=$.extend({},a.root.presets.gradient.defaultStructure[b],a.currentData,!1),a.set(a.currentData,a.currentOnChange),a.changed()});var b=function(b){a.currentData.angle=b,a.changed()};a.gradientDirectionSection=this.root.panels.addSection({container:current.group}),a.gradientDirectionLabel=this.root.controls.add("text",{container:a.gradientDirectionSection,html:"Direction","class":"gradient_label"}),a.gradientDirectionCircle=this.root.controls.add("custom",{container:a.gradientDirectionSection,"class":"gradient_direction_circle"}).direction({onChange:function(c){a.gradientDirectionValue.trigger("set",c),a.gradientDirectionPresets.trigger("set",c),b(c)}}),a.gradientDirectionValue=this.root.controls.add("range",{type:"range",min:0,max:360,value:0,container:a.gradientDirectionSection,"class":"gradient_direction_value"},function(c){a.gradientDirectionCircle.direction("set",c),a.gradientDirectionPresets.trigger("set",c),b(c)}),a.gradientDirectionPresets=this.root.controls.add("chooser",{type:"radio",container:a.gradientDirectionSection,"class":"gradient_direction_presets",options:[{val:"0_deg",text:'<span class="icon_arrow-up"></span>'},{val:"180_deg",text:'<span class="icon_arrow-down"></span>'},{val:"90_deg",text:'<span class="icon_arrow-right"></span>'},{val:"270_deg",text:'<span class="icon_arrow-left"></span>'},{val:"315_deg",text:'<span class="icon_arrow-up-left"></span>'},{val:"45_deg",text:'<span class="icon_arrow-up-right"></span>'},{val:"135_deg",text:'<span class="icon_arrow-down-right"></span>'},{val:"235_deg",text:'<span class="icon_arrow-down-left"></span>'}]},function(c){b(c),a.gradientDirectionValue.trigger("set",c),a.gradientDirectionCircle.direction("set",c)}),a.gradientSizeSection=this.root.panels.addSection({container:current.group}),a.gradientDirectionLabel=this.root.controls.add("text",{container:a.gradientSizeSection,html:"Size","class":"gradient_label"}),a.gradientShape=this.root.controls.add("selectbox",{container:a.gradientSizeSection,"class":"gradient_size_shape",options:[{val:"circle",chooserHtml:"circle",dropdownHtml:'<span class="label">circle</span><span  class="selectbox-dropdown-icon selectbox-dropdown-icon-gr-shape-circle"></span>'},{val:"ellipse",chooserHtml:"ellipse",dropdownHtml:'<span class="label">ellipse</span><span class="selectbox-dropdown-icon selectbox-dropdown-icon-gr-shape-ellipse"></span>'}]},function(b){a.currentData.shape=b,a.changed()}),a.gradientSize=this.root.controls.add("selectbox",{container:a.gradientSizeSection,"class":"gradient_size_fill",options:[{val:"closest-side",chooserHtml:"closest-side",dropdownHtml:'<span class="label">closest-side</span><span    class="selectbox-dropdown-icon selectbox-dropdown-icon-gr-size-cs"></span>'},{val:"closest-corner",chooserHtml:"closest-corner",dropdownHtml:'<span class="label">closest-corner</span><span  class="selectbox-dropdown-icon selectbox-dropdown-icon-gr-size-cc"></span>'},{val:"farthest-side",chooserHtml:"farthest-side",dropdownHtml:'<span class="label">farthest-side</span><span   class="selectbox-dropdown-icon selectbox-dropdown-icon-gr-size-fs"></span>'},{val:"farthest-corner",chooserHtml:"farthest-corner",dropdownHtml:'<span class="label">farthest-corner</span><span class="selectbox-dropdown-icon selectbox-dropdown-icon-gr-size-fc"></span>'}]},function(b){a.currentData.size=b,a.changed()}),a.gradietPositionSection=this.root.panels.addSection({container:current.group}),a.gradietPositionLabel=this.root.controls.add("text",{container:a.gradietPositionSection,"class":"gradient_label control_text",html:"Position"}),this.root.controls.add("text",{container:a.gradietPositionSection,"class":"control_text gradient_position_label",html:"x"}),a.gradietPositionX=this.root.controls.add("range",{container:a.gradietPositionSection,"class":"gradient_position",value:"0_%",options:{units:["px","em","%"]}},function(b){a.currentData.posX=b,a.changed()}),this.root.controls.add("text",{container:a.gradietPositionSection,"class":"control_text gradient_position_label",html:"y"}),a.gradietPositionY=this.root.controls.add("range",{container:a.gradietPositionSection,"class":"gradient_position",value:"0_%",options:{units:["px","em","%"]}},function(b){a.currentData.posY=b,a.changed()});var c=$("<div>",{"class":"gradient_builder_container"}).appendTo(a.content);a.gradientBuilder=$("<div>",{"class":"gradient_builder"}).appendTo(c),a.gradientBuilder.gradient({onChange:function(b){a.currentData.points=b,a.changed()}}),current.group0=this.root.panels.addGroup({container:a.content,sortable:!1}),a.gradientScaleSection=this.root.panels.addSection({container:current.group0}),a.gradientScaleLabel=this.root.controls.add("text",{container:a.gradientScaleSection,html:"Scale","class":"gradient_label"}),a.gradientDistanceValue=this.root.controls.add("range",{type:"range",name:"gradient_scale",min:1,max:100,value:"100_%",container:a.gradientScaleSection,"class":"gradient_scale"},function(b){a.currentData._scale=b,a.changed()}),a.backgroundOriginSection=this.root.panels.addSection({container:current.group0}),a.backgroundOriginLabel=this.root.controls.add("text",{container:a.backgroundOriginSection,html:"Origin","class":"gradient_label"}),a.backgroundOrigin=this.root.controls.add("selectbox",{container:a.backgroundOriginSection,"class":"background_origin_control",options:[{val:"border-box",chooserHtml:"border-box",dropdownHtml:'<span class="label">border-box</span><span   class="selectbox-dropdown-icon selectbox-dropdown-icon-clip-border-box"></span>'},{val:"padding-box",chooserHtml:"padding-box",dropdownHtml:'<span class="label">padding-box</span><span class="selectbox-dropdown-icon selectbox-dropdown-icon-clip-padding-box"></span>'},{val:"content-box",chooserHtml:"content-box",dropdownHtml:'<span class="label">content-box</span><span  class="selectbox-dropdown-icon selectbox-dropdown-icon-clip-content-box"></span>'}]},function(b){a.currentData["background-origin"]=b,a.changed()}),a.backgroundClipLabel=this.root.controls.add("text",{container:a.backgroundOriginSection,html:"Clip","class":"gradient_label background_clip_label"}),a.backgroundClip=this.root.controls.add("selectbox",{container:a.backgroundOriginSection,"class":"background_clip_control",options:[{val:"border-box",chooserHtml:"border-box",dropdownHtml:'<span class="label">border-box</span><span   class="selectbox-dropdown-icon selectbox-dropdown-icon-clip-border-box"></span>'},{val:"padding-box",chooserHtml:"padding-box",dropdownHtml:'<span class="label">padding-box</span><span class="selectbox-dropdown-icon selectbox-dropdown-icon-clip-padding-box"></span>'},{val:"content-box",chooserHtml:"content-box",dropdownHtml:'<span class="label">content-box</span><span  class="selectbox-dropdown-icon selectbox-dropdown-icon-clip-content-box"></span>'}]},function(b){a.currentData["background-clip"]=b,a.changed()}),current.group1=this.root.panels.addGroup({container:a.content,sortable:!1}),a.moreBtnSection=this.root.panels.addSection({container:current.group1,"class":"background_more_btn_section"}),a.moreBtn=this.root.controls.add("more",{container:a.moreBtnSection,settings:{toggleContainer:current.group0,html_open:"Show Advanced Settings...",html_close:"HIde Advanced Settings..."},"class":"background_more_btn"}),a.aside_controls=[current.group,c,current.group0,current.group1]},onOpen:function(){var a=this;$.each(a.aside_controls,function(b,c){a.content.append(c)})},set:function(a,b){var c=this;c.currentData=a,c.currentOnChange=b,c.gradientType.trigger("set",a.type),c.gradientDirectionCircle.direction("set",a.angle),c.gradientDirectionValue.trigger("set",a.angle),c.gradientDirectionPresets.trigger("set",a.angle),c.gradientDistanceValue.trigger("set",a._scale),c.backgroundOrigin.trigger("set",a["background-origin"]),c.backgroundClip.trigger("set",a["background-clip"]),c.gradientShape.trigger("set",a.shape),c.gradientSize.trigger("set",a.size),c.gradientBuilder.gradient("set",a.points),-1!==a.type.indexOf("radial")?(c.gradientDirectionSection.hide(),c.gradientSizeSection.show(),c.gradietPositionX.trigger("set",a.posX),c.gradietPositionY.trigger("set",a.posY),c.gradietPositionSection.show()):(c.gradientDirectionSection.show(),c.gradientSizeSection.hide(),c.gradietPositionSection.hide())},changed:function(){var a=this;a.currentOnChange(a.currentData)}},ui.aside.timing={title:"timing function",init:function(){var a=this,b=$("<div>",{"class":"bezier_title"}).html("Timing function: <span></span>").appendTo(a.content);a.bezierPresets=$("<div>",{"class":"bezier_presets"}).appendTo(a.content),$("<div>",{"class":"bezier_label"}).html("Choose preset").appendTo(a.bezierPresets),a.bezierBuilder=$("<div>",{"class":"bezier_builder"}).appendTo(a.content),$("<div>",{"class":"bezier_label"}).html("Customise it").appendTo(a.bezierBuilder),a.bezierTest=$("<div>",{"class":"bezier_test"}).appendTo(a.content),$("<div>",{"class":"bezier_label"}).html("Test it").appendTo(a.bezierTest),$.each(a.root.presets.cubicBezier.data,function(b,c){{var d=$("<div/>",{"class":"bezier_presets_item",id:"bezier_preset_"+b,title:c.name}).appendTo(a.bezierPresets);$("<div/>",{"class":"transitions_preset_item_core_control"}).appendTo(d)}d.bezier({points:c.val,l:50,t:50,w:200,h:200,editable:!1,styling:{borderstyling:{width:4,color:"rgb(0,0,0)"},pathstyling:{width:10,color:"rgb(255,255,255)"},endpointstyling:{width:4,color:"rgb(255,255,255)"},connectstyling:{width:1,color:"rgb(90,90,90)"},ctrlstyling:{width:1,color:"rgb(90,90,90)"}}}),d.bind("click",function(){a.bezierBuilderSvg.trigger("set_points",c.val).trigger("changed")})}),a.bezierBuilderSvg=$("<div>",{"class":"bezier_builder_svg"}).appendTo(a.bezierBuilder).bezier({l:50,t:200,w:200,h:200,editable:!0,styling:{borderstyling:{width:2,color:"rgb(50,50,50)"},pathstyling:{width:4,color:"rgb(255,255,255)"},endpointstyling:{width:4,color:"rgb(255,255,255)"},connectstyling:{width:3,color:"rgb(120,120,120)"},ctrlstyling:{width:1,color:"rgb(20,20,20)"}},onChange:function(c){var d="cubic-bezier("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")";b.find("span").html(d),a.bezierTestItemClicker.css({"-webkit-transition-timing-function":d,"transition-timing-function":d}),a.currentData=c,a.changed()}}),a.bezierTestItem=$("<div>",{"class":"bezier_test_item"}).appendTo(a.bezierTest),a.bezierTestItemClicker=$("<div>",{"class":"bezier_test_item_clicker"}).html("Click ME").appendTo(a.bezierTestItem).on("click",function(){"200px"==$(this).css("top")?$(this).css("top","0px"):$(this).css("top","200px")})},set:function(a,b){var c=this;c.currentData=a,c.currentOnChange=b,c.bezierBuilderSvg.trigger("set_points",a).trigger("changed")},changed:function(){var a=this;a.currentOnChange(a.currentData)}},ui.aside.color={title:"color picker",init:function(){var a=this;a.aside_controls=[],a.colorInput=$("<span/>",{"class":"color"}).appendTo(a.content).colorinput({onChange:function(b){var c=a.pickerSection[0],d=c.color.active,e=fns.getColorFormat(b),f=fns.convertColorToFormat(b,"rgba");e||(b=f),"hex"==e&&-1==b.indexOf("#")&&(b="#"+b,a.colorInput.colorinput("set",b)),a.currentData=b;var g=fns.rgbaStrToArr(f),h=g[3]?255*g[3]:255;d.val("rgba",{r:g[0],g:g[1],b:g[2],a:h},this,!0),c.commitColor(),a.changed()}}),a.pickerSection=$("<div>",{"class":"enjoy_aside_color_jpicker"}).appendTo(a.content),a.pickerSection.jPicker({window:{liveUpdate:!0,alphaSupport:!0,alphaPrecision:0},color:{alphaSupport:!0},images:{clientPath:"/img/colorpicker/",colorMap:{width:256,height:256,arrow:{width:16,height:16}},colorBar:{width:20,height:256,arrow:{width:20,height:8}},picker:{width:16,height:16}},localization:{text:{title:"Drag Markers To Pick A Color",newColor:"",currentColor:"",ok:"OK",cancel:"Cancel"}}},function(a){a.val("all")},function(b){var c=b.val("rgba"),d=a.colorInput.colorinput("get"),e=fns.getColorFormat(d),f=fns.getColorStringByFormat(c,"rgba");if(c.a<255&&"hex"==e||"native"==e&&!fns.isNativeColor(f)){a.colorInput.colorinput("set",f),a.colorInput.colorinput("changeunit","rgba");var g=a.colorInput.colorinput("get");return a.currentData=g,void a.changed()}var h=fns.getColorStringByFormat(c,e);a.currentData=h,a.colorInput.colorinput("set",h),a.changed()},function(){}),a.aside_controls.push(a.colorInput),a.aside_controls.push(a.pickerSection)},set:function(a,b){var c=this;c.colorInput.input("set",a),c.currentData=a,c.currentOnChange=b;var d=fns.getPickerColorFromStr(a);c.pickerSection[0].color.active.val(d.format,d.value,this,!0),c.pickerSection[0].commitColor()},onClose:function(){var that=this;if(that.currentData){var rgba_str=fns.convertColorToFormat(that.currentData,"rgba"),picker_color=fns.getPickerColorFromStr(rgba_str).value,userColorsList=localStorage.getItem("userColors"),is_exist=!1;userColorsList=userColorsList?eval("("+userColorsList+")"):[],userColorsList.length>26&&userColorsList.shift(),$.each(userColorsList,function(a,b){b.string==rgba_str&&(is_exist=!0)}),is_exist||(userColorsList.push({string:rgba_str,value:picker_color}),localStorage.setItem("userColors",JSON.stringify(userColorsList)))}},onOpen:function(){var a=this;$.each(a.aside_controls,function(b,c){a.content.append(c)}),a.pickerSection[0].updateUserColors(),setTimeout(function(){a.colorInput.colorinput("selectAll")},500)},changed:function(){var a=this,b=a.currentData;a.currentOnChange(b)}},function(a){function b(){return $("<span />",{"class":"image_upload_message"}).css({width:n.width(),height:n.height()})}function c(a){b().text(a).appendTo(n).fadeIn(0).delay(1e3).fadeOut("fast")}function d(b){var d;f({src:b,success:function(c,e){d=new FormData,d.append("file",b);var f=new XMLHttpRequest;f.open("POST","/bg-image/upload"),f.upload.addEventListener("progress",function(a){if(a.lengthComputable){a.loaded/a.total*100|0}}),f.addEventListener("load",function(){var b=JSON.parse(f.responseText);a.image.changed(EnjoyCSS.paths.background_images.custom+b.filename),a.image.updateImage(c,e)}),f.send(d)},error:function(a){c(a.message)}})}function e(a){var b=new Image;b.addEventListener("load",function(){a.success(b.width,b.height,a.src)}),b.addEventListener("error",function(){a.error({message:"Only image. Check file"})}),b.src=a.src}function f(a){var b=a.src;if(-1!==l.indexOf(b.type)){var c=new FileReader;c.addEventListener("load",function(b){e({src:b.target.result,success:a.success,error:function(){a.error({message:"Only image. Check file"})}})}),c.readAsDataURL(b)}else a.error({message:"Only Image. Check File"})}function g(a){switch(a.length){case 0:c("Select Image");break;case 1:d(a[0]);break;default:c("Only One Image")}}function h(a){n=$("<div />",{"class":"image_upload"}).appendTo(a),n.on("dragenter",function(){this.classList.add("image_upload_hover")}).on("dragleave",function(){this.classList.remove("image_upload_hover")}).on("dragover",function(){return!1}).on("drop",function(a){a.preventDefault(),g(a.originalEvent.dataTransfer.files),this.classList.remove("image_upload_hover")})}var i,j,k,l=["image/png","image/jpeg","image/gif"],m=null,n=null;a.image={title:"image options",init:function(){var a=this,b=current=this;m=$("<form />",{"class":"image_panel"}),m.on("submit",function(b){b.preventDefault(),this.checkValidity()&&e({src:this.querySelector('[name="foreign-image"]').value,success:function(b,c,d){a.changed(d),a.updateImage(b,c)},error:function(a){c(a.message)}})}),i=$("<div />",{"class":"image_drag_drop_upload icon_redo"}),h(i),j=$("<div />",{"class":"image_hand_upload"});var d=$("<div />",{"class":"image_file_chooser button button1",text:"Choose image"}).on("click",function(){f.trigger("click")}),f=$('<input type="file" name="file" style="display: none;" />').on("change",function(){g(this.files)});j.append(d).append(f),k=$("<div />",{"class":"image_foreign"}),k.append($("<input>",{"class":"image_foreign_text_input",type:"url",name:"foreign-image",placeholder:"Insert url ...",required:"required"})).append($("<input>",{"class":"image_foreign_submit_input button button1",type:"submit",value:"Set"}));var l=$("<div />",{"class":"image_splitter",text:"or"});m.appendTo(this.content).append(l.clone().html('<span class="image_splitter_or">Drag & drop an image from desktop</span>')).append(i).append(l.clone().html('<span class="image_splitter_or">or</span>')).append(j).append(l.html('<span class="image_splitter_or">or</span>')).append(k),this.view=$("#imagepicker_view"),current.group0=this.root.panels.addGroup({container:b.content,sortable:!1,"class":"image_aside_more_group"}),b.backgroundOriginSection=this.root.panels.addSection({container:current.group0}),b.backgroundOriginLabel=this.root.controls.add("text",{container:b.backgroundOriginSection,html:"Origin","class":"gradient_label"}),b.backgroundOrigin=this.root.controls.add("selectbox",{container:b.backgroundOriginSection,"class":"background_origin_control",options:[{val:"border-box",chooserHtml:"border-box",dropdownHtml:'<span class="label">border-box</span><span   class="selectbox-dropdown-icon selectbox-dropdown-icon-clip-border-box"></span>'},{val:"padding-box",chooserHtml:"padding-box",dropdownHtml:'<span class="label">padding-box</span><span class="selectbox-dropdown-icon selectbox-dropdown-icon-clip-padding-box"></span>'},{val:"content-box",chooserHtml:"content-box",dropdownHtml:'<span class="label">content-box</span><span  class="selectbox-dropdown-icon selectbox-dropdown-icon-clip-content-box"></span>'}]},function(a){b.currentData["background-origin"]=a,b.currentData=$.extend({},b.root.presets.texture.defaultStructure,b.currentData,!1),b.set(b.currentData,b.currentOnChange),b.changed()
}),b.backgroundClipLabel=this.root.controls.add("text",{container:b.backgroundOriginSection,html:"Clip","class":"gradient_label background_clip_label"}),b.backgroundClip=this.root.controls.add("selectbox",{container:b.backgroundOriginSection,"class":"background_clip_control",options:[{val:"border-box",chooserHtml:"border-box",dropdownHtml:'<span class="label">border-box</span><span   class="selectbox-dropdown-icon selectbox-dropdown-icon-clip-border-box"></span>'},{val:"padding-box",chooserHtml:"padding-box",dropdownHtml:'<span class="label">padding-box</span><span class="selectbox-dropdown-icon selectbox-dropdown-icon-clip-padding-box"></span>'},{val:"content-box",chooserHtml:"content-box",dropdownHtml:'<span class="label">content-box</span><span  class="selectbox-dropdown-icon selectbox-dropdown-icon-clip-content-box"></span>'}]},function(a){b.currentData["background-clip"]=a,b.currentData=$.extend({},b.root.presets.texture.defaultStructure,b.currentData,!1),b.set(b.currentData,b.currentOnChange),b.changed()}),current.group=this.root.panels.addGroup({container:b.content,sortable:!1}),b.moreBtnSection=this.root.panels.addSection({container:current.group,"class":"background_more_btn_section"}),b.moreBtn=this.root.controls.add("more",{container:b.moreBtnSection,settings:{toggleContainer:current.group0,html_open:"Show Advanced Settings...",html_close:"HIde Advanced Settings..."},"class":"background_more_btn"}),a.aside_controls=[m,current.group0,current.group]},set:function(a,b){var d=this;this.currentData=a,this.currentOnChange=b,e({src:a.url,success:this.updateImage.bind(this),error:function(a){c(a.message)}}),d.backgroundOrigin.trigger("set",a["background-origin"]),d.backgroundClip.trigger("set",a["background-clip"])},changed:function(a){a&&(this.currentData.url=a),this.currentOnChange(this.currentData)},onOpen:function(){var a=this;$.each(a.aside_controls,function(b,c){a.content.append(c)})},updateImage:function(a,b){var c=n.width(),d=n.height();n.css("background-size",a>c||b>d?"contain":"auto"),n.css("background-image",cssg.url2cssValue(this.currentData.url))}}}(ui.aside),function(a){function b(a){var b=!0;for(var c in a)a[c]&&(b=!1);return b}var c=function(){var a,c={};return a=function(){this.init.apply(this,arguments)},a.create=function(b,d,e){if("undefined"==typeof c[b])return new a(b,d,e);throw new Exception("Name is engaged")},a.groups=function(){return c},a.findByName=function(a){return c[a]||null},a.prototype={loadFonts:function(a){var b=this.loadParams.link,c=function(b){this.fonts=this.loadParams.process(b),this.fontsLoaded=!0,this.preload=function(a){return function(b){a(b)}}(this.loadParams.preload),a(this.fonts),delete this.loadParams}.bind(this);if("string"==typeof b)$.getJSON(b,c);else{if(!Array.isArray(b))throw new Error("Unknown type of link");c(b)}},process:function(){},preload:function(){},init:function(a,b,d){return this.name=a,this.title=b,this.fontsLoaded=!1,d.process=d.process||this.process,d.preload=d.preload||this.preload,this.loadParams=d,c[this.name]=this,this},search:function(a){var c=a.lastSearchValue,d=this.fonts.filter(function(d){var e=-1!==d.familyLowerCase.indexOf(c),f=!0;if(a.categories&&!b(a.categories)){f=!1;for(var g in a.categories){var h=a.categories[g];if(h&&d.raw&&d.raw.category==g){f=!0;break}}}var i=!0;if(a.variants&&!b(a.variants)){i=!0;for(var g in a.variants){var h=a.variants[g];if(h&&d.raw&&-1==d.raw.variants.indexOf(g)){i=!1;break}}}var j=!0;if(a.subsets&&!b(a.subsets)){j=!0;for(var g in a.subsets){var h=a.subsets[g];if(h&&d.raw&&-1==d.raw.subsets.indexOf(g)){j=!1;break}}}return e&&f&&i&&j});return d}},a}(),d=function(){var a=[],b=[];return function(c,d){var e;-1===(e=a.indexOf(c))&&(e=a.push(c)-1),clearInterval(b[e]),b[e]=setTimeout(c,d)}}();a.font={title:"font chooser",options:[{val:"defaults",text:"Default fonts"},{val:"google",text:"Google fonts"},{val:"adobe",text:"Adobe fonts"}],chosenFontGroup:null,searchParams:{categories:{},variants:{},subsets:{},lastSearchValue:""},onChoseFontGroup:function(a){this.selectFontGroup(a)},searchAndPreloadFonts:function(){var a=this.searchParams;"google"!=this.currentData.type&&(a={lastSearchValue:a.lastSearchValue});var b=this.chosenFontGroup.search(a);return d(function(){this.chosenFontGroup.preload(b)}.bind(this),300),b},onSearch:function(a){this.searchParams.lastSearchValue=a.toLowerCase(),this.refresh(this.searchAndPreloadFonts())},onCategory:function(a,b){this.searchParams.categories[a]=b,this.refresh(this.searchAndPreloadFonts())},onVariants:function(a,b){this.searchParams.variants[a]=b,this.refresh(this.searchAndPreloadFonts())},onSubsets:function(a,b){this.searchParams.subsets[a]=b,this.refresh(this.searchAndPreloadFonts())},createContentBox:function(){this.contentBox=$("<div />",{"class":"font_container"}).appendTo(this.content)},createControls:function(){function a(){var a=f.searchParams,c=b(a.categories),d=b(a.variants),e=b(a.subsets),g=$(".font_filter_reset");c&&d&&e?g.removeClass("font_filter_reset_enabled"):g.addClass("font_filter_reset_enabled");var h="font_filter_btn_enabled",i=$(".font_filter_cat_btn");c?i.removeClass(h):i.addClass(h);var j=$(".font_filter_var_btn");d?j.removeClass(h):j.addClass(h);var k=$(".font_filter_sub_btn");e?k.removeClass(h):k.addClass(h)}function c(b,c){var d=$("<div>",{"class":"font_tooltip_content"});f.tooltipGroup=f.root.panels.addGroup({container:d,sortable:!1,"class":"font_filter_tooltip_group"});for(var e=0;e<b.length;e++){var h=f.root.panels.addSection({container:f.tooltipGroup}),i=b[e];!function(b){var d=f.root.controls.add("checkbox",{container:h,"class":"font_filter_tooltip_checkbox"},function(d){c&&(c(b.prop,d),a())});g.push(d),f.root.controls.add("text",{container:h,"class":"font_filter_tooltip_label",html:b.title})}(i)}return d}var d=$("<div />",{"class":"font_choose"}).appendTo(this.contentBox);this.fontSourceSectionPanel=this.root.controls.add("chooser",{container:d,"class":"font_source_type",unselectable:!0,options:this.options},this.onChoseFontGroup.bind(this)),this.filterGroup=this.root.panels.addGroup({container:d,sortable:!1,"class":"font_filter_group"});var e=this.root.panels.addSection({container:this.filterGroup});this.categoriesBtn=this.root.controls.add("button",{container:e,"class":"font_filter_cell",settings:{html:"Categories","class":"font_filter_btn icon_filter font_filter_cat_btn"}}),this.variantsBtn=this.root.controls.add("button",{container:e,"class":"font_filter_cell ",settings:{html:"Variants","class":"font_filter_btn icon_filter font_filter_var_btn"}}),this.subsetsBtn=this.root.controls.add("button",{container:e,"class":"font_filter_cell",settings:{html:"Subsets","class":"font_filter_btn icon_filter font_filter_sub_btn"}}),this.resetBtn=this.root.controls.add("icon",{container:e,"class":"font_filter_reset icon_error"}),this.resetBtn.click(function(){var b=f.searchParams;b.categories={},b.variants={},b.subsets={},b.lastSearchValue="";var c=f.onSearch.bind(f);c(""),$.each(g,function(a,b){b.trigger("set",!1)}),a()});var f=this,g=[],h=c([{prop:"serif",title:"Serif"},{prop:"sans-serif",title:"Sans-serif"},{prop:"display",title:"Display"},{prop:"handwriting",title:"Handwriting"},{prop:"monospace",title:"Monospace"}],this.onCategory.bind(this));this.categoriesBtn.parent().tooltip({settings:{content:h,vertical:!0}});var h=c([{prop:"300",title:"Light 300"},{prop:"regular",title:"Normal 400"},{prop:"italic",title:"Normal 400 Italic"},{prop:"500",title:"Bold 500"},{prop:"500italic",title:"Bold 500 italic"},{prop:"600",title:"Semi-Bold 600"},{prop:"600italic",title:"Semi-Bold 600 Italic "},{prop:"700",title:"Bold 700"},{prop:"700italic",title:"Bold 700 Italic"},{prop:"800",title:"Extra-Bold 800"},{prop:"800italic",title:"Extra-Bold 800 Italic"}],this.onVariants.bind(this));this.variantsBtn.parent().tooltip({settings:{content:h,vertical:!0}});var h=c([{prop:"cyrillic",title:"Cyrillic"},{prop:"devanagari",title:"Devanagari"},{prop:"greek",title:"Greek"},{prop:"latin",title:"Latin"},{prop:"vietnamese",title:"Vietnamese"}],this.onSubsets.bind(this));this.subsetsBtn.parent().tooltip({settings:{content:h,vertical:!0}}),this.fontSearchPanel=this.root.controls.add("input",{container:d,"class":"control_input font_control_input",options:{placeholder:"Search..."}},this.onSearch.bind(this))},createFontGroups:function(){var a=function(a){return function(){b.set({type:a,family:this.dataset.family})}},b=this;this.fontPreviewContainer=$("<div>",{"class":"font_preview_container"}),this.previews={},this.lists={},this.options.forEach(function(c){var d=c.val;b.previews[d]=$("<div>",{"class":"font_preview font_preview_"+d}).appendTo(b.fontPreviewContainer),b.previews[d].on("scroll",b.searchAndPreloadFonts.bind(b)),b.lists[d]=$("<ul>",{"class":"font_preview_list"}).appendTo(b.previews[d]),b.lists[d].on("click","li",a(d))}),this.contentBox.append(this.fontPreviewContainer)},appendFontsToPreview:function(){var a=$("<li>"),b="<span>%family%</span>The quick brown fox jumps over the lazy dog",c="";this.chosenFontGroup.fonts.forEach(function(d){var e=a.clone().attr({"data-family":d.family,style:"font-family: "+d.css}).html(b.replace("%family%",d.family));c+=e[0].outerHTML}),this.lists[this.chosenFontGroup.name].html(c)},initFonts:function(){var a=this;c.create("defaults","Default fonts",{link:cssg.defaultFonts,process:function(a){return a.map(function(a){return a.familyLowerCase=a.family.toLowerCase(),a})}}),c.create("google","Google fonts",{link:"https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyB4U2RT7491Cu7ZSnHpHZqXrSPGefgRKfc&callback=?",process:function(a){var b,c,d=a.items,e=[];for(c=d.length;c--&&(b=d[c]);)e.unshift({family:b.family,familyLowerCase:b.family.toLowerCase(),css:b.family+", Arial",loaded:!1,raw:b});return e},preload:function(b){var c,d=a.previews.google.find("li:first-child").outerHeight(),e=a.previews.google.scrollTop(),f=a.previews.google.height(),g=Math.floor(e/d),h=Math.ceil((e+f)/d)+10,i=b.length;for(c=g;h>c&&i>c;++c)b[c].loaded===!1&&(!function(d){var e=a.previews.google.find('li[data-family="'+d.family+'"]'),f=new Image,g="/font_imgs/"+b[c].familyLowerCase.replace(/ /g,"-")+".png";$(f).load(function(){e.css({"background-image":'url("'+g+'")'}).html("")}).attr("src",g)}(b[c]),b[c].loaded=!0)}}),c.create("adobe","Adobe fonts",{link:"/fontslist",process:function(a){var b,c,d=a,e=[];for(c=d.length;c--&&(b=d[c]);)e.unshift({family:b.name,familyLowerCase:b.slug,css:b.name+", Arial",loaded:!1,raw:b});return e},preload:function(b){var c,d=a.previews.adobe.find("li:first-child").outerHeight(),e=a.previews.adobe.scrollTop(),f=a.previews.adobe.height(),g=Math.floor(e/d),h=Math.ceil((e+f)/d)+10,i=b.length;for(c=g;h>c&&i>c;++c)b[c].loaded===!1&&(!function(b){var c=a.previews.adobe.find('li[data-family="'+b.family+'"]'),d=new Image,e="/font_imgs/"+b.familyLowerCase+".png";$(d).load(function(){c.css({"background-image":'url("'+e+'")'}).html("")}).attr("src",e)}(b[c]),b[c].loaded=!0)}})},selectFontGroup:function(a,b){b=$.isFunction(b)?b:function(){},this.currentData.type=a;var d=$(".font_filter_group");"google"!=a?d.hide():d.show(),this.chosenFontGroup=c.findByName(a),$(".font_preview").hide().filter(".font_preview_"+a).show();var e=this.fontSearchPanel.find("input");this.chosenFontGroup.fontsLoaded?(e.prop("disabled",!1),e.trigger("keyup"),b()):(e.prop("disabled",!0),this.chosenFontGroup.loadFonts(function(){this.appendFontsToPreview(),e.prop("disabled",!1),e.trigger("keyup"),b()}.bind(this)))},refresh:function(a){this.lists[this.chosenFontGroup.name].find("li").addClass("hide").end().find(a.map(function(a){return'[data-family="'+a.family+'"]'}).join(",")).removeClass("hide")},init:function(){this.initFonts(),this.createContentBox(),this.createControls(),this.createFontGroups()},set:function(a,b,c){switch(a.type){case"google":$("<link>",{href:"http://fonts.googleapis.com/css?family="+a.family,rel:"stylesheet",type:"text/css"}).appendTo("head");break;case"adobe":$("<script>",{src:"http://use.edgefonts.net/"+a.family.toLowerCase().replace(/ /g,"-")+".js"}).appendTo("head")}this.currentData=a,$.isFunction(b)&&(this.currentOnChange=b),this.changed(c)},refreshSelectedGroup:function(){$('[data-type="'+this.currentData.type+'"]').trigger("click")},refreshSelectedFamily:function(){$(".font_item_selected").removeClass("font_item_selected"),$('[data-family="'+this.currentData.family+'"]').addClass("font_item_selected")},scroll:function(){var a=$('[data-family="'+this.currentData.family+'"]');a.parent().parent().scrollTo(a)},changed:function(a){var b=this;b.selectFontGroup(b.currentData.type,function(){b.refreshSelectedGroup(),b.refreshSelectedFamily(),a&&b.scroll(),b.currentOnChange(b.currentData)})}}}(ui.aside),ui.settings={init:function(){var a=this;$.each(this,function(b,c){"object"==typeof c&&"root"!=b&&(c.root=a.root,c.init&&"function"==typeof c.init&&c.init())}),$("#browsers").browsers()},show:function(){}},router=function(a){function b(a,b){switch(a){case"code":return b.join("/");case"gallery":if("tags"===b[0])return b[0]+"/"+b.slice(1).join(":");if(b[0])return b.join("/");default:return""}}function c(a,c){c=c||!1;var d=[""];return a.username&&(d.push(a.username),d.push("item")),a.sid&&d.push(a.sid),(c||a.rid)&&d.push(a.rid),a.page&&(d.push(a.page),a.page_params&&d.push(b(a.page,a.page_params))),d=d.length>1?d.join("/"):"/","/"===d&&(d="/start"),c||(d+=e.hash),d}var d=["box-shadow","background","text-shadow","transition"],e=a.location,f=a.history,g={__default_params_keys:["sid","rid","page","page_params","username"],sid:0,rid:0,page:"",username:"",page_params:[],_set_params:function(a){for(var b,c=this.__default_params_keys,d=c.length;d--;)b=c[d],this[b]="undefined"==typeof a[b]?this[b]:a[b]},_refresh:function(){var a=c(this);return f.pushState(null,null,a),a},init:function(a){return this._set_params(a),this},params_to_path:function(){var a,b=[this.unique_id];return"code"===this.page&&(a=this.page_params.slice(0),-1!==d.indexOf(a[1])&&a.splice(2,0,"points"),b=b.concat(a),b.length>4&&(b[4]="_:"+b[4])),b.join("|")},params_by_path:function(a,b){var c=b.split("|"),e={page:a,page_params:[]};switch(a){case"code":c.length>1&&(e.page_params.push(c[1],c[2]),-1===d.indexOf(c[2])?c.length>3&&e.page_params.push(c[3]):c.length>4&&e.page_params.push(c[4].replace("_:","")));break;case"gallery":}return e},create_url:function(){return c(this,!0)},refresh:function(a){a=a||{},this._set_params(a);var b=this._refresh();return a.reload&&window.location.reload(),b},share_url:function(a){return c({sid:this.sid,rid:this.rid,page:a},!0)}};return g.__defineGetter__("unique_id",function(){return this.sid+"_"+this.rid}),g.__defineGetter__("share_url_code",function(){return this.share_url("code")}),g.__defineGetter__("share_url_gallery",function(){return this.share_url("gallery")}),g}(window).init(JSON.parse($("[router-init-data]").text())),XbEmbedAuth.prototype={constructor:XbEmbedAuth,handleEvent:function(a){var b=this;switch(a.type){case"message":case"onmessage":b.recieveMessage(a)}},attachListeners:function(){var a=this,b=function(){if(a.checkRoute(document.location.hash)){a.showOverlay();var b=document.location.hash.substr(1),c=setInterval(function(){a.frameReady&&(a.isFrameVisible||(a.showFrame(),a.showFrame()),a.sendMessage({msgType:"route",route:b}),clearInterval(c))},50)}};$(window.document).on("click","a[href][data-auth]",function(b){var c={prop:$(this).prop("href"),attr:$(this).attr("href")};b.preventDefault(),a.showOverlay();var d=setInterval(function(){a.frameReady&&(a.isFrameVisible||(a.showFrame(),a.showFrame()),a.sendMessage({msgType:"route",route:c.attr}),clearInterval(d))},50)}),$(window.document).ready(b),$(window.document).on("click","a[href]:not([data-auth])",function(b){var c={prop:$(this).prop("href"),attr:$(this).attr("href")};if(b.preventDefault(),a.checkRoute(document.location.href)){a.showOverlay();var d=setInterval(function(){a.frameReady&&(a.isFrameVisible||(a.showFrame(),a.showFrame()),a.sendMessage({msgType:"route",route:c.attr}),clearInterval(d))},50)}else window.document.location.href=c.attr})},createIframe:function(){var a=this;$(function(){$("<iframe>",{src:a.initUrl,id:a.frame_id,frameborder:0,scrolling:"no"}).css({position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"rgba(0,0,0,0)","z-index":23974597,display:"none"}).appendTo(a.el),a.frame=document.getElementById(a.frame_id).contentWindow,window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a)})},createOverlay:function(){var a=this;$(function(){var b=$("<div/>",{id:"overlay_"+a.frame_id}).css({position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:a.color,"z-index":23974595,display:"none"});b.append('<div class="spinner_xb"><div class="rect1_xb"></div><div class="rect2_xb"></div><div class="rect3_xb"></div><div class="rect4_xb"></div><div class="rect5_xb"></div></div>'),$("<style>.spinner_xb{position:absolute;top:calc(50% - 30px);left:calc(50% - 25px);width:50px;height:60px;text-align:center;font-size:10px}.spinner_xb>div{background-color:rgba(235,236,219,1);height:100%;width:6px;display:inline-block;margin:1px;-webkit-animation:stretchdelay 1.2s infinite ease-in-out;animation:stretchdelay 1.2s infinite ease-in-out}.spinner_xb .rect2_xb{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.spinner_xb .rect3_xb{-webkit-animation-delay:-1s;animation-delay:-1s}.spinner_xb .rect4_xb{-webkit-animation-delay:-.9s;animation-delay:-.9s}.spinner_xb .rect5_xb{-webkit-animation-delay:-.8s;animation-delay:-.8s}@-webkit-keyframes stretchdelay{0%,100%,40%{-webkit-transform:scaleY(.4)}20%{-webkit-transform:scaleY(1)}}@keyframes stretchdelay{0%,100%,40%{transform:scaleY(.4);-webkit-transform:scaleY(.4)}20%{transform:scaleY(1);-webkit-transform:scaleY(1)}}</style>").appendTo("head"),b.appendTo(a.el)})},showOverlay:function(){var a=this;$("#overlay_"+a.frame_id).css({display:"block"})},hideOverlay:function(){var a=this;$("#overlay_"+a.frame_id).css({display:"none"})},checkRoute:function(a){var b=!1;return b=b||a.indexOf("restore/token/")>=0,b=b||a.indexOf("confirm/token/")>=0,b=b||a.indexOf("login")>=0,b=b||a.indexOf("signup")>=0},sendMessage:function(a){var b=this;b.frame&&b.frame.postMessage(JSON.stringify(a),"*")},showFrame:function(){var a=this;$("#"+a.frame_id).css({display:"block"}),a.isFrameVisible=!0,a.defaultConfig.onFrameOpened(),a.sendMessage({msgType:"restartAnimation"}),a.showOverlay()},hideFrame:function(){var a=this;$("#"+a.frame_id).css({display:"none"}),a.isFrameVisible=!1,a.defaultConfig.onFrameClosed(),a.sendMessage({msgType:"hideFrame"})},enableScroll:function(){$("html, body").css({"overflow-y":"auto",height:"auto"})},disableScroll:function(){$("html, body").css({"overflow-y":"hidden",height:"100%"})},recieveMessage:function(a){var b=this,c=JSON.parse(a.data);c.msgType,"closeFrame"===c.msgType&&b.hideFrame(),"ready"===c.msgType&&(b.frameReady=!0,b.defaultConfig.onFrameLoaded()),"saveLocation"===c.msgType&&(localStorage["enjoycss.location"]=document.location.href),"hideOverlay"===c.msgType&&b.hideOverlay()},init:function(){var a=this;a.el=a.defaultConfig.el,a.domains=a.defaultConfig.domains,a.initUrl=a.defaultConfig.frameUrl,a.frame_id=a.defaultConfig.frameId,a.color=a.defaultConfig.overlayColor,a.frame=null,a.frameReady=!1,a.isFrameVisible=!1,a.createOverlay(),a.checkRoute(document.location.hash)&&a.showOverlay(),$(window.document).on("click","a[href][data-auth]",function(b){var c={prop:$(this).prop("href"),attr:$(this).attr("href")};b.preventDefault(),a.showOverlay();var d=setInterval(function(){a.configSended&&a.frameReady&&(a.isFrameVisible||(a.showFrame(),a.showFrame()),a.sendMessage({msgType:"route",route:c.attr}),clearInterval(d))},50)}),a.createIframe();var b=setInterval(function(){a.frameReady&&(a.sendMessage({msgType:"config",config:a.defaultConfig}),a.configSended=!0,a.attachListeners(),clearInterval(b))},50)}},ui.pages={init:function(){},_makeBlockForTooltip:function(a){var b=$("<div />",{"class":"tooltip_chooser_block"}).append('<div class="tooltip_templates">         <div class="tooltip_template tooltip_templates__blank" data-type="blank" data-tooltip-click-fire-event="close">Blank</div>         <div class="tooltip_template tooltip_templates__input" data-type="input" data-tooltip-click-fire-event="close">Input</div>         <div class="tooltip_template tooltip_templates__block" data-type="block" data-tooltip-click-fire-event="close">Block</div>         <div class="tooltip_template tooltip_templates__button" data-type="button" data-tooltip-click-fire-event="close">Button</div>       </div>');return $(b).on("click",".tooltip_template",function(b){var c=b.target.dataset.type;"gallery"===c?ui.templates.show():(cssg.startNodeType=c,ui.templates.applyPoint(cssg.getCurrentPoint(!0),{sid:0,rid:0,page:""}),"function"==typeof a&&a()),cssg.refreshBackground(),cssg.autosaver.saveCurrentPoint()}),b},_makeBlockForChooseDefaultTemplate:function(){var a=$("<div />",{"class":"template_chooser_block"}).append('<div class="template_chooser__title">Choose template to start</div>       <div class="default_templates">       </div>');return a},_makeBlockForChooseExtensionType:function(a){var b=$("<div />",{"class":"extension_chooser_block"}).append('      <div class="extension_chooser_btn" data-type="ext">Add as Extension\n        <div class="extension_chooser_extension_image"></div>\n      </div>      <div class="extension_chooser_btn" data-type="app">Add as Application\n        <div class="extension_chooser_application_image"></div>\n      </div>      ');return $(b).on("click",".extension_chooser_btn",function(){var b=$(this).data("type"),c="glaicnlmooddlibnipmedfkfjkphoklc";"app"===b&&(c="gefdjidjdnjmgbipbbfkmaidbibpkfja");var d="https://chrome.google.com/webstore/detail/"+c;chrome.webstore.install(d,void 0,function(a){}),"function"==typeof a&&a()}),b}},ui.states={title:"settings",tabbar_settings:{input:{label:'Input<div class="btn_type_icon input_type"></div>',states:[{text:"Hover",val:"hover"},{text:"Focus",val:"focus"}]},block:{label:'Block<div class="btn_type_icon block_type"></div>',states:[{text:"Active",val:"active"},{text:"Hover",val:"hover"},{text:"Before",val:"before"},{text:"After",val:"after"}]},button:{label:'Button<div class="btn_type_icon button_type"></div>',states:[{text:"Active",val:"active"},{text:"Hover",val:"hover"}]}},init:function(){var a=this,b=$("<div />").css("width","430px"),c=[];for(var d in a.tabbar_settings)c.push({val:d,text:a.tabbar_settings[d].label});var e="input",f=this.root.controls.add("chooser",{container:b,"class":"enjoy_tabs",options:c,value:e,unselectable:!0},function(b){a.tabbarChangePanel(b);var c=cssg.getStateIndexByName(a.root.panels.selectedState);for(var d in a.allControls[b].states){var e=cssg.getNodeTypeStateValue(b,d);if(a.allControls[b].states[d].trigger("set",e),cssg.changeStateCondition(d,e,function(){a.root.panels.changeStatePanel(0)}),"after"==d||"before"==d){var f=cssg.getCssContent(d),g=a.allControls[b][d+"Content"];e?(g.section.show(),g.input.trigger("set",f)):g.section.hide()}}cssg.setNodeType(b,a.tabbar_settings[b].states),a.allControls[b].states[c]||(a.root.panels.changeStatePanel(0),cssg.selectState(0))}),g=$("<div>",{"class":"settings_visible_port"}),h=$("<div>",{"class":"settings_panels"}).css("width",100*c.length+"%"),i=[],j={},k=100/c.length;$.each(c,function(b,c){var d=$("<div>",{"class":"settings_tabbar_panel"}).css("width",k+"%");i.push(d),j[c.val]={panel:d,pos:b},a.initTabbarPanels(c.val,d)}),h.append(i),g.append(h),b.append(g),a.type_chooser=f,a.type_sections=h,a.panels_hash=j,a.panel_width_in_percents=k;var l=cssg.getSettings();a.set(l),this.view=b},tabbarChangePanel:function(a){var b=this,c=b.panels_hash[a],d=c.pos,e=b.panel_width_in_percents*d;b.type_sections.find(">div").not(c.panel).addClass("transparent"),c.panel.removeClass("transparent"),b.type_sections.css({"-webkit-transform":"translateX(-"+e+"%)",transform:"translateX(-"+e+"%)"})},set:function(a){var b=this;b.type_chooser.trigger("set",a.nodeType),b.tabbarChangePanel(a.nodeType);for(var c in b.allControls){b.allControls[c].text.input.trigger("set",a.text),b.allControls[c].className.input.trigger("set",a.className);for(var d in b.allControls[c].states){var e=!1;if(a.states[d]&&"false"!=a.states[d]&&(e=!0),"after"==d&&e){var f=cssg.getCssContent("after");b.allControls[c].afterContent.section.show(),b.allControls[c].afterContent.input.trigger("set",f)}if("before"==d&&e){var g=cssg.getCssContent("before");b.allControls[c].beforeContent.section.show(),b.allControls[c].beforeContent.input.trigger("set",g)}b.allControls[c].states[d].trigger("set",e)}}cssg.applyPointSettings(),1==cssg.getRealStatesCount()?$("body").addClass("disable_states_items"):$("body").removeClass("disable_states_items")},changed:function(){},addTextSection:function(a,b,c,d){d=d||{};var e=d.validation?new RegExp(d.validation,"i"):!1,f=d.link_id?d.link_id:a,g=d.className?d.className:"",h=this.root.panels.addSection({container:b,"class":g});return this.root.controls.add("text",{container:h,html:a}),a=this.root.controls.add("input",{container:h,"class":"settings_input_control",linked:f,state:"aside_settings_state",validation:e,textarea:d.is_area,settings:{placeholder:""}},function(a){c&&c(a)}),{input:a,section:h}},addPropertiesSection:function(a,b,c,d){var e=this.root,f=e.panels.addSectionHeader({container:c,"class":"settings_header"});e.controls.add("text",{container:f,html:a});var g={};return $.each(b,function(a,b){f=e.panels.addSection({container:c});var h=e.controls.add("checkbox",{container:f,state:"aside_settings_state","class":"settings_options_control",linked:b.val},function(a){d&&d(a,b.val)});g[b.val]=h,e.controls.add("text",{container:f,html:b.text})}),g},checkStateHandler:function(a,b,c){var d=this,e=!cssg.isStateExist(b);cssg.changeStateCondition(b,a,function(a){d.root.panels.changeStatePanel(a)}),1==cssg.getRealStatesCount()?$("body").addClass("disable_states_items"):$("body").removeClass("disable_states_items"),d.root.layout.addHandlers(),e&&d.root.panels.createStatePanels(b);for(var f in d.allControls)d.allControls[f].states[b]&&cssg.setNodeTypeStateValue(f,b,a);if("after"==b||"before"==b){var g=cssg.getCssContent(b),h=d.allControls[c][b+"Content"];a?(h.section.show(),h.input.trigger("set",g)):h.section.hide()}d.root.layout.disableAnimation(!0),d.root.panels.changeStatePanel(),a&&d.root.panels.changeStatePanel(cssg.getStateIndexByName(b));var i="transitionend.name webkitTransitionEnd.name oTransitionEnd.name MSTransitionEnd.name";$("body").unbind(i).bind(i,function(){d.root.layout.disableAnimation(!1),$("body").unbind(i)})},initTabbarPanels:function(a,b){var c=this;c.allControls||(c.allControls={});var d,e,f,g;c.allControls[a]={};var h=this.root.panels.addGroup({container:b,items_with_border_bottom:!0,"class":"settings_group settings_group0"}),i=this.root.panels.addGroup({container:b,items_with_border_bottom:!0,"class":"settings_group settings_group1"}),j="Text";switch(a){case"input":j="Placeholder";break;case"button":break;case"block":}var k=c.tabbar_settings[a].states;d=c.addTextSection(j,h,function(a){cssg.setHtmlText(a)},{validation:!1,link_id:"state_text",is_area:!0,className:"settings_text_section"}),e=c.addTextSection("Class",h,function(a){cssg.setClassName(a)},{validation:"^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$"}),g=c.addTextSection("Before Content",h,function(a){cssg.setCssContent(a,"before")}),f=c.addTextSection("After Content",h,function(a){cssg.setCssContent(a,"after")}),g.section.hide(),f.section.hide();var l=c.addPropertiesSection("States",k,i,function(b,d){c.checkStateHandler(b,d,a)});c.allControls[a].text=d,c.allControls[a].className=e,c.allControls[a].beforeContent=g,c.allControls[a].afterContent=f,c.allControls[a].states=l}},ui.defaultTemplateChoose={buttons:null,init:function(){this.buttons=ui.pages._makeBlockForChooseDefaultTemplate(this.close.bind(this)),this.buttons.addClass("default-template-choose_page__buttons"),this.view=this.buttons,this.view_tooltip=ui.pages._makeBlockForTooltip(this.close.bind(this))},show:function(){$("body").popup("open",{obj:this.view,route_params:{page:""}})},close:function(){$("body").popup("close")}},ui.extensionChoose={buttons:null,init:function(){this.buttons=ui.pages._makeBlockForChooseExtensionType(this.close.bind(this)),this.buttons.addClass(""),this.view=this.buttons,this.view_tooltip=ui.pages._makeBlockForChooseExtensionType(this.close.bind(this))},show:function(){$("body").popup("open",{obj:this.view,route_params:{page:""}})},close:function(){$("body").popup("close")}},ui.saveTemplateTooltip={buttons:null,init:function(){var a=this;a.onSaveBtnClick=function(){};var b="enjoy_save_template_tooltip",c=$("<div>",{"class":b}),d=this.root.panels.addGroup({container:c,sortable:!1}),e=this.root.panels.addSection({container:d});this.root.controls.add("text",{container:e,html:"Name","class":b+"_label"}),a.name_control=this.root.controls.add("input",{container:e,"class":b+"_right_control",settings:{placeholder:""}});var e=this.root.panels.addSection({container:d,"class":b+"_description_section"});this.root.controls.add("text",{container:e,html:"Description","class":b+"_label"}),a.description_control=this.root.controls.add("input",{container:e,"class":b+"_right_control",textarea:!0,settings:{placeholder:""}});var e=this.root.panels.addSection({container:d});this.root.controls.add("text",{container:e,html:"Category","class":b+"_label"});var f=[];$.each(cssg.gallery_cats,function(a,b){f.push({val:b.id,chooserHtml:b.title,dropdownHtml:'<span class="label">'+b.title+"</span>"})}),a.category_control=this.root.controls.add("selectbox",{container:e,"class":b+"_right_control",options:f,value:"buttons"});{var e=this.root.panels.addSection({container:d});$("<div/>",{"class":"button button1"}).html("Save").appendTo(e).click(function(){var b=a.name_control.input("get"),c=a.description_control.input("get"),d=a.category_control.attr("data-value");b.length>0&&c.length>0&&d.length>0&&a.onSaveBtnClick({name:b,description:c,category:d})})}this.view=c,this.view_tooltip=c},set:function(a){var b=this;b.item_id=a.id,b.name_control.input("set",a.name),b.description_control.input("set",a.description),b.category_control.selectbox("set",a.category),b.onSaveBtnClick=a.onSaveBtnClick},show:function(){$("body").popup("open",{obj:this.view,route_params:{page:""}})},close:function(){$("body").popup("close")}},ui.start={__show_page:function(){},__link:function(a,b){var c=$("<div />",{"class":"start_page__"+a.type});return c.append($("<div />",{"class":"start_page__link_"+a.type})).append($("<div />",{"class":"start_page__text_"+a.type,text:a.text})).on("click",function(a){a.preventDefault(),a.stopPropagation(),b.call(this,a)}.bind(this)),c},init:function(){this.mascot=$("<img />",{"class":"start_page__mascot",src:"/img/mike.svg"}),this.__link({type:"gallery",text:""},function(){}),this.buttons=ui.pages._makeBlockForChooseDefaultTemplate(this.close.bind(this)),this.buttons.addClass("start_page__buttons"),this.view=$("<div />",{"class":"start_page"}).append(this.buttons)},needShow:function(){return!(router.sid||router.page&&"start"!==router.page)},show:function(a){if(a)this.__show_page();else{var b=cssg.storage.get("show_start");(null===b||b===!0)&&(this.__show_page(),cssg.storage.set("show_start",!1))}},close:function(){$("body").popup("close")}},ui.pages=ui.pages||{},ui.pages["import"]={init:function(){var a,b=cssg.parser,c=$("<div />",{"class":"import_methods"}).html('<div data-method="merge" class="import_method button button1" data-tooltip-click-fire-event="close">Merge with current styles</div>         <div data-method="replace" class="import_method button button1" data-tooltip-click-fire-event="close">Replace current styles</div>').on("click",".import_method",function(){var c=this.dataset.method;$("body").triggerEnjoy("open","Appling..."),fns.async(function(){try{!function(){var a,b=cssg.getSettings(),c=b.nodeType;"block"===c&&(a=b.nodeTypeStates.block,a.after&&ui.states.checkStateHandler(!1,"after",c),a.before&&ui.states.checkStateHandler(!1,"before",c))
}(),ui.templates.applyPoint(b.point(a,c))}catch(d){$(".header_button__import").tooltip("open"),l.text("Sorry. Cannot apply CSS for "+b.pointSelector+" selector").removeClass("hide")}$("body").triggerEnjoy("close")})}),d=function(b){return b.tooltip({settings:{content:function(){return a=this.dataset.selector,c},horizontal:!0,centered:!0}})},e=function(){var a=cssg.parser,b=$("<div />",{"class":"import_variants"}),c=[],e='<div class="import_variant" >              <div class="import_variant_selector">%selector%</div>              <div data-selector="%selector%" class="import_apply_small">Apply</div>            </div>';return a.selectors.forEach(function(a){c.push(e.replace(/%selector%/g,a))}),d(b.append(c.join("")).find(".import_apply_small")),b},f=function(a,b,c){var d;return function(){var e=this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b),c&&!d&&a.apply(e,f)}},g="",h=function(){this.value!==g&&(g=this.value,i.trigger("import_css",[g]))},i=$("<textarea />",{"class":"import_css code_font",placeholder:"Paste or write your CSS here..."}).on("keyup",f(h,300)),j=$('<div class="import_selectors hide"></div>'),k=d($('<div class="import_apply_large button button1 hide" data-selector="%default_selector_name%">Apply</div>'.replace("%default_selector_name%",b.defaultSelectorName))),l=$("<div/>",{"class":"import_error hide"});return i.on("import_css",function(a,c){b.css(c),l.addClass("hide"),b.hasStyles?b.hasOnlyPlainStyle?(j.addClass("hide"),k.removeClass("hide")):(k.addClass("hide"),j.html(""),j.append(e()),j.removeClass("hide")):(j.addClass("hide"),k.addClass("hide"))}),this.view=$("<div />",{"class":"import"}).append($("<div />",{"class":"import_warning",text:"Experimental. Tested in Chrome"})).append(i).append(l).append(j).append(k),this}}.init(),ui.templates={init:function(){var a=this;a.tagsGroups=[["all"],["template","pattern"],["button","input","block"],["flat","web20","oldSchool"],["textEffect","blockEffect","gradientEffect","shape","art"]],a.filter={tags:[],search:""},a.current_template={},a.categories_hash={};for(var b=0;b<cssg.gallery_config.categories.length;b++){var c=cssg.gallery_config.categories[b];a.categories_hash[c.id]=c}a.drawTemplates(),a.defineCategories(),a.defineCategory(),a.definePreview(),a.defineLeftCategories(),a.refreshTags()},loadImagesHandle:function(a){a.find(".gallery_item").each(function(){var a=$(this);a.addClass("loading");var b=$(this).find("img").attr("src"),c=new Image;c.onload=function(){a.removeClass("loading")},c.src=b})},defineLeftCategories:function(){var a=this;a.$gallery_left_categories=$("#gallery_left_categories"),a.leftbar.append(a.$gallery_left_categories);var b=a.$gallery_left_categories.find("li");a.left_bar_items_hash={},b.each(function(){var b=$(this),c=b.attr("cat-id");a.left_bar_items_hash[c]=b,b.click(function(c){c.preventDefault();var d=b.attr("cat-id");a.handleLeftMenuClick(d)})})},selectLeftMenuItem:function(a){var b=this,c=b.$gallery_left_categories.find("li");c.removeClass("selected");var d=b.left_bar_items_hash[a];d&&d.addClass("selected")},handleLeftMenuClick:function(a){var b=this;b.selectLeftMenuItem(a),b.show("category",{category_id:a,category_name:b.categories_hash[a].title})},defineCategories:function(){var a=this;a.$gallery_categories=$("#gallery_categories");var b=a.$gallery_categories.find(".gallery_categories");b.find(">li").each(function(){var b=$(this),c=b.find(".gallery_category_items");a.loadImagesHandle(c);var d=b.attr("cat-name"),e=b.attr("cat-id");c.shifter({item_size:{w:210,h:220},onClick:function(b){a.currentItemsFromNode(c.find(".gallery_item"));var d=b.attr("item-id"),f=b.attr("item-title");a.show("preview",{item_id:d,item_name:f,category_id:e})}});var f=b.find(".category_btn"),g=b.find(".gallery_content_header");f.add(g).click(function(b){b.preventDefault(),a.show("category",{category_id:e,category_name:d})})})},defineCategory:function(){var a=this;a.$gallery_category=$("#gallery_category");var b=a.$gallery_category.find(".gallery_item");a.current_category_items=[],a.currentItemsFromNode(b)},definePreview:function(){var a=this;a.$gallery_preview=$("#gallery_preview");var b=a.$gallery_preview.find(".prev_btn"),c=a.$gallery_preview.find(".next_btn"),d=a.$gallery_preview.find(".gallery_preview_wrapper");b.click(function(){a.prevItem()}),c.click(function(){a.nextItem()});{var e=($("<div>",{"class":"gallery_preview_top_line"}).append('          <span class="has_click_and_hover">Over your mouse or click </span>          <span class="has_only_hover">Over your mouse</span>          <span class="has_only_click">Click </span>           to see aditional states').appendTo(d),$("<div>",{"class":"right_btns"}).appendTo(d)),f=cssg.is_admin?"Edit":"Edit in enjoycss studio & get css code";$("<div/>",{"class":"edit_btn preview_btn icon_pencil-3"}).html(f).appendTo(e).click(function(b){if(b.stopPropagation(),cssg.is_admin){var c={sid:a.gallery_item_id.split("_")[0],rid:a.gallery_item_rid,reload:!0,page:"",page_params:[]};router.refresh(c)}else a.applyTemplate(a.current_template)})}if(cssg.is_admin){var g=$("<div/>",{"class":"preview_btn edit_tags_btn"}).html("Title").appendTo(e).tooltip({settings:{content:ui.saveTemplateTooltip.view_tooltip,vertical:!0},onOpen:function(){var b=cssg.templates[a.current_template.id];ui.saveTemplateTooltip.set({name:b.title,description:b.description,category:b.categories.join(","),onSaveBtnClick:function(c){b.title=c.name,b.description=c.description,b.categories=c.category.split(","),a.current_template.title=b.title,a.current_template.description=b.description,a.saveTemplateTags(a.current_template.id,{name:c.name,description:c.description,categories:c.category.split(",")},function(){}),g.tooltip("close")}})}});$("<div/>",{"class":"preview_btn remove_btn icon_remove-2"}).html("Remove").appendTo(e).click(function(b){b.stopPropagation(),confirm("Are you sure you want to remove this template?")&&a.removeTemplatePoint(a.current_template.id,a.current_template.revision,function(){var a={reload:!0,page_params:[]};router.refresh(a)})})}},currentItemsFromNode:function(a){var b=this;b.current_category_items=[],a.each(function(){var a={title:$(this).attr("item-title"),sid:$(this).attr("item-id").split("_")[0],rid:$(this).attr("item-id").split("_")[1]};b.current_category_items.push(a)})},prevItem:function(){var a=this,b=a.getCurrentItemIndex()-1,c=a.current_category_items[b];a.refreshPreview({item_id:c.sid+"_"+c.rid,item_name:c.title})},nextItem:function(){var a=this,b=a.getCurrentItemIndex()+1,c=a.current_category_items[b];a.refreshPreview({item_id:c.sid+"_"+c.rid,item_name:c.title})},getCurrentItemIndex:function(){for(var a=this,b=0;b<a.current_category_items.length;b++)if(a.current_category_items[b].sid==a.gallery_item_id.split("_")[0])return b},refreshPreview:function(a){var b=this;b.changeMeta(a.item_name,"");var c=b.$gallery_preview.find(".preview_frame"),d=c.find(".gallery_preview_iframe");c.addClass("loading"),d.get(0).onload=function(){d.get(0).contentWindow.centerPreview(),c.removeClass("loading")};var e=d.attr("src");a.item_id&&a.item_name&&(d.contents().find("body").empty(),b.$gallery_preview.attr("item-id",a.item_id),b.$gallery_preview.attr("item-title",a.item_name),b.$gallery_preview.find(".gallery_content_header").html(a.item_name),e="/previews/"+a.item_id+".html"),d.attr("src",e);var f=b.$gallery_preview.attr("item-title"),g=a.item_id.split("_")[0],h=a.item_id.split("_")[1];b.gallery_item_id=g,b.gallery_item_rid=h,b.current_template={id:g,revision:h,name:f,tags:[]};var i=cssg.templates[b.current_template.id];c.removeClass("has_hover has_active has_focus has_after has_before");for(var j in i.states)c.addClass("has_"+j);var k=($(".gallery_preview_description_content"),b.$gallery_preview.find(".gallery_preview_description_btn"));k.tooltip({settings:{content:$("<div>",{"class":"gallery_preview_description_tooltip"}).html(i.description),vertical:!0,top:!0}});var l=b.$gallery_preview.find(".left_btns"),m=l.find(".fb-like");m.attr("data-href","http://enjoycss.com/gallery/"+b.gallery_category_id+"/"+b.gallery_item_id),setTimeout(function(){FB.XFBML.parse()},100),b.gallery_item_id=a.item_id,b.refreshPreviewButtons(),b.refreshRoute()},refreshPreviewButtons:function(){var a=this,b=a.$gallery_preview.find(".prev_btn"),c=a.$gallery_preview.find(".next_btn"),d=a.getCurrentItemIndex(),e=a.current_category_items,f="active";0==d?b.removeClass(f):b.addClass(f),e.length-1==d?c.removeClass(f):c.addClass(f)},refreshBackBtn:function(){var a=this;a.back_btn.unbind();var b=!1,c="Back to editor";a.gallery_item_id||a.gallery_category_id?!a.gallery_item_id&&a.gallery_category_id?(b=function(){a.show("categories")},c="Back to gallery"):a.gallery_item_id&&a.gallery_category_id&&(b=function(){a.show("category",{category_id:a.gallery_category_id,category_name:a.categories_hash[a.gallery_category_id].title})},c="Back to "+a.categories_hash[a.gallery_category_id].title):b=function(){a.close()},a.back_btn.click(function(){b()}),a.back_btn.find(".title").text(c)},getCheckedTags:function(){var a=this.filter.tags;return a.length?["tags"].concat(a):[]},getGalleryParams:function(){var a=this,b=[];return a.gallery_category_id&&b.push(a.gallery_category_id),a.selectLeftMenuItem(a.gallery_category_id),a.gallery_item_id&&b.push(a.gallery_item_id.split("_")[0]),b},refreshRoute:function(){"gallery"===router.page&&router.refresh({page_params:this.getGalleryParams()})},renderCategoryItems:function(a,b){$.each(a,function(a,c){var d=c.sid+"_"+c.rid,e=$("<div>",{"class":"gallery_item"}).append('<img src="/webshots/'+d+'.png" alt="'+c.title+'">').attr("item-id",d).attr("item-title",c.title);b.append(e)})},show:function(a,b){function c(){h.find(".gallery_item").each(function(){var a=$(this);a.append('<div class="icon_spinner">'),a.click(function(b){b.preventDefault();var c=a.attr("item-id"),e=a.attr("item-title");d.show("preview",{item_id:c,item_name:e})});var b=a.attr("item-id").split("_")[0],c=cssg.templates[b],e=$("<div>",{"class":"gallery_category_item_description_btn icon_info"}).appendTo(a);e.tooltip({settings:{content:$("<div>",{"class":"gallery_preview_description_tooltip"}).html(c.short_description),vertical:!0,top:!0}})}),d.loadImagesHandle(h)}var d=this;a=a?a:"categories";var e=d.$gallery_preview.add(d.$gallery_categories).add(d.$gallery_category);switch(e.appendTo(d.templates_content).hide(),a){case"categories":d.$gallery_categories.show(),d.gallery_item_id=!1,d.gallery_category_id=!1;var f=cssg.gallery_config.meta_title,g=cssg.gallery_config.meta_description;d.changeMeta(f,g);break;case"category":d.$gallery_category.show();var h=d.$gallery_category.find(".gallery_category_items");if(b.category_id&&b.category_name){var i=d.categories_hash[b.category_id],f=i.meta_title,g=i.meta_description;d.changeMeta(f,g),d.$gallery_category.find(".gallery_content_header").html(b.category_name),h.empty(),d.loadCategoryItems(b.category_id,function(a){d.current_category_items=a,d.renderCategoryItems(a,h),c()})}d.gallery_item_id=!1,d.gallery_category_id=b.category_id,c();break;case"preview":d.$gallery_preview.show(),d.gallery_category_id=b.category_id||d.gallery_category_id,d.refreshPreview(b)}if(d.refreshBackBtn(),$("body").popup("open",{header:"",obj:this.templates_popup,route_params:{page:"gallery",page_params:d.getGalleryParams()}}),"categories"==a){var j=d.$gallery_categories.find(".gallery_categories");j.find(">li").each(function(){var a=$(this),b=a.find(".gallery_category_items");b.shifter("refresh")})}this.loaded=!0},close:function(){var a=this;$("body").popup("close");var b=cssg.gallery_config.default_meta_title,c=cssg.gallery_config.default_meta_description;a.changeMeta(b,c)},changeMeta:function(a,b){$("title").text(a),$('meta[name="description"]').attr("content",b)},applyPoint:function(a,b){cssg.applyTemplate(a),router.refresh(b),ui.states.set(cssg.getSettings()),ui.updateHeaderButtons(),ui.layout.tabs.refreshCodeButtonsVisible(),ui.panels.refreshAll(),cssg.refreshBackground(),ui.linker.compare()},applyTemplate:function(a){var b=this;b.loadTemplatePoint(a.id,a.revision,function(a){b.applyPoint(a.point,{sid:0,rid:0}),b.close()})},loadTemplatePoint:function(a,b,c){var d="/template/get/"+a;$.ajax({type:"post",url:d,dataType:"json",beforeSend:function(){$("body").triggerEnjoy("open","Loading...")},success:function(a){$("body").triggerEnjoy("close"),"function"==typeof c&&c(a)},error:function(a){}})},loadCategoryItems:function(a,b){var c="/template/get_items/"+a;$.ajax({type:"post",url:c,dataType:"json",beforeSend:function(){$("body").triggerEnjoy("open","Loading...")},success:function(a){$("body").triggerEnjoy("close"),"function"==typeof b&&b(a)},error:function(a){}})},saveTemplateTags:function(a,b,c){var d="/template/tags_save/"+a;$.ajax({type:"post",url:d,dataType:"json",data:b,beforeSend:function(){$("body").triggerEnjoy("open","save Tags...")},success:function(a){$("body").triggerEnjoy("close"),"function"==typeof c&&c(a)},error:function(a){}})},removeTemplatePoint:function(a,b,c){var d="/template/remove/"+a;$.ajax({type:"post",url:d,dataType:"json",beforeSend:function(){$("body").triggerEnjoy("open","Remove...")},success:function(a){$("body").triggerEnjoy("close"),"function"==typeof c&&c(a)},error:function(a){}})},refreshTags:function(){for(var a=this,b=[],c=0;c<a.filter.tags.length;c++){var d=a.filter.tags[c];b.push("#"+d)}a.topTags.html(b.join(", "))},tagLabelToValue:function(a){return a.replace(/ /g,"_").toLowerCase()},drawTemplates:function(){var a=this;a.loaded=!1,a.templates_popup=$('<div class="templates_popup">											<div class="topbar">												<div class="tags"></div>												<div class="search">													<input class="input" placeholder="search"/>													<input type="button" value="&#xe60a" class="button icon_search" />												</div>											</div>											<div class="leftbar">												<div class="tags"></div>											</div>											<div class="right_panel">\n                        <div class="back_btn"><div class="arrow icon_arrow_coll"></div><div class="title"></div></div>\n                        <div class="templates_content">                        </div>											</div>                </div>		');var b=a.templates_popup;a.topbar=$(".topbar",b).hide(),a.leftbar=$(".leftbar",b),a.tags=$(".tags",a.leftbar),a.topTags=$(".tags",a.topbar),a.back_btn=$(".back_btn",b),a.templates_content=$(".templates_content",b)}},window.caniuse={},window.caniuse.agents={ie:{browser:"IE",abbr:"IE",prefix:"ms",type:"desktop",usage_global:{6:.0737794,7:.187802,8:4.07799,9:2.1329,10:1.63656,11:8.33707,5.5:.009298,TP:0},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"5.5","6","7","8","9","10","11","TP",null,null]},firefox:{browser:"Firefox",abbr:"FF",prefix:"moz",type:"desktop",usage_global:{2:.006597,3:.026388,4:.026388,5:.013194,6:.026388,7:.013194,8:.046179,9:.013194,10:.026388,11:.046179,12:.059373,13:.026388,14:.026388,15:.032985,16:.052776,17:.039582,18:.032985,19:.026388,20:.032985,21:.039582,22:.032985,23:.046179,24:.079164,25:.052776,26:.059373,27:.098955,28:.059373,29:.092358,30:.151731,31:.448596,32:.369432,33:2.90928,34:6.50464,35:.237492,36:.006597,37:.006597,3.5:.013194,3.6:.092358},versions:[null,"2","3","3.5","3.6","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37"]},chrome:{browser:"Chrome",abbr:"Chr.",prefix:"webkit",type:"desktop",usage_global:{4:.026388,5:.013194,6:.019791,7:.013194,8:.013194,9:.013194,10:.019791,11:.098955,12:.039582,13:.026388,14:.026388,15:.026388,16:.019791,17:.013194,18:.032985,19:.013194,20:.013194,21:.072567,22:.059373,23:.032985,24:.039582,25:.032985,26:.052776,27:.072567,28:.079164,29:.06597,30:.13194,31:.752058,32:.145134,33:.46179,34:.32985,35:.613521,36:.890595,37:1.02253,38:1.326,39:25.3919,40:.125343,41:.184716,42:0},versions:["4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42"]},safari:{browser:"Safari",abbr:"Saf.",prefix:"webkit",type:"desktop",usage_global:{4:.052776,5:.125343,6:.098955,7:.448596,8:1.00274,3.1:0,3.2:.008692,5.1:.409014,6.1:.277074,7.1:.567342},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"3.1","3.2","4","5","5.1","6","6.1","7","7.1","8",null,null,null]},opera:{browser:"Opera",abbr:"Op.",prefix:"webkit",type:"desktop",usage_global:{11:.014996,12:.013194,15:.00685,16:.00685,17:.00685,18:.013194,19:.006597,20:.013194,21:.006597,22:.006597,23:.013434,24:.013194,25:.026388,26:.606924,27:.006597,28:0,"9.5-9.6":.00685,"10.0-10.1":.013194,10.5:.008392,10.6:.007296,11.1:.008219,11.5:.00685,11.6:.013194,12.1:.19791},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,"9.5-9.6","10.0-10.1","10.5","10.6","11","11.1","11.5","11.6","12","12.1","15","16","17","18","19","20","21","22","23","24","25","26","27","28",null],prefix_exceptions:{11:"o",12:"o","9.5-9.6":"o","10.0-10.1":"o",10.5:"o",10.6:"o",11.1:"o",11.5:"o",11.6:"o",12.1:"o"}},ios_saf:{browser:"iOS Safari",abbr:"iOS",prefix:"webkit",type:"mobile",usage_global:{8:.631121,3.2:0,"4.0-4.1":0,"4.2-4.3":0,"5.0-5.1":.0454654,"6.0-6.1":.188026,"7.0-7.1":2.22703,8.1:4.58892},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"3.2","4.0-4.1","4.2-4.3","5.0-5.1","6.0-6.1","7.0-7.1","8","8.1",null,null,null]},op_mini:{browser:"Opera Mini",abbr:"O.Mini",prefix:"o",type:"mobile",usage_global:{"5.0-8.0":3.0738},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"5.0-8.0",null,null,null]},android:{browser:"Android Browser",abbr:"And.",prefix:"webkit",type:"mobile",usage_global:{3:0,4:.305941,37:0,2.1:0,2.2:.00527484,2.3:.148355,4.1:.937603,"4.2-4.3":1.49344,4.4:2.50621,"4.4.3-4.4.4":1.02464},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"2.1","2.2","2.3","3","4","4.1","4.2-4.3","4.4","4.4.3-4.4.4","37",null,null,null]},op_mob:{browser:"Opera Mobile",abbr:"O.Mob",prefix:"o",type:"mobile",usage_global:{10:0,12:.00438935,24:0,11.5:0,12.1:.0219467},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"10",null,null,"11.5","12","12.1","24",null,null,null],prefix_exceptions:{24:"webkit"}},bb:{browser:"Blackberry Browser",abbr:"BB",prefix:"webkit",type:"mobile",usage_global:{7:.0935825,10:0},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"7","10",null,null,null]},and_chr:{browser:"Chrome for Android",abbr:"Chr/And.",prefix:"webkit",type:"mobile",usage_global:{39:10.5231},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"39",null,null,null]},and_ff:{browser:"Firefox for Android",abbr:"FF/And.",prefix:"moz",type:"mobile",usage_global:{33:.129314},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"33",null,null,null]},ie_mob:{browser:"IE Mobile",abbr:"IE.Mob",prefix:"ms",type:"mobile",usage_global:{10:.446303,11:0},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"10","11",null,null,null]},and_uc:{browser:"UC Browser for Android",abbr:"UC",prefix:"webkit",type:"mobile",usage_global:{9.9:3.77733},versions:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"9.9",null,null,null],prefix_exceptions:{9.9:"webkit"}}},window.caniuse.data={},window.caniuse.data["background-size"]={ie:{6:"n",7:"n",8:"n",9:"y",10:"y",11:"y",5.5:"n",TP:"y"},firefox:{2:"n",3:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"n",3.6:"a x"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"a",5:"a",6:"a",7:"y",8:"y",3.1:"a",3.2:"a",5.1:"a",6.1:"a",7.1:"y"},opera:{9:"n",11:"y",12:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"n","10.0-10.1":"a x",10.5:"y",10.6:"y",11.1:"y",11.5:"y",11.6:"y",12.1:"y"},ios_saf:{8:"y",3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0-7.1":"y",8.1:"y"},op_mini:{"5.0-8.0":"a"},android:{3:"y",4:"y",37:"y",2.1:"a x",2.2:"y x",2.3:"y x",4.1:"y","4.2-4.3":"y",4.4:"y","4.4.3-4.4.4":"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",12:"y",24:"y",11.1:"y",11.5:"y",12.1:"y"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"y",11:"y"},and_uc:{9.9:"y"}},window.caniuse.data["background-origin"]={ie:{6:"n",7:"n",8:"n",9:"y",10:"y",11:"y",5.5:"n",TP:"y"},firefox:{2:"n",3:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"n",3.6:"a x"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"a",5:"a",6:"a",7:"y",8:"y",3.1:"a",3.2:"a",5.1:"a",6.1:"a",7.1:"y"},opera:{9:"n",11:"y",12:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"n","10.0-10.1":"a x",10.5:"y",10.6:"y",11.1:"y",11.5:"y",11.6:"y",12.1:"y"},ios_saf:{8:"y",3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0-7.1":"y",8.1:"y"},op_mini:{"5.0-8.0":"a"},android:{3:"y",4:"y",37:"y",2.1:"a x",2.2:"y x",2.3:"y x",4.1:"y","4.2-4.3":"y",4.4:"y","4.4.3-4.4.4":"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",12:"y",24:"y",11.1:"y",11.5:"y",12.1:"y"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"y",11:"y"},and_uc:{9.9:"y"}},window.caniuse.data["background-clip"]={ie:{6:"n",7:"n",8:"n",9:"y",10:"y",11:"y",5.5:"n",TP:"y"},firefox:{2:"n",3:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"n",3.6:"a x"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"a",5:"a",6:"a",7:"y",8:"y",3.1:"a",3.2:"a",5.1:"a",6.1:"a",7.1:"y"},opera:{9:"n",11:"y",12:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"n","10.0-10.1":"a x",10.5:"y",10.6:"y",11.1:"y",11.5:"y",11.6:"y",12.1:"y"},ios_saf:{8:"y",3.2:"a","4.0-4.1":"a","4.2-4.3":"a","5.0-5.1":"a","6.0-6.1":"a","7.0-7.1":"y",8.1:"y"},op_mini:{"5.0-8.0":"a"},android:{3:"y",4:"y",37:"y",2.1:"a x",2.2:"y x",2.3:"y x",4.1:"y","4.2-4.3":"y",4.4:"y","4.4.3-4.4.4":"y"},bb:{7:"y",10:"y"},op_mob:{10:"y",11:"y",12:"y",24:"y",11.1:"y",11.5:"y",12.1:"y"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"y",11:"y"},and_uc:{9.9:"y"}},window.caniuse.data["text-shadow"]={ie:{6:"n",7:"n",8:"n",9:"n",10:"y #1",11:"y #1",5.5:"n",TP:"y #1"},firefox:{2:"n",3:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"y",3.6:"y"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"y",5:"y",6:"y",7:"y",8:"y",3.1:"a",3.2:"a",5.1:"y",6.1:"y",7.1:"y"},opera:{9:"n",11:"y",12:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"y","10.0-10.1":"y",10.5:"y",10.6:"y",11.1:"y",11.5:"y",11.6:"y",12.1:"y"},ios_saf:{8:"y",3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0-7.1":"y",8.1:"y"},op_mini:{"5.0-8.0":"a"},android:{3:"y",4:"y",37:"y",2.1:"y",2.2:"y",2.3:"y",4.1:"y","4.2-4.3":"y",4.4:"y","4.4.3-4.4.4":"y"},bb:{7:"a",10:"y"},op_mob:{10:"y",11:"y",12:"y",24:"y",11.1:"y",11.5:"y",12.1:"y"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"y #1",11:"y #1"},and_uc:{9.9:"y"}},window.caniuse.data["box-shadow"]={ie:{6:"n",7:"n",8:"n",9:"y",10:"y",11:"y",5.5:"n",TP:"y"},firefox:{2:"n",3:"n",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"y x",3.6:"y x"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"a x",5:"y x",6:"y",7:"y",8:"y",3.1:"a x",3.2:"a x",5.1:"y",6.1:"y",7.1:"y"},opera:{9:"n",11:"y",12:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11.1:"y",11.5:"y",11.6:"y",12.1:"y"},ios_saf:{8:"y",3.2:"a x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y","6.0-6.1":"y","7.0-7.1":"y",8.1:"y"},op_mini:{"5.0-8.0":"n"},android:{3:"a x",4:"y",37:"y",2.1:"a x",2.2:"a x",2.3:"a x",4.1:"y","4.2-4.3":"y",4.4:"y","4.4.3-4.4.4":"y"},bb:{7:"y x",10:"y"},op_mob:{10:"n",11:"y",12:"y",24:"y",11.1:"y",11.5:"y",12.1:"y"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"y",11:"y"},and_uc:{9.9:"y"}},window.caniuse.data["box-sizing"]={ie:{6:"p",7:"p",8:"a",9:"a",10:"a",11:"a",5.5:"p",TP:"a"},firefox:{2:"y x",3:"y x",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"y x",3.6:"y x"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"a",11:"a",12:"a",13:"a",14:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a",29:"a",30:"a",31:"a",32:"a",33:"a",34:"a",35:"a",36:"a",37:"a",38:"a",39:"a",40:"a",41:"a",42:"a"},safari:{4:"a x",5:"a x",6:"a",7:"a",8:"a",3.1:"a x",3.2:"a x",5.1:"a",6.1:"a",7.1:"a"},opera:{9:"n",11:"a",12:"a",15:"a",16:"a",17:"a",18:"a",19:"a",20:"a",21:"a",22:"a",23:"a",24:"a",25:"a",26:"a",27:"a",28:"a","9.5-9.6":"a","10.0-10.1":"a",10.5:"a",10.6:"a",11.1:"a",11.5:"a",11.6:"a",12.1:"a"},ios_saf:{8:"a",3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"a","6.0-6.1":"a","7.0-7.1":"a",8.1:"a"},op_mini:{"5.0-8.0":"a"},android:{3:"a x",4:"a",37:"a",2.1:"a x",2.2:"a x",2.3:"a x",4.1:"a","4.2-4.3":"a",4.4:"a","4.4.3-4.4.4":"a"},bb:{7:"a x",10:"a"},op_mob:{10:"a",11:"a",12:"a",24:"a",11.1:"a",11.5:"a",12.1:"a"},and_chr:{39:"a"},and_ff:{33:"y"},ie_mob:{10:"a",11:"a"},and_uc:{9.9:"a"}},window.caniuse.data["border-radius"]={ie:{6:"n",7:"n",8:"n",9:"y",10:"y",11:"y",5.5:"n",TP:"y"},firefox:{2:"a x",3:"y x",4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"y x",3.6:"y x"},chrome:{4:"y x",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"y x",5:"y",6:"y",7:"y",8:"y",3.1:"y x",3.2:"y x",5.1:"y",6.1:"y",7.1:"y"},opera:{9:"n",11:"y",12:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"n","10.0-10.1":"n",10.5:"y",10.6:"y",11.1:"y",11.5:"y",11.6:"y",12.1:"y"},ios_saf:{8:"y",3.2:"y x","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0-7.1":"y",8.1:"y"},op_mini:{"5.0-8.0":"n"},android:{3:"y",4:"y",37:"y",2.1:"y x",2.2:"y",2.3:"y",4.1:"y","4.2-4.3":"y",4.4:"y","4.4.3-4.4.4":"y"},bb:{7:"y",10:"y"},op_mob:{10:"n",11:"y",12:"y",24:"y",11.1:"y",11.5:"y",12.1:"y"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"y",11:"y"},and_uc:{9.9:"y"}},window.caniuse.data.transform={ie:{6:"n",7:"n",8:"n",9:"n",10:"a",11:"a",5.5:"n",TP:"y"},firefox:{2:"n",3:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"n",3.6:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x",33:"y x",34:"y x",35:"y x",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",3.1:"n",3.2:"n",5.1:"y x",6.1:"y x",7.1:"y x"},opera:{9:"n",11:"n",12:"n",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11.1:"n",11.5:"n",11.6:"n",12.1:"n"},ios_saf:{8:"y x",3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0-7.1":"y x",8.1:"y x"},op_mini:{"5.0-8.0":"n"},android:{3:"y x",4:"y x",37:"y",2.1:"n",2.2:"n",2.3:"n",4.1:"y x","4.2-4.3":"y x",4.4:"y x","4.4.3-4.4.4":"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",12:"n",24:"y",11.1:"n",11.5:"n",12.1:"n"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"a",11:"a"},and_uc:{9.9:"y x"}},window.caniuse.data["transform-origin"]={ie:{6:"n",7:"n",8:"n",9:"n",10:"a",11:"a",5.5:"n",TP:"y"},firefox:{2:"n",3:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"n",3.6:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x",33:"y x",34:"y x",35:"y x",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",3.1:"n",3.2:"n",5.1:"y x",6.1:"y x",7.1:"y x"},opera:{9:"n",11:"n",12:"n",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11.1:"n",11.5:"n",11.6:"n",12.1:"n"},ios_saf:{8:"y x",3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0-7.1":"y x",8.1:"y x"},op_mini:{"5.0-8.0":"n"},android:{3:"y x",4:"y x",37:"y",2.1:"n",2.2:"n",2.3:"n",4.1:"y x","4.2-4.3":"y x",4.4:"y x","4.4.3-4.4.4":"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",12:"n",24:"y",11.1:"n",11.5:"n",12.1:"n"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"a",11:"a"},and_uc:{9.9:"y x"}},window.caniuse.data["perspective-origin"]={ie:{6:"n",7:"n",8:"n",9:"n",10:"a",11:"a",5.5:"n",TP:"y"},firefox:{2:"n",3:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"n",3.6:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x",33:"y x",34:"y x",35:"y x",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",3.1:"n",3.2:"n",5.1:"y x",6.1:"y x",7.1:"y x"},opera:{9:"n",11:"n",12:"n",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11.1:"n",11.5:"n",11.6:"n",12.1:"n"},ios_saf:{8:"y x",3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0-7.1":"y x",8.1:"y x"},op_mini:{"5.0-8.0":"n"},android:{3:"y x",4:"y x",37:"y",2.1:"n",2.2:"n",2.3:"n",4.1:"y x","4.2-4.3":"y x",4.4:"y x","4.4.3-4.4.4":"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",12:"n",24:"y",11.1:"n",11.5:"n",12.1:"n"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"a",11:"a"},and_uc:{9.9:"y x"}},window.caniuse.data.perspective={ie:{6:"n",7:"n",8:"n",9:"n",10:"a",11:"a",5.5:"n",TP:"y"},firefox:{2:"n",3:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"n",3.6:"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y x",27:"y x",28:"y x",29:"y x",30:"y x",31:"y x",32:"y x",33:"y x",34:"y x",35:"y x",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",3.1:"n",3.2:"n",5.1:"y x",6.1:"y x",7.1:"y x"},opera:{9:"n",11:"n",12:"n",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11.1:"n",11.5:"n",11.6:"n",12.1:"n"},ios_saf:{8:"y x",3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0-7.1":"y x",8.1:"y x"},op_mini:{"5.0-8.0":"n"},android:{3:"y x",4:"y x",37:"y",2.1:"n",2.2:"n",2.3:"n",4.1:"y x","4.2-4.3":"y x",4.4:"y x","4.4.3-4.4.4":"y x"},bb:{7:"y x",10:"y x"},op_mob:{10:"n",11:"n",12:"n",24:"y",11.1:"n",11.5:"n",12.1:"n"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"a",11:"a"},and_uc:{9.9:"y x"}},window.caniuse.data.transition={ie:{6:"n",7:"n",8:"n",9:"n",10:"y",11:"y",5.5:"n",TP:"y"},firefox:{2:"n",3:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"n",3.6:"n"},chrome:{4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"y x",5:"y x",6:"y x",7:"y",8:"y",3.1:"y x",3.2:"y x",5.1:"y x",6.1:"y",7.1:"y"},opera:{9:"n",11:"y x",12:"y x",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"n","10.0-10.1":"n",10.5:"y x",10.6:"y x",11.1:"y x",11.5:"y x",11.6:"y x",12.1:"y"},ios_saf:{8:"y",3.2:"y x","4.0-4.1":"y x","4.2-4.3":"y x","5.0-5.1":"y x","6.0-6.1":"y x","7.0-7.1":"y",8.1:"y"},op_mini:{"5.0-8.0":"n"},android:{3:"y x",4:"y x",37:"y",2.1:"y x",2.2:"y x",2.3:"y x",4.1:"y x","4.2-4.3":"y x",4.4:"y","4.4.3-4.4.4":"y"},bb:{7:"y x",10:"y x"},op_mob:{10:"y x",11:"y x",12:"y x",24:"y",11.1:"y x",11.5:"y x",12.1:"y"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"y",11:"y"},and_uc:{9.9:"y x"}},window.caniuse.data.background={ie:{6:"n",7:"n",8:"n",9:"n",10:"y",11:"y",5.5:"n",TP:"y"},firefox:{2:"n",3:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"n",3.6:"y x"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"a x",5:"a x",6:"y x",7:"y",8:"y",3.1:"n",3.2:"n",5.1:"y x",6.1:"y",7.1:"y"},opera:{9:"n",11:"n",12:"y x",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11.1:"a x",11.5:"a x",11.6:"y x",12.1:"y"},ios_saf:{8:"y",3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"y x","6.0-6.1":"y x","7.0-7.1":"y",8.1:"y"},op_mini:{"5.0-8.0":"n"},android:{3:"a x",4:"y x",37:"y",2.1:"a x",2.2:"a x",2.3:"a x",4.1:"y x","4.2-4.3":"y x",4.4:"y","4.4.3-4.4.4":"y"},bb:{7:"a x",10:"y x"},op_mob:{10:"n",11:"n",12:"y x",24:"y",11.1:"a x",11.5:"a x",12.1:"y"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"y",11:"y"},and_uc:{9.9:"y x"}},window.caniuse.data["background-image"]={ie:{6:"n",7:"n",8:"n",9:"n",10:"y",11:"y",5.5:"n",TP:"y"},firefox:{2:"n",3:"n",4:"y x",5:"y x",6:"y x",7:"y x",8:"y x",9:"y x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"n",3.6:"y x"},chrome:{4:"a x",5:"a x",6:"a x",7:"a x",8:"a x",9:"a x",10:"y x",11:"y x",12:"y x",13:"y x",14:"y x",15:"y x",16:"y x",17:"y x",18:"y x",19:"y x",20:"y x",21:"y x",22:"y x",23:"y x",24:"y x",25:"y x",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"a x",5:"a x",6:"y x",7:"y",8:"y",3.1:"n",3.2:"n",5.1:"y x",6.1:"y",7.1:"y"},opera:{9:"n",11:"n",12:"y x",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"n","10.0-10.1":"n",10.5:"n",10.6:"n",11.1:"a x",11.5:"a x",11.6:"y x",12.1:"y"},ios_saf:{8:"y",3.2:"a x","4.0-4.1":"a x","4.2-4.3":"a x","5.0-5.1":"y x","6.0-6.1":"y x","7.0-7.1":"y",8.1:"y"},op_mini:{"5.0-8.0":"n"},android:{3:"a x",4:"y x",37:"y",2.1:"a x",2.2:"a x",2.3:"a x",4.1:"y x","4.2-4.3":"y x",4.4:"y","4.4.3-4.4.4":"y"},bb:{7:"a x",10:"y x"},op_mob:{10:"n",11:"n",12:"y x",24:"y",11.1:"a x",11.5:"a x",12.1:"y"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"y",11:"y"},and_uc:{9.9:"y x"}},window.caniuse.data["text-overflow"]={ie:{6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",5.5:"n",TP:"y"},firefox:{2:"p",3:"p",4:"p",5:"p",6:"p",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",3.5:"p",3.6:"p"},chrome:{4:"y",5:"y",6:"y",7:"y",8:"y",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y"},safari:{4:"y",5:"y",6:"y",7:"y",8:"y",3.1:"y",3.2:"y",5.1:"y",6.1:"y",7.1:"y"},opera:{9:"y x",11:"y",12:"y",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y","9.5-9.6":"y x","10.0-10.1":"y x",10.5:"y x",10.6:"y x",11.1:"y",11.5:"y",11.6:"y",12.1:"y"},ios_saf:{8:"y",3.2:"y","4.0-4.1":"y","4.2-4.3":"y","5.0-5.1":"y","6.0-6.1":"y","7.0-7.1":"y",8.1:"y"},op_mini:{"5.0-8.0":"y"},android:{3:"y",4:"y",37:"y",2.1:"y",2.2:"y",2.3:"y",4.1:"y","4.2-4.3":"y",4.4:"y","4.4.3-4.4.4":"y"},bb:{7:"y",10:"y"},op_mob:{10:"y x",11:"y x",12:"y x",24:"y",11.1:"y x",11.5:"y x",12.1:"y"},and_chr:{39:"y"},and_ff:{33:"y"},ie_mob:{10:"y",11:"y"},and_uc:{9.9:"y"}},$(function(){function a(){$(".about_us_tab").click(function(){var a=$(this).attr("id");
router.refresh({page:a});var b=h.find(".about_us_tab"),c=h.find(".about_us_tab_content"),d=h.find(".about_us_tab#"+a),e=h.find(".about_us_header_text#"+a),f=h.find(".about_us_tab_content#"+a),g=h.find(".about_us_header_text");g.removeClass("about_us_header_text_active"),e.addClass("about_us_header_text_active"),b.removeClass("about_us_active_tab"),c.removeClass("about_us_active_tab_content"),d.addClass("about_us_active_tab"),f.addClass("about_us_active_tab_content")});for(var a=0,b=!1,c=0;6>c;c++){var d=global_testimonials_list[c],e=$(".about_us_testimonials");0==a&&(b=$("<div>",{"class":".about_us_testimonial_row"}).appendTo(e));var f=d.name,g=d.text,i="";d.facebook&&(i+='<a target="_blank" href='+d.facebook+">",i+='<div class="about_us_testimonial_social_btn about_us_testimonial_facebook"></div>',i+="</a>"),d.twitter&&(i+='<a target="_blank" href='+d.twitter+">",i+='<div class="about_us_testimonial_social_btn about_us_testimonial_twitter"></div>',i+="</a>");var j="/img/testimonials/",k='<div class="about_us_testimonial">\n        <div class="about_us_testimonial_left">\n          <div class="about_us_testimonial_img_container"><img class="about_us_testimonial_img" src="'+j+d.img+'"></div>\n        </div>\n        <div class="about_us_testimonial_right">\n          <div class="about_us_testimonial_name">'+f+'</div>\n          <div class="about_us_testimonial_quot">'+g+'</div>\n          <div class="about_us_testimonial_socials">'+i+"</div>\n        </div>\n      </div>";b.append(k),a++,2==a&&(a=0)}}window.location.hash&&"#_=_"==window.location.hash&&(window.location.hash=""),window.enjoy_debug=!1;var b=router.unique_id;window.enjoyhint_instance={};var c=!1;window.enjoyhint_instance=new EnjoyHint({onStart:function(){c=!0},onEnd:function(){c=!1}});var d=[{selector:".header_button__new",event:"click",description:'Click the "New" button to start creating your project'},{selector:".tooltip_chooser_block",event_selector:".tooltip_templates__block,.tooltip_templates__input,.tooltip_templates__button",event:"click",description:"Choose the element type you need",timeout:200,margin:0},{selector:".panes",description:"Use the necessary CSS controls",event_type:"next"},{selector:".preview_background__add_state .enjoy__control_tooltip__span",event_type:"auto",event:"click"},{selector:".settings__tooltip",description:"You can choose the type of element, change the text inside it and edit the name of class. <br>You may also add pseudo states here",timeout:300,event_type:"next",margin:0},{selector:".header_button__save",event:"click",description:"Save your project"},{selector:".header_button_code",event:"click",description:"Get your CSS code!"}];window.enjoyhint_instance.setScript(d),cssg.init(b),ui.init(b);var e=!1,f=localStorage.getItem("page_liked"),g=!1;cssg.pointChangeCallback=function(){function a(){e=setTimeout(function(){c?a():(l.addClass("visible"),localStorage.setItem("page_liked","1"),e=!0)},1e4)}ui.layout.toUndo(),!e&&"1"!=f&&cssg.canSaveUndo&&g&&a(),cssg.canSaveUndo&&(g=!0)};var h=$("#about_us");0==h.length&&(h=$("<div>",{"class":"invisible"}).attr("id","about_us").append('<div class="about_us_tabs"> <div id="about" class="about_us_tab about_us_active_tab">About</div> <div id="team" class="about_us_tab">Team</div> <div id="testimonials" class="about_us_tab">Testimonials</div> </div> <div class="about_us_header"><span id="about" class="about_us_header_text about_us_header_text_active"><a href="http://xbsoftware.com/">XB Software</a> is an outsourcing IT company that renders top-notch services in web development, business analysis, quality assurance and search engine optimization (SEO).<br>It builds advanced solutions for business services, financial services, logistics and transportation, e-commerce and other industries.<br>The company also focuses on the development of its own products - EnjoyHint, XB Staff Manager, XBtrack, etc.</span><span id="team" class="about_us_header_text">The project was developed by an enthusiastic team that works at XB Software Ltd. We are:&nbsp;</span><span id="testimonials" class="about_us_header_text">Check what people say about EnjoyCSS. They like it!</span></div> <div class="about_us_tabs_content"> <div id="about" class="about_us_tab_content about_us_active_tab_content"> <div class="about_us_valera"></div>Its handy and easy-to-use UI allows you to adjust rich graphical styles quickly and without coding.<br><br>The main features:<br><br> <ul> <li>2D and 3D transforms</li> <li>multiple complex transitions</li> <li>multiple linear and radial gradients</li> <li>multiple box and text shadows</li> <li>custom fonts (including google fonts)</li> <li>and much more</li> </ul><br>Youll be able to play with all EnjoyCSS parameters just like in photoshop or illustarator (with sliders, colorpickers and etc) combining all possible CSS3 style capabilities for the same element. Moreover you can include pseudo states (:hover, :active, :focus, :after, :before) and style them as well.<br><br>All required CSS code will be automatically generated by EnjoyCSS.<br><br>You can easily copy-pase all the code into your environment or get the code for each style aspect separately, e.g., code for each gradient, shadow or transform.<br><br>EnjoyCSS has its own gallery of ready CSS solutions that can be used for your experiments with styles. This gallery includes buttons, text fields, shapes, gradient patterns that were made fully with CSS3.<br><br>For sure, EnjoyCSS delivers the required vendor prefixes, cross-browser compatibility, code quality and code size.<br><br>Appreciate your time and money! Let EnjoyCSS suffer doing great part of routine job for you, while you are enjoying your work and life.<br> </div> <div id="team" class="about_us_tab_content"> <div class="about_us_valera"></div> <div class="about_us_cool_team"></div> <div class="about_us_team_member"> <div class="about_us_team_member_img"><img src="/img/team/01.png"></div> <div class="about_us_team_member_label"><b>Dmitry Dudin</b> (creator of idea, web developer)</div> </div> <div class="about_us_team_member"> <div class="about_us_team_member_img"><img src="/img/team/05.png"></div> <div class="about_us_team_member_label"><b>Alexandr Lukashevich</b> (designer)</div> </div> <div class="about_us_team_member"> <div class="about_us_team_member_img"><img src="/img/team/02.png"></div> <div class="about_us_team_member_label"><b>Konstantin Myszkowski</b> (web developer)</div> </div> <div class="about_us_team_member"> <div class="about_us_team_member_img"><img src="/img/team/06.png"></div> <div class="about_us_team_member_label"><b>Pavel Valitski</b> (designer)</div> </div> <div class="about_us_team_member"> <div class="about_us_team_member_img"><img src="/img/team/03.png"></div> <div class="about_us_team_member_label"><b>Ilya Frolov</b> (web developer)</div> </div> <div class="about_us_team_member"> <div class="about_us_team_member_img"><img src="/img/team/07.png"></div> <div class="about_us_team_member_label"><b>Olga Volkova</b> (project manager)</div> </div> <div class="about_us_team_member"> <div class="about_us_team_member_img"><img src="/img/team/04.png"></div> <div class="about_us_team_member_label"><b>Veronika Lindorenko</b> (promoter)</div> </div> </div> <div id="testimonials" class="about_us_tab_content"> <div class="about_us_testimonials"></div> </div> </div> ').appendTo("body")),a();var i=function(a){a=a||"about",$("body").popup("open",{header:"",obj:h,overlay_transparent:!0,route_params:{page:a,page_params:""}}),h.find(".about_us_tab#"+a).click()};if("code"===router.page)ui.codeview.show(router.params_to_path());else if("gallery"===router.page){var j=router.page_params.length,k=router.page_params;1==j?ui.templates.show("category",{category_id:k[0]}):2==j?ui.templates.show("preview",{category_id:k[0],item_id:k[1]}):ui.templates.show()}else"help"===router.page?(window.enjoyhint_instance.setScript(d),window.enjoyhint_instance.runScript()):"about"===router.page||"team"===router.page||"testimonials"===router.page?(i(router.page),$(".enjoy_win").addClass("invisible"),$(".enjoy_popup_overlay").addClass("invisible"),$(".testimonials_popup_proceed").click(function(){$(".invisible").removeClass("invisible")})):ui.start.needShow()||router.refresh({page:""});$(".header_button__new").tooltip({settings:{content:ui.defaultTemplateChoose.view_tooltip,vertical:!0}});var l=$(".like_popup");l.find("> .like_close_btn").click(function(){l.removeClass("visible")}),$(".about_us_button").on("click",function(){i()}),$(".header_button__import").tooltip({settings:{content:ui.pages["import"].view,vertical:!0}}),$(".header_button__save").on("click",function(){ui.layout.saveRequest({sid:router.sid,data:JSON.stringify(cssg.getCurrentTemplate()),success:function(){cssg.saveControlPoint(),cssg.hasChangesAfterSave=!1}})}),$(".header_button__fork").on("click",function(){ui.layout.saveRequest({data:JSON.stringify(cssg.getCurrentTemplate()),success:function(){cssg.saveControlPoint()}})}),$(".header_button_code").on("click",function(a){a.stopPropagation(),a.preventDefault(),ui.codeview.show(ui.baseId)}),$(".header_button_templates").on("click",function(a){a.stopPropagation(),a.preventDefault(),ui.templates.show()}),$(".header_button_template_save").tooltip({settings:{content:ui.saveTemplateTooltip.view_tooltip,vertical:!0},onOpen:function(){ui.saveTemplateTooltip.set({id:!1,name:"",description:"",category:"buttons",onSaveBtnClick:function(a){var b={name:a.name,categories:a.category,description:a.description,data:JSON.stringify(cssg.getCurrentTemplate())},c="/template/save",d=$.post(c,b).error(function(){alert("error")});d.success(function(a){router.refresh({sid:a.sid,rid:0,reload:!0})})}})}}),$(document).keydown(function(a){90==a.keyCode&&a.ctrlKey&&($("body").triggerEnjoy("toggle","Undo..."),cssg.disableSettingsCallback=!0,cssg.undo(),ui.states.set(cssg.getSettings()),ui.panels.refreshAll(),ui.layout.undoRedoButtonsState(),cssg.disableSettingsCallback=!1)}),$(document).keydown(function(a){89==a.keyCode&&a.ctrlKey&&($("body").triggerEnjoy("toggle","Redo..."),cssg.disableSettingsCallback=!0,cssg.redo(),ui.states.set(cssg.getSettings()),ui.panels.refreshAll(),ui.layout.undoRedoButtonsState(),cssg.disableSettingsCallback=!1)}),$("#feedback_button").on("click",function(a){return a.preventDefault(),a.stopPropagation(),UE.Popin.show(),!1}).on("mouseover",function(){UE.Popin.preload()});var m=function(){setTimeout(function(){$("#ue-dlg-content").hide(),setTimeout(function(){$("#ue-dlg-content").show()},0)},1e3),$(this).off("click",m)};$("#feedback_button").on("click",m),ui.layout.previews_background_group=ui.panels.addGroup({container:$("#views_layout"),"class":"preview_background",path:cssg.currentEnjoyId+"|__settings|background"}),ui.controls.add("tooltip",{container:ui.layout.previews_background_group,"class":"preview_background__add_state",button:{"class":"icon_cog",html:"Settings"},settings:{"class":"settings__tooltip",content:ui.states.view,vertical:!0}});{var n=cssg.getLayoutType();ui.controls.add("chooser",{type:"radio",container:ui.layout.previews_background_group,"class":"preview_layout_chooser",options:[{val:"vertical",text:'<span class="icon_layout"></span>'},{val:"horizontal",text:'<span class="icon_layout2"></span>'},{val:"mixed",text:'<span class="icon_layout3"></span>'}],value:n,unselectable:!0},function(a){ui.layout.changePreviewsLayout(a)})}ui.layout.initPreviewBackgroundControls(),$(".accordion_header_state_name").html(cssg.getStatePreviewTitle(0)),$(".extension_button").tooltip({settings:{content:ui.extensionChoose.view_tooltip,vertical:!0}}),$(".help_button").click(function(){window.enjoyhint_instance.setScript(d),window.enjoyhint_instance.runScript()})}),!function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//platform.twitter.com/widgets.js",e.parentNode.insertBefore(d,e))}(document,"script","twitter-wjs"),!function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/all.js#xfbml=1&appId=414715178655747",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk"),!function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://apis.google.com/js/platform.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}();